(function (loader) {
  "use strict";
  if (typeof loader !== "function") {
      throw new Error("invalid window.__netlessJavaScriptLoader");
  }
  var lib = "link.netless/white-model-render";
  var id = lib + "/2.7.11-2.16.48.c29a1b92c1b76e4348c7ef96a2009246";
  try {
      var require = loader(lib);
      var module = { exports: {} };
      var exports = module.exports;
      Object.defineProperty(module.exports, "__esModule", { value: true });
      (function () {
          var C = function (n, t) {
              return function () {
                  return t || n((t = { exports: {} }).exports, t), t.exports;
              };
          };
          var Wu = C(function (Ya) {
              "use strict";
              Object.defineProperty(Ya, "__esModule", { value: !0 });
              Ya.RegisterImplement = void 0;
              var dr = require("boundless"),
                  Tf = require("mobx-react"),
                  ju = require("akko"),
                  Of = (function () {
                      function n() {
                          (this.backgroundEngine = dr.creatHTMLRenderEngine({ fixedSize: !0, isSVG: !1, orderIndex: 0, className: "background" })),
                              (this.htmlGraphicsEngine = dr.creatHTMLRenderEngine({ fixedSize: !0, isSVG: !0, orderIndex: 1, className: "graphics" })),
                              (this.canvasGraphicsEngine = dr.createCanvasRenderEngine({ fixedSize: !0, orderIndex: 2, renderMode: 1 })),
                              (this.topGraphicsEngine = dr.creatHTMLRenderEngine({ fixedSize: !0, isSVG: !1, orderIndex: 3, className: "graphics" })),
                              (this.pluginEngine = dr.creatHTMLRenderEngine({ fixedSize: !1, isSVG: !1, orderIndex: 4, className: "component" })),
                              (this.componentEngine = dr.creatHTMLRenderEngine({ fixedSize: !1, isSVG: !1, orderIndex: 5, className: "component" })),
                              (this.mouseCurosrEngine = dr.creatHTMLRenderEngine({ fixedSize: !1, isSVG: !1, orderIndex: 6 })),
                              (this.floatBarEngine = dr.creatHTMLRenderEngine({ fixedSize: !1, isSVG: !1, orderIndex: 7, className: "component" })),
                              (this.engineDefinitions = {}),
                              (this.payloadTypes = {}),
                              (this.definitionParamsMap = {});
                      }
                      return (
                          (n.prototype.defineReact = function (t, e) {
                              var r = this;
                              return function (i) {
                                  return (r.defineAndGetEngineDefinition(t, e).htmlRender = i), i;
                              };
                          }),
                          (n.prototype.defineCanvas = function (t, e) {
                              var r = this;
                              return function (i) {
                                  return (r.defineAndGetEngineDefinition(t, e).canvasConstructor = i), i;
                              };
                          }),
                          (n.prototype.defineAndGetEngineDefinition = function (t, e) {
                              var r = this.engineDefinitions[t.id];
                              r || (r = this.engineDefinitions[t.id] = {});
                              var i = ju.findClassId(e),
                                  A = r[i];
                              return A || (A = r[i] = {}), (this.payloadTypes[i] = e), A;
                          }),
                          (n.prototype.defineComponent = function (t, e) {
                              var r = ju.findClassId(t);
                              this.definitionParamsMap[r] = e;
                          }),
                          (n.prototype.complete = function () {
                              for (var t = {}, e = this.engines(), r = 0, i = e; r < i.length; r++) {
                                  var A = i[r],
                                      a = this.engineDefinitions[A.id];
                                  if (a)
                                      for (var o in a) {
                                          var s = a[o],
                                              l = s.htmlRender,
                                              u = s.canvasConstructor,
                                              c = this.getOrCreateComponentDefinition(t, parseInt(o, 10)).definition;
                                          l && dr.isHTMLRenderEngine(A) ? A.bind(c)(Tf.observer(l)) : u && dr.isCanvasRenderEngine(A) && A.bind(c, u);
                                      }
                              }
                              var p = [];
                              for (var o in t) p.push(t[o]);
                              return this.clean(), p;
                          }),
                          (n.prototype.engines = function (t) {
                              var e = [this.backgroundEngine, this.topGraphicsEngine, this.pluginEngine, this.componentEngine, this.mouseCurosrEngine, this.floatBarEngine];
                              switch (t) {
                                  case "svg": {
                                      e.push(this.htmlGraphicsEngine);
                                      break;
                                  }
                                  case "canvas": {
                                      e.push(this.canvasGraphicsEngine);
                                      break;
                                  }
                                  default:
                                      e.push(this.htmlGraphicsEngine), e.push(this.canvasGraphicsEngine);
                              }
                              return e;
                          }),
                          (n.prototype.getOrCreateComponentDefinition = function (t, e) {
                              var r = t[e];
                              if (!r) {
                                  var i = this.payloadTypes[e],
                                      A = this.definitionParamsMap[e];
                                  A || (A = { name: i.name }),
                                      (r = t[e] = Object.freeze({ definition: dr.createComponentDefinition(A), payloadType: i, disableVisionTrim: !!A.disableVisionTrim, findTarget: A.findTarget, getApplianceRect: A.getApplianceRect }));
                              }
                              return r;
                          }),
                          (n.prototype.clean = function () {
                              for (var t in this.engineDefinitions) delete this.engineDefinitions[t];
                              for (var t in this.payloadTypes) delete this.payloadTypes[t];
                              for (var t in this.definitionParamsMap) delete this.definitionParamsMap[t];
                          }),
                          n
                      );
                  })();
              Ya.RegisterImplement = Of;
          });
          var ge = C(function (Fa) {
              "use strict";
              Object.defineProperty(Fa, "__esModule", { value: !0 });
              Fa.register = void 0;
              var Ef = Wu();
              Fa.register = new Ef.RegisterImplement();
          });
          var Zs = C(function (Le) {
              "use strict";
              var Gf =
                      (Le && Le.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  Ws =
                      (Le && Le.__assign) ||
                      function () {
                          return (
                              (Ws =
                                  Object.assign ||
                                  function (n) {
                                      for (var t, e = 1, r = arguments.length; e < r; e++) {
                                          t = arguments[e];
                                          for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                      }
                                      return n;
                                  }),
                              Ws.apply(this, arguments)
                          );
                      },
                  jf =
                      (Le && Le.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  Wf =
                      (Le && Le.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  Zf =
                      (Le && Le.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  Vf =
                      (Le && Le.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && jf(t, n, e);
                          return Wf(t, n), t;
                      };
              Object.defineProperty(Le, "__esModule", { value: !0 });
              Le.FloatBarEditorRectangleSpaceComponent = Le.floatBarDefinition = void 0;
              var Zu = Vf(require("react")),
                  If = require("boundless"),
                  Xf = ge();
              Le.floatBarDefinition = If.createComponentDefinition({ name: "FloatBar", hitTest: !1 });
              var kf = (function (n) {
                  Gf(t, n);
                  function t() {
                      return (n !== null && n.apply(this, arguments)) || this;
                  }
                  return (
                      (t.willInterruptEvent = function (e, r) {
                          var i = e.context.floatBarClass;
                          return i && i.willInterruptEvent ? i.willInterruptEvent(e, r) : !1;
                      }),
                      (t.prototype.isTargetOnScreen = function () {
                          var e = this.props.payload,
                              r = e.rectangle,
                              i = e.screenSize,
                              A = r.originX,
                              a = A + r.width;
                          if (a <= 0 || A >= i.width) return !1;
                          var o = r.originY,
                              s = o + r.height;
                          return !(s <= 0 || o >= i.height);
                      }),
                      (t.prototype.render = function () {
                          var e = this.props,
                              r = e.cnode,
                              i = e.payload,
                              A = e.context,
                              a = A.view,
                              o = A.floatBarClass;
                          return o && this.isTargetOnScreen() ? Zu.createElement(o, Ws({}, i, { cnode: r, view: a })) : null;
                      }),
                      (t = Zf([Xf.register.floatBarEngine.bind(Le.floatBarDefinition)], t)),
                      t
                  );
              })(Zu.Component);
              Le.FloatBarEditorRectangleSpaceComponent = kf;
          });
          var Vs = C(function (Vu) {
              "use strict";
              Object.defineProperty(Vu, "__esModule", { value: !0 });
          });
          var Qa = C(function (za) {
              "use strict";
              Object.defineProperty(za, "__esModule", { value: !0 });
              za.inCircle = void 0;
              var Iu = require("akko").__context("module"),
                  Xu = Iu.getter;
              function Nf(n, t, e, r) {
                  var i = e - Xu(n, "x"),
                      A = r - Xu(n, "y");
                  return i * i + A * A <= t * t;
              }
              za.inCircle = Nf;
              Iu = null;
          });
          var ia = C(function (ra) {
              "use strict";
              Object.defineProperty(ra, "__esModule", { value: !0 });
              ra.RectangleTestingResult = void 0;
              var Hf;
              (function (n) {
                  (n[(n.Disjoint = 0)] = "Disjoint"), (n[(n.Cross = 1)] = "Cross"), (n[(n.IncludeRectangle = 2)] = "IncludeRectangle"), (n[(n.IncludeByRectangle = 3)] = "IncludeByRectangle");
              })((Hf = ra.RectangleTestingResult || (ra.RectangleTestingResult = {})));
          });
          var na = C(function (ve) {
              "use strict";
              var Is =
                  (ve && ve.__assign) ||
                  function () {
                      return (
                          (Is =
                              Object.assign ||
                              function (n) {
                                  for (var t, e = 1, r = arguments.length; e < r; e++) {
                                      t = arguments[e];
                                      for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                  }
                                  return n;
                              }),
                          Is.apply(this, arguments)
                      );
                  };
              Object.defineProperty(ve, "__esModule", { value: !0 });
              ve.meansOverlap = ve.pointByProject = ve.projectionPoint = ve.triangleArea = ve.multiply = ve.plus = ve.unitVector = ve.isZero = ve.dotProduct = ve.verticalVector = ve.distance = ve.linearDistance = void 0;
              var eA = require("akko").__context("module"),
                  Zi = eA.caller,
                  U = eA.getter,
                  qa = eA.creator,
                  tA = eA.setter,
                  Df = eA.unwrapper;
              function Yf(n, t) {
                  return Zi(Math, "abs", [U(n, "x") - U(t, "x")]) + Zi(Math, "abs", [U(n, "y") - U(t, "y")]);
              }
              ve.linearDistance = Yf;
              function Ff(n, t) {
                  var e = U(n, "x") - U(t, "x"),
                      r = U(n, "y") - U(t, "y");
                  return Zi(Math, "sqrt", [e * e + r * r]);
              }
              ve.distance = Ff;
              function zf(n) {
                  var t = U(n, "x"),
                      e = U(n, "y");
                  return qa({ x: -e, y: t });
              }
              ve.verticalVector = zf;
              function Qf(n, t) {
                  return U(n, "x") * U(t, "x") + U(n, "y") * U(t, "y");
              }
              ve.dotProduct = Qf;
              function qf(n) {
                  return Zi(Math, "abs", [n]) < 1e-6;
              }
              ve.isZero = qf;
              function Uf(n) {
                  var t = Zi(Math, "sqrt", [U(n, "x") * U(n, "x") + U(n, "y") * U(n, "y")]);
                  return tA(n, "x", U(n, "x") / t), tA(n, "y", U(n, "y") / t), n;
              }
              ve.unitVector = Uf;
              function Lf(n, t) {
                  return qa({ x: U(n, "x") + U(t, "x"), y: U(n, "y") + U(t, "y") });
              }
              ve.plus = Lf;
              function Jf(n, t) {
                  return qa({ x: n * U(t, "x"), y: n * U(t, "y") });
              }
              ve.multiply = Jf;
              function Kf(n, t, e) {
                  var r = 0;
                  return (r += (U(t, "y") + U(n, "y")) * (U(t, "x") - U(n, "x"))), (r += (U(e, "y") + U(t, "y")) * (U(e, "x") - U(t, "x"))), (r += (U(n, "y") + U(e, "y")) * (U(n, "x") - U(e, "x"))), Zi(Math, "abs", [r]) / 2;
              }
              ve.triangleArea = Kf;
              function $f(n, t, e) {
                  return (U(e, "x") - U(n, "x")) * U(t, "x") + (U(e, "y") - U(n, "y")) * U(t, "y");
              }
              ve.projectionPoint = $f;
              function eg(n, t, e) {
                  var r = qa(Is({}, Df(t)));
                  return tA(r, "x", U(r, "x") * e), tA(r, "y", U(r, "y") * e), tA(r, "x", U(r, "x") + U(n, "x")), tA(r, "y", U(r, "y") + U(n, "y")), r;
              }
              ve.pointByProject = eg;
              function tg(n) {
                  var t = U(n, "x"),
                      e = U(n, "y");
                  return Zi(Number, "isNaN", [t]) && Zi(Number, "isNaN", [e]);
              }
              ve.meansOverlap = tg;
              eA = null;
          });
          var Ua = C(function (iA) {
              "use strict";
              var rg =
                  (iA && iA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(iA, "__esModule", { value: !0 });
              iA.RectangleTester = void 0;
              var rA = require("akko").__context("module"),
                  Aa = rA.creator,
                  ku = rA.caller,
                  it = rA.getter,
                  nt = ia(),
                  Nu = (function (n) {
                      rg(t, n);
                      function t() {
                          return (n !== null && n.apply(this, arguments)) || this;
                      }
                      return (
                          (t.testPoint = function (e, r, i, A, a, o) {
                              var s = e + i,
                                  l = r + A;
                              return a >= e && a <= s && o >= r && o <= l;
                          }),
                          (t.iterate = function (e, r, i, A, a) {
                              a(e, r), a(e + i, r), a(e + i, r + A), a(e, r + A);
                          }),
                          (t.allPoints = function (e, r, i, A) {
                              return Aa([Aa({ x: e, y: r }), Aa({ x: e + i, y: r }), Aa({ x: e + i, y: r + A }), Aa({ x: e, y: r + A })]);
                          }),
                          (t.testRect = function (e, r, i, A, a, o, s, l) {
                              var u = ku(this, "testSegment", [e, e + i, a, a + s]),
                                  c = ku(this, "testSegment", [r, r + A, o, o + l]);
                              return u === it(nt.RectangleTestingResult, "Disjoint") || c === it(nt.RectangleTestingResult, "Disjoint")
                                  ? it(nt.RectangleTestingResult, "Disjoint")
                                  : u === it(nt.RectangleTestingResult, "Cross") || c === it(nt.RectangleTestingResult, "Cross")
                                  ? it(nt.RectangleTestingResult, "Cross")
                                  : u === it(nt.RectangleTestingResult, "IncludeRectangle") && c === it(nt.RectangleTestingResult, "IncludeRectangle")
                                  ? it(nt.RectangleTestingResult, "IncludeRectangle")
                                  : u === it(nt.RectangleTestingResult, "IncludeByRectangle") && c === it(nt.RectangleTestingResult, "IncludeByRectangle")
                                  ? it(nt.RectangleTestingResult, "IncludeByRectangle")
                                  : it(nt.RectangleTestingResult, "Cross");
                          }),
                          (t.testSegment = function (e, r, i, A) {
                              var a = e > i;
                              if (a) {
                                  var o = e,
                                      s = r;
                                  (e = i), (i = o), (r = A), (A = s);
                              }
                              return r < i
                                  ? it(nt.RectangleTestingResult, "Disjoint")
                                  : r < A
                                  ? it(nt.RectangleTestingResult, "Cross")
                                  : a
                                  ? it(nt.RectangleTestingResult, "IncludeByRectangle")
                                  : it(nt.RectangleTestingResult, "IncludeRectangle");
                          }),
                          t
                      );
                  })(rA.baseClass());
              iA.RectangleTester = Nu;
              rA.declareClass({ classId: 13, clazz: Nu });
              rA = null;
          });
          var Ja = C(function (nA) {
              "use strict";
              var ig =
                  (nA && nA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(nA, "__esModule", { value: !0 });
              nA.ConvexPolygonTester = void 0;
              var Tn = require("akko").__context("module"),
                  La = Tn.creator,
                  ct = Tn.caller,
                  X = Tn.getter,
                  ng = Tn.unwrapper,
                  Hu = na(),
                  aa = ia(),
                  Xs = Ua(),
                  Du = (function (n) {
                      ig(t, n);
                      function t() {
                          var e = (n !== null && n.apply(this, arguments)) || this;
                          return (e.points = La([])), e;
                      }
                      return (
                          (t.prototype.pushPoint = function (e) {
                              ct(X(this, "points"), "push", [e]);
                          }),
                          (t.prototype.pointHitTest = function (e, r) {
                              for (var i = 0; i < X(X(this, "points"), "length"); ++i) {
                                  var A = X(X(this, "points"), i),
                                      a = X(X(this, "points"), (i + 1) % X(X(this, "points"), "length")),
                                      o = La({ x: X(a, "x") - X(A, "x"), y: X(a, "y") - X(A, "y") });
                                  if (X(o, "x") !== 0 || X(o, "y") !== 0) {
                                      var s = ct(Hu, "verticalVector", [o]),
                                          l = La({ x: e - X(A, "x"), y: r - X(A, "y") }),
                                          u = ct(Hu, "dotProduct", [s, l]);
                                      if (u < 0) return !1;
                                  }
                              }
                              return !0;
                          }),
                          (t.prototype.rectHitTest = function (e, r, i, A) {
                              var a = this,
                                  o = !1,
                                  s = !1;
                              if (
                                  (ct(Xs.RectangleTester, "iterate", [
                                      e,
                                      r,
                                      i,
                                      A,
                                      function (M, E) {
                                          ct(a, "pointHitTest", [M, E]) ? (o = !0) : (s = !0);
                                      },
                                  ]),
                                  o && s)
                              )
                                  return X(aa.RectangleTestingResult, "Cross");
                              if (o) return X(aa.RectangleTestingResult, "IncludeRectangle");
                              if (s) {
                                  for (var l = 0; l < X(X(this, "points"), "length"); ++l)
                                      for (var u = X(X(this, "points"), l), c = X(X(this, "points"), (l + 1) % X(X(this, "points"), "length")), p = ct(Xs.RectangleTester, "allPoints", [e, r, i, A]), h = 0; h < X(p, "length"); ++h) {
                                          var v = X(p, h),
                                              y = X(p, (h + 1) % X(p, "length"));
                                          if (ct(this, "findCrossPoint", [u, c, v, y])) return X(aa.RectangleTestingResult, "Cross");
                                      }
                                  for (var _ = 0, B = ng(X(this, "points")); _ < B.length; _++) {
                                      var S = B[_];
                                      if (ct(Xs.RectangleTester, "testPoint", [e, r, i, A, X(S, "x"), X(S, "y")])) return X(aa.RectangleTestingResult, "IncludeByRectangle");
                                  }
                              }
                              return X(aa.RectangleTestingResult, "Disjoint");
                          }),
                          (t.prototype.findCrossPoint = function (e, r, i, A) {
                              var a = X(r, "y") - X(e, "y"),
                                  o = X(e, "x") - X(r, "x"),
                                  s = X(e, "x") * (X(e, "y") - X(r, "y")) - X(e, "y") * (X(e, "x") - X(r, "x")),
                                  l = X(A, "y") - X(i, "y"),
                                  u = X(i, "x") - X(A, "x"),
                                  c = X(i, "x") * (X(i, "y") - X(A, "y")) - X(i, "y") * (X(i, "x") - X(A, "x")),
                                  p = a * u - l * o,
                                  h = (o * c - u * s) / p,
                                  v = (l * s - a * c) / p;
                              if (ct(Math, "abs", [h]) === 1 / 0 || ct(Math, "abs", [v]) === 1 / 0 || ct(Number, "isNaN", [h]) || ct(Number, "isNaN", [v])) return !1;
                              var y = La({ x: h, y: v }),
                                  _ = ct(this, "isCrossPointBetweenSegment", [y, e, r]) && ct(this, "isCrossPointBetweenSegment", [y, i, A]);
                              return !!_;
                          }),
                          (t.prototype.isCrossPointBetweenSegment = function (e, r, i) {
                              var A = (X(e, "x") - X(r, "x")) * (X(e, "x") - X(i, "x")),
                                  a = (X(e, "y") - X(r, "y")) * (X(e, "y") - X(i, "y")),
                                  o = ct(Math, "abs", [A]) < 0.01,
                                  s = ct(Math, "abs", [a]) < 0.01;
                              return o && s ? A <= 0 && a <= 0 : (A <= 0 || o) && (a <= 0 || s);
                          }),
                          t
                      );
                  })(Tn.baseClass());
              nA.ConvexPolygonTester = Du;
              Tn.declareClass({ classId: 10, clazz: Du });
              Tn = null;
          });
          var Ns = C(function (AA) {
              "use strict";
              var Ag =
                  (AA && AA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(AA, "__esModule", { value: !0 });
              AA.SectorTester = void 0;
              var On = require("akko").__context("module"),
                  Yu = On.setter,
                  oa = On.creator,
                  me = On.getter,
                  Vi = On.caller,
                  ks = na(),
                  Fu = (function (n) {
                      Ag(t, n);
                      function t(e, r, i) {
                          var A = n.call(this) || this;
                          return (A.originPoint = i), Yu(A, "beginVector", oa({ x: me(e, "x") - me(i, "x"), y: me(e, "y") - me(i, "y") })), Yu(A, "endVector", oa({ x: me(r, "x") - me(i, "x"), y: me(r, "y") - me(i, "y") })), A;
                      }
                      return (
                          (t.prototype.hitTest = function (e, r) {
                              var i = oa({ x: e - me(me(this, "originPoint"), "x"), y: r - me(me(this, "originPoint"), "y") }),
                                  A = Vi(Math, "atan2", [me(me(this, "beginVector"), "y"), me(me(this, "beginVector"), "x")]),
                                  a = Vi(Math, "atan2", [me(me(this, "endVector"), "y"), me(me(this, "endVector"), "x")]),
                                  o = Vi(Math, "atan2", [me(i, "y"), me(i, "x")]),
                                  s = Vi(this, "radiusIncrement", [o, A]),
                                  l = Vi(this, "radiusIncrement", [a, A]);
                              if (s > l) return !1;
                              var u = oa({ x: 0, y: 0 }),
                                  c = Vi(ks, "distance", [oa({ x: e, y: r }), me(this, "originPoint")]),
                                  p = Vi(ks, "distance", [me(this, "beginVector"), u]),
                                  h = Vi(ks, "distance", [me(this, "endVector"), u]),
                                  v = p + (h - p) * (s / l);
                              return c <= v;
                          }),
                          (t.prototype.radiusIncrement = function (e, r) {
                              var i = r - e;
                              return i >= 2 * me(Math, "PI") ? (i -= 2 * me(Math, "PI")) : i < 0 && (i += 2 * me(Math, "PI")), i;
                          }),
                          t
                      );
                  })(On.baseClass());
              AA.SectorTester = Fu;
              On.declareClass({ classId: 14, clazz: Fu });
              On = null;
          });
          var Hs = C(function (aA) {
              "use strict";
              var ag =
                  (aA && aA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(aA, "__esModule", { value: !0 });
              aA.PolylineTester = void 0;
              var En = require("akko").__context("module"),
                  zu = En.creator,
                  Ke = En.caller,
                  At = En.getter,
                  og = En.wrapper,
                  Tr = na(),
                  sg = Ja(),
                  lg = Qa(),
                  Qu = (function (n) {
                      ag(t, n);
                      function t() {
                          var e = (n !== null && n.apply(this, arguments)) || this;
                          return (e.points = zu([])), e;
                      }
                      return (
                          (t.prototype.pushPoint = function (e) {
                              Ke(At(this, "points"), "push", [e]);
                          }),
                          (t.prototype.hitTest = function (e, r, i) {
                              return Ke(this, "hitAnySegments", [e, r, i]) || Ke(this, "hitAnyNodeCircles", [e, r, i]);
                          }),
                          (t.prototype.hitAnySegments = function (e, r, i) {
                              for (var A = e / 2, a = 1; a < At(At(this, "points"), "length"); ++a) {
                                  var o = At(At(this, "points"), a - 1),
                                      s = At(At(this, "points"), a),
                                      l = zu({ x: At(s, "x") - At(o, "x"), y: At(s, "y") - At(o, "y") });
                                  if (!Ke(Tr, "isZero", [At(l, "x")]) || !Ke(Tr, "isZero", [At(l, "y")])) {
                                      var u = Ke(Tr, "unitVector", [Ke(Tr, "verticalVector", [l])]),
                                          c = og(new sg.ConvexPolygonTester()),
                                          p = Ke(Tr, "multiply", [-A, u]),
                                          h = Ke(Tr, "multiply", [A, u]);
                                      if (
                                          (Ke(c, "pushPoint", [Ke(Tr, "plus", [o, h])]),
                                          Ke(c, "pushPoint", [Ke(Tr, "plus", [o, p])]),
                                          Ke(c, "pushPoint", [Ke(Tr, "plus", [s, p])]),
                                          Ke(c, "pushPoint", [Ke(Tr, "plus", [s, h])]),
                                          Ke(c, "pointHitTest", [r, i]))
                                      )
                                          return !0;
                                  }
                              }
                              return !1;
                          }),
                          (t.prototype.hitAnyNodeCircles = function (e, r, i) {
                              for (var A = 0; A < At(At(this, "points"), "length"); ++A) {
                                  var a = At(At(this, "points"), A);
                                  if (lg.inCircle(a, e / 2, r, i)) return !0;
                              }
                              return !1;
                          }),
                          t
                      );
                  })(En.baseClass());
              aA.PolylineTester = Qu;
              En.declareClass({ classId: 12, clazz: Qu });
              En = null;
          });
          var Gn = C(function (fr) {
              "use strict";
              var ug =
                      (fr && fr.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  Ds =
                      (fr && fr.__exportStar) ||
                      function (n, t) {
                          for (var e in n) e !== "default" && !t.hasOwnProperty(e) && ug(t, n, e);
                      };
              Object.defineProperty(fr, "__esModule", { value: !0 });
              var cg = Qa();
              Object.defineProperty(fr, "inCircle", {
                  enumerable: !0,
                  get: function () {
                      return cg.inCircle;
                  },
              });
              var pg = ia();
              Object.defineProperty(fr, "RectangleTestingResult", {
                  enumerable: !0,
                  get: function () {
                      return pg.RectangleTestingResult;
                  },
              });
              Ds(Ja(), fr);
              Ds(Ns(), fr);
              Ds(Hs(), fr);
          });
          var Lu = C(function (Ii) {
              "use strict";
              var hg =
                      (Ii && Ii.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  qu =
                      (Ii && Ii.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(Ii, "__esModule", { value: !0 });
              Ii.ApplianceComponent = void 0;
              var jn = require("akko").__context("module"),
                  gr = jn.getter,
                  vr = jn.caller,
                  dg = jn.wrapper,
                  Ka = jn.creator,
                  oA = require("akko"),
                  Ys = Gn(),
                  Uu = (function (n) {
                      hg(t, n);
                      function t() {
                          return (n !== null && n.apply(this, arguments)) || this;
                      }
                      return (
                          Object.defineProperty(t.prototype, "key", {
                              get: function () {
                                  return oA.findIdentifierWith(this);
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "identifier", {
                              get: function () {
                                  return oA.findIdentifierWith(this);
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.rectHitTestContent = function (e, r, i, A, a, o) {
                              return e;
                          }),
                          (t.prototype.rectHitTest = function (e, r, i, A) {
                              var a = gr(this, "hitTestingBoxMargin"),
                                  o = vr(this, "rectangleTester", [a]),
                                  s = vr(o, "rectHitTest", [e, r, i, A]);
                              if (s === gr(Ys.RectangleTestingResult, "Disjoint") || s === gr(Ys.RectangleTestingResult, "IncludeByRectangle")) return s;
                              var l = e - gr(this, "originX"),
                                  u = r - gr(this, "originY"),
                                  c = e + i - gr(this, "originX"),
                                  p = r + A - gr(this, "originY"),
                                  h = vr(Math, "min", [l, c]),
                                  v = vr(Math, "min", [u, p]),
                                  y = vr(Math, "abs", [l - c]),
                                  _ = vr(Math, "abs", [u - p]);
                              return vr(this, "rectHitTestContent", [s, h, v, y, _, a]);
                          }),
                          (t.prototype.rectangleTester = function (e) {
                              var r = dg(new Ys.ConvexPolygonTester()),
                                  i = gr(this, "originX") - e,
                                  A = gr(this, "originY") - e,
                                  a = gr(this, "width") + 2 * e,
                                  o = gr(this, "height") + 2 * e;
                              return vr(r, "pushPoint", [Ka({ x: i, y: A })]), vr(r, "pushPoint", [Ka({ x: i + a, y: A })]), vr(r, "pushPoint", [Ka({ x: i + a, y: A + o })]), vr(r, "pushPoint", [Ka({ x: i, y: A + o })]), r;
                          }),
                          qu([oA.noEffects], t.prototype, "key", null),
                          qu([oA.noEffects], t.prototype, "identifier", null),
                          t
                      );
                  })(jn.baseClass());
              Ii.ApplianceComponent = Uu;
              jn.declareClass({ classId: 6, clazz: Uu, memberDecorators: { key: [oA.noEffects], identifier: [oA.noEffects] } });
              jn = null;
          });
          var Wn = C(function (Xi) {
              "use strict";
              var fg =
                      (Xi && Xi.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  Ju =
                      (Xi && Xi.__exportStar) ||
                      function (n, t) {
                          for (var e in n) e !== "default" && !t.hasOwnProperty(e) && fg(t, n, e);
                      };
              Object.defineProperty(Xi, "__esModule", { value: !0 });
              Ju(Vs(), Xi);
              Ju(Lu(), Xi);
          });
          var yt = C(function (ki) {
              "use strict";
              var gg =
                      (ki && ki.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  Fs =
                      (ki && ki.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(ki, "__esModule", { value: !0 });
              ki.Editable = void 0;
              var vi = require("akko").__context("module"),
                  Ku = vi.creator,
                  mt = vi.setter,
                  zs = vi.wrapper,
                  er = vi.caller,
                  Ne = vi.getter,
                  vg = vi.remover,
                  mr = require("akko"),
                  $u = Wn(),
                  ec = (function (n) {
                      gg(t, n);
                      function t(e) {
                          var r = n.call(this) || this;
                          return (r.highlightAuthorIds = Ku([])), mt(r, "context", e), mt(r, "_protoKey", er(mr, "findIdentifierWith", [zs(r)])), r;
                      }
                      return (
                          Object.defineProperty(t.prototype, "isRotable", {
                              get: function () {
                                  return !1;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "protoKey", {
                              get: function () {
                                  return Ne(this, "_protoKey") ? Ne(this, "_protoKey") : er(mr, "findIdentifierWith", [zs(this)]);
                              },
                              set: function (e) {
                                  mt(this, "_protoKey", e);
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "displayRotation", {
                              get: function () {
                                  var e = Ne(this, "_displayRotation");
                                  return e === void 0 && (e = 0), e;
                              },
                              set: function (e) {
                                  mt(this, "_displayRotation", e);
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.isHighlightBy = function (e) {
                              return er(Ne(this, "highlightAuthorIds"), "indexOf", [e]) !== -1;
                          }),
                          (t.prototype.setHighlightBy = function (e, r) {
                              er(this, "authorsPropertySetValue", [Ne(this, "highlightAuthorIds"), e, r]);
                          }),
                          (t.prototype.commitRotation = function (e) {
                              mt(this, "rotation", void 0);
                          }),
                          (t.prototype.snapshot = function () {
                              var e = Ne(this, "context"),
                                  r = Ne(this, "selectedBy"),
                                  i = Ne(this, "highlightAuthorIds");
                              vg(this, "context"), mt(this, "selectedBy", void 0), mt(this, "highlightAuthorIds", Ku([]));
                              var A = !1,
                                  a = er(er(mr, "getSnapshot", []), "createSnapshot", [zs(this), A]);
                              return mt(this, "context", e), mt(this, "selectedBy", r), mt(this, "highlightAuthorIds", i), a;
                          }),
                          (t.recover = function (e, r) {
                              var i = er(er(mr, "getSnapshot", []), "recoverWithSnapshot", [r]);
                              return mt(i, "context", e), i;
                          }),
                          Object.defineProperty(t.prototype, "isNotRotating", {
                              get: function () {
                                  return Ne(this, "rotation") === void 0;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.keepUniformScale = function (e) {
                              if (Ne(this, "width") !== 0 && Ne(this, "height") !== 0) {
                                  var r = Ne(this, "width") / Ne(e, "width"),
                                      i = Ne(this, "height") / Ne(e, "height"),
                                      A = er(Math, "min", [r, i]),
                                      a = Ne(e, "width") * A,
                                      o = Ne(e, "height") * A;
                                  mt(this, "originX", Ne(this, "originX") + (Ne(this, "width") - a) / 2), mt(this, "originY", Ne(this, "originY") + (Ne(this, "height") - o) / 2), mt(this, "width", a), mt(this, "height", o);
                              }
                          }),
                          (t.prototype.authorsPropertySetValue = function (e, r, i) {
                              var A = er(e, "indexOf", [i]);
                              r ? A === -1 && er(e, "push", [i]) : A !== -1 && er(e, "splice", [A, 1]);
                          }),
                          Fs([mr.noEffects], t.prototype, "isRotable", null),
                          Fs([mr.noEffects], t.prototype, "protoKey", null),
                          Fs([mr.noEffects], t.prototype, "displayRotation", null),
                          t
                      );
                  })(vi.wrapSuperClass($u.ApplianceComponent));
              ki.Editable = ec;
              vi.declareClass({ classId: 38, clazz: ec, superClass: $u.ApplianceComponent, memberDecorators: { isRotable: [mr.noEffects], protoKey: [mr.noEffects], displayRotation: [mr.noEffects], isHighlightBy: [mr.noEffects] } });
              vi = null;
          });
          var Zn = C(function (Or) {
              "use strict";
              var mg =
                      (Or && Or.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  yr =
                      (Or && Or.__assign) ||
                      function () {
                          return (
                              (yr =
                                  Object.assign ||
                                  function (n) {
                                      for (var t, e = 1, r = arguments.length; e < r; e++) {
                                          t = arguments[e];
                                          for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                      }
                                      return n;
                                  }),
                              yr.apply(this, arguments)
                          );
                      },
                  Ni =
                      (Or && Or.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(Or, "__esModule", { value: !0 });
              Or.TextareaShape = void 0;
              var Hi = require("akko").__context("module"),
                  Re = Hi.creator,
                  ye = Hi.setter,
                  tr = Hi.caller,
                  O = Hi.getter,
                  br = Hi.unwrapper,
                  at = require("akko"),
                  tc = yt(),
                  rc = (function (n) {
                      mg(t, n);
                      function t(e, r, i) {
                          var A = n.call(this, e) || this;
                          (A.originX = 0),
                              (A.originY = 0),
                              (A.width = 0),
                              (A.height = 0),
                              (A.textSize = 16),
                              (A.textareaBox = Re({ scale: 1, width: 0, height: 0, originalText: "", textLines: Re([]) })),
                              (A.stateBeforeEdited = void 0),
                              (A._editedBy = void 0),
                              (A._isWaitingFirstText = !0),
                              ye(A, "originX", r),
                              ye(A, "originY", i);
                          var a = !1,
                              o = !1,
                              s = !1,
                              l = !1,
                              u = tr(e, "getMemberState", []),
                              c = O(u, "textColor") || O(u, "strokeColor");
                          return (
                              "bold" in br(u) && (a = !!O(u, "bold")),
                              "italic" in br(u) && (o = !!O(u, "italic")),
                              "underline" in br(u) && (s = !!O(u, "underline")),
                              "lineThrough" in br(u) && (l = !!O(u, "lineThrough")),
                              ye(A, "_format", Re({ color: c, bold: a, italic: o, underline: s, lineThrough: l })),
                              A
                          );
                      }
                      return (
                          Object.defineProperty(t.prototype, "editedBy", {
                              get: function () {
                                  return O(this, "_editedBy");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "isWaitingFirstText", {
                              get: function () {
                                  return O(this, "_isWaitingFirstText");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "isTextEmpty", {
                              get: function () {
                                  return O(O(this, "textareaBox"), "originalText") === "";
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "selectable", {
                              get: function () {
                                  return O(this, "isNotRotating") && O(this, "_editedBy") !== tr(at, "getAuthorId", []);
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "color", {
                              get: function () {
                                  return O(O(this, "format"), "color");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "locked", {
                              get: function () {
                                  return !1;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "format", {
                              get: function () {
                                  var e = O(this, "_format");
                                  if (!e) {
                                      var r = O(this, "textColor");
                                      r || (r = Re([0, 0, 0])), (e = Re({ color: r, bold: !1, italic: !1, underline: !1, lineThrough: !1 }));
                                  }
                                  return e;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.editByUserId = function (e) {
                              ye(this, "_editedBy", e),
                                  ye(
                                      this,
                                      "stateBeforeEdited",
                                      Re({ textareaBox: tr(t, "copyTextareaBox", [O(this, "textareaBox")]), rectangle: Re({ x: O(this, "originX"), y: O(this, "originY"), width: O(this, "width"), height: O(this, "height") }) })
                                  );
                          }),
                          (t.prototype.undoPreviousEdit = function () {
                              if (O(this, "stateBeforeEdited")) {
                                  var e = O(this, "stateBeforeEdited"),
                                      r = O(e, "textareaBox"),
                                      i = O(e, "rectangle");
                                  ye(this, "textareaBox", r), ye(this, "originX", O(i, "x")), ye(this, "originY", O(i, "y")), ye(this, "width", O(i, "width")), ye(this, "height", O(i, "height")), ye(this, "stateBeforeEdited", void 0);
                              }
                          }),
                          (t.prototype.updateScale = function (e) {
                              var r = O(this, "textareaBox"),
                                  i = O(r, "width"),
                                  A = O(r, "height");
                              ye(this, "textareaBox", Re(yr(yr({}, br(O(this, "textareaBox"))), { scale: e })));
                              var a = Re({ x: O(this, "originX"), y: O(this, "originY"), width: O(this, "width"), height: O(this, "height") });
                              i !== 0 && A !== 0 && (ye(this, "width", i * e), ye(this, "height", A * e));
                              var o = Re({ x: O(this, "originX"), y: O(this, "originY"), width: O(this, "width"), height: O(this, "height") }),
                                  s = O(O(this, "context"), "executorHub");
                              if (s && O(s, "enable")) {
                                  var l = Re({ updateRect: o }),
                                      u = Re({ updateRect: a });
                                  tr(s, "commit", [O(this, "protoKey"), l, u]);
                              }
                          }),
                          (t.prototype.updateFormat = function (e, r) {
                              var i = O(r, "scale"),
                                  A = O(r, "width"),
                                  a = O(r, "height"),
                                  o = Re({ x: O(this, "originX"), y: O(this, "originY"), width: O(this, "width"), height: O(this, "height") }),
                                  s = Re({ x: O(this, "originX"), y: O(this, "originY"), width: A * i, height: a * i }),
                                  l = !1;
                              (O(o, "width") !== O(s, "width") || O(o, "height") !== O(s, "height")) &&
                                  (ye(this, "textareaBox", Re(yr(yr({}, br(O(this, "textareaBox"))), { width: A, height: a }))), ye(this, "width", O(s, "width")), ye(this, "height", O(s, "height")), (l = !0));
                              var u = O(O(this, "context"), "executorHub"),
                                  c = O(this, "format"),
                                  p = ye(this, "_format", Re(yr(yr({}, br(c)), br(e))));
                              if (u && O(u, "enable") && !O(this, "_isWaitingFirstText")) {
                                  var h = Re({ updateTextareaFormat: p }),
                                      v = Re({ updateTextareaFormat: c });
                                  l && (ye(h, "updateRect", s), ye(v, "updateRect", o)), tr(u, "commit", [O(this, "protoKey"), h, v]);
                              }
                          }),
                          (t.prototype.completeEdit = function () {
                              var e = O(O(this, "context"), "executorHub");
                              if (e && O(e, "enable") && O(this, "stateBeforeEdited") && O(O(O(this, "stateBeforeEdited"), "textareaBox"), "originalText") !== O(O(this, "textareaBox"), "originalText"))
                                  if (O(this, "_isWaitingFirstText")) {
                                      var r = Re({ create: tr(this, "snapshot", []) });
                                      tr(e, "commit", [O(this, "protoKey"), r, Re({ delete: !0 })]);
                                  } else {
                                      var r = Re({
                                              updateTextarea: tr(t, "copyTextareaBox", [O(this, "textareaBox")]),
                                              updateRect: Re({ x: O(this, "originX"), y: O(this, "originY"), width: O(this, "width"), height: O(this, "height") }),
                                          }),
                                          i = Re({ updateTextarea: O(O(this, "stateBeforeEdited"), "textareaBox"), updateRect: O(O(this, "stateBeforeEdited"), "rectangle") });
                                      tr(e, "commit", [O(this, "protoKey"), r, i]);
                                  }
                              ye(this, "_isWaitingFirstText", !1), ye(this, "_editedBy", void 0), ye(this, "stateBeforeEdited", void 0);
                          }),
                          Object.defineProperty(t.prototype, "hitTestingBoxMargin", {
                              get: function () {
                                  return O(this, "textSize") / 4;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.setTextareaBox = function (e) {
                              var r = O(this, "textareaBox"),
                                  i = O(r, "width"),
                                  A = O(r, "height"),
                                  a = O(r, "scale"),
                                  o = i * a,
                                  s = A * a,
                                  l = o === 0 ? 1 : O(this, "width") / o,
                                  u = s === 0 ? 1 : O(this, "height") / s;
                              ye(this, "textareaBox", e), ye(this, "width", O(e, "width") * O(e, "scale") * l), ye(this, "height", O(e, "height") * O(e, "scale") * u);
                          }),
                          (t.prototype.recoverTextareaBox = function (e) {
                              ye(this, "textareaBox", e);
                          }),
                          (t.prototype.recoverFormat = function (e) {
                              ye(this, "_format", e);
                          }),
                          (t.prototype.adjustToKeepUniformScale = function () {
                              tr(this, "keepUniformScale", [O(this, "textareaBox")]);
                          }),
                          Object.defineProperty(t.prototype, "currentScale", {
                              get: function () {
                                  var e = O(this, "textareaBox"),
                                      r = O(e, "width"),
                                      i = O(e, "height");
                                  if (r === 0 || i === 0) return 1;
                                  var A = O(this, "width") / r,
                                      a = O(this, "height") / i;
                                  return tr(Math, "min", [A, a]);
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.copyTextareaBox = function (e) {
                              for (var r = Re([]), i = 0, A = br(O(e, "textLines")); i < A.length; i++) {
                                  var a = A[i];
                                  tr(r, "push", [Re(yr({}, br(a)))]);
                              }
                              return Re(yr(yr({}, br(e)), { textLines: r }));
                          }),
                          Ni([at.noEffects], t.prototype, "editedBy", null),
                          Ni([at.noEffects], t.prototype, "isWaitingFirstText", null),
                          Ni([at.noEffects], t.prototype, "isTextEmpty", null),
                          Ni([at.noEffects], t.prototype, "color", null),
                          Ni([at.noEffects], t.prototype, "locked", null),
                          Ni([at.noEffects], t.prototype, "format", null),
                          Ni([at.noEffects], t.prototype, "hitTestingBoxMargin", null),
                          Ni([at.noEffects], t.prototype, "currentScale", null),
                          t
                      );
                  })(Hi.wrapSuperClass(tc.Editable));
              Or.TextareaShape = rc;
              Hi.declareClass({
                  classId: 33,
                  clazz: rc,
                  superClass: tc.Editable,
                  memberDecorators: {
                      editedBy: [at.noEffects],
                      isWaitingFirstText: [at.noEffects],
                      isTextEmpty: [at.noEffects],
                      color: [at.noEffects],
                      locked: [at.noEffects],
                      format: [at.noEffects],
                      hitTestingBoxMargin: [at.noEffects],
                      currentScale: [at.noEffects],
                  },
              });
              Hi = null;
          });
          var eo = C(function (wt) {
              "use strict";
              Object.defineProperty(wt, "__esModule", { value: !0 });
              wt.setTextareaFontSize = wt.setTextareaScale = wt.setTextareaFormat = wt.hasEditingTextarea = wt.updateTextarea = wt.insertTextarea = void 0;
              var sA = require("akko").__context("module"),
                  We = sA.getter,
                  Je = sA.caller,
                  yg = sA.wrapper,
                  bg = sA.setter,
                  mi = sA.unwrapper,
                  Vn = require("akko"),
                  lA = Zn(),
                  $a = 16;
              function Pg(n, t, e) {
                  var r = We(n, "scene");
                  Je(We(n, "textareaSet"), "completeAllEditedBy", [Je(Vn, "getAuthorId", [])]);
                  var i = Je(n, "getMemberState", []),
                      A = (i && (We(i, "textSizeOverride") || We(i, "textSize"))) || $a,
                      a = yg(new lA.TextareaShape(n, t - 2, e - A / 2 - 3));
                  if ((Je(a, "editByUserId", [Je(Vn, "getAuthorId", [])]), bg(a, "textSize", $a), A !== $a)) {
                      var o = A / $a;
                      Je(a, "updateScale", [o]);
                  }
                  return Je(r, "addComponent", [a]), Je(We(n, "textareaSet"), "registerTextarea", [r, a]), We(a, "identifier");
              }
              wt.insertTextarea = Pg;
              function _g(n, t, e) {
                  var r;
                  e
                      ? (r = Je(n, "findComponentFromTop", [
                            function (i) {
                                return We(i, "identifier") === e;
                            },
                        ]))
                      : (r = Rg(n, Je(Vn, "getAuthorId", []))),
                      r && Je(r, "setTextareaBox", [t]);
              }
              wt.updateTextarea = _g;
              function Sg(n) {
                  for (var t = Je(Vn, "getAuthorId", []), e = 0, r = mi(We(n, "components")); e < r.length; e++) {
                      var i = r[e];
                      if (mi(i) instanceof lA.TextareaShape && (We(i, "selectedBy") === t || We(i, "editedBy") === t)) return !0;
                  }
                  return !1;
              }
              wt.hasEditingTextarea = Sg;
              function Cg(n, t, e) {
                  for (var r = Je(Vn, "getAuthorId", []), i = 0, A = mi(We(n, "components")); i < A.length; i++) {
                      var a = A[i];
                      if (mi(a) instanceof lA.TextareaShape && (We(a, "selectedBy") === r || We(a, "editedBy") === r)) {
                          var o = We(e, We(a, "identifier"));
                          o && Je(a, "updateFormat", [t, o]);
                      }
                  }
              }
              wt.setTextareaFormat = Cg;
              function Bg(n, t) {
                  for (var e = Je(Vn, "getAuthorId", []), r = 0, i = mi(We(n, "components")); r < i.length; r++) {
                      var A = i[r];
                      mi(A) instanceof lA.TextareaShape && (We(A, "selectedBy") === e || We(A, "editedBy") === e) && Je(A, "updateScale", [t]);
                  }
              }
              wt.setTextareaScale = Bg;
              function wg(n, t) {
                  for (var e = Je(Vn, "getAuthorId", []), r = 0, i = mi(We(n, "components")); r < i.length; r++) {
                      var A = i[r];
                      if (mi(A) instanceof lA.TextareaShape && (We(A, "selectedBy") === e || We(A, "editedBy") === e)) {
                          var a = t / We(A, "textSize");
                          Je(A, "updateScale", [a]);
                      }
                  }
              }
              wt.setTextareaFontSize = wg;
              function Rg(n, t) {
                  return Je(n, "findComponentFromTop", [
                      function (e) {
                          return mi(e) instanceof lA.TextareaShape && We(e, "editedBy") === t;
                      },
                  ]);
              }
              sA = null;
          });
          var la = C(function (cA) {
              "use strict";
              Object.defineProperty(cA, "__esModule", { value: !0 });
              cA.getTreeValue = cA.updateTree = void 0;
              var uA = require("akko").__context("module"),
                  sa = uA.getter,
                  ic = uA.setter,
                  xg = uA.creator,
                  Mg = uA.unwrapper,
                  Tg = uA.remover;
              function Og(n, t, e) {
                  if (typeof t == "string") nc(n, t, e);
                  else
                      for (var r = sa(t, "length"), i = n, A = 0; A < r; ++A) {
                          var a = sa(t, A);
                          A < r - 1 ? ((i = sa(i, a)), (typeof i != "object" || i === null) && ic(i, a, (i = xg({})))) : nc(i, a, e);
                      }
              }
              cA.updateTree = Og;
              function Eg(n, t) {
                  if (t === void 0) return n;
                  if (typeof t == "string") return sa(n, t);
                  for (var e = n, r = 0, i = Mg(t); r < i.length; r++) {
                      var A = i[r];
                      if (typeof e != "object" || e === null) {
                          e = void 0;
                          break;
                      }
                      e = sa(e, A);
                  }
                  return e;
              }
              cA.getTreeValue = Eg;
              function nc(n, t, e) {
                  e === void 0 ? Tg(n, t) : ic(n, t, e);
              }
              uA = null;
          });
          var Qs = C(function (to) {
              "use strict";
              Object.defineProperty(to, "__esModule", { value: !0 });
              to.getInitiativeColors = void 0;
              var Ac = require("akko").__context("module"),
                  pA = Ac.creator;
              function Gg() {
                  return pA([pA([236, 52, 85]), pA([0, 91, 246]), pA([245, 173, 70]), pA([104, 171, 93]), pA([158, 81, 182])]);
              }
              to.getInitiativeColors = Gg;
              Ac = null;
          });
          var qs = C(function (ac) {
              "use strict";
              Object.defineProperty(ac, "__esModule", { value: !0 });
          });
          var ro = C(function (ot) {
              "use strict";
              var jg =
                      (ot && ot.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  oc =
                      (ot && ot.__exportStar) ||
                      function (n, t) {
                          for (var e in n) e !== "default" && !t.hasOwnProperty(e) && jg(t, n, e);
                      };
              Object.defineProperty(ot, "__esModule", { value: !0 });
              ot.ViewMode = ot.ShapeType = ot.DeviceType = void 0;
              oc(Qs(), ot);
              oc(qs(), ot);
              var Wg;
              (function (n) {
                  (n.Desktop = "desktop"), (n.Touch = "touch"), (n.Surface = "surface");
              })((Wg = ot.DeviceType || (ot.DeviceType = {})));
              var Zg;
              (function (n) {
                  (n.Triangle = "triangle"), (n.Rhombus = "rhombus"), (n.Pentagram = "pentagram"), (n.SpeechBalloon = "speechBalloon");
              })((Zg = ot.ShapeType || (ot.ShapeType = {})));
              var Vg;
              (function (n) {
                  (n.Freedom = "freedom"), (n.Follower = "follower"), (n.Broadcaster = "broadcaster");
              })((Vg = ot.ViewMode || (ot.ViewMode = {})));
          });
          var Ls = C(function (Di) {
              "use strict";
              var sc =
                      (Di && Di.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  bt =
                      (Di && Di.__assign) ||
                      function () {
                          return (
                              (bt =
                                  Object.assign ||
                                  function (n) {
                                      for (var t, e = 1, r = arguments.length; e < r; e++) {
                                          t = arguments[e];
                                          for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                      }
                                      return n;
                                  }),
                              bt.apply(this, arguments)
                          );
                      };
              Object.defineProperty(Di, "__esModule", { value: !0 });
              Di.MembersManager = void 0;
              var rr = require("akko").__context("module"),
                  be = rr.setter,
                  m = rr.getter,
                  pt = rr.creator,
                  K = rr.caller,
                  Ce = rr.unwrapper,
                  io = rr.wrapper,
                  Us = rr.remover,
                  Ig = require("akko"),
                  Xg = la(),
                  Rt = ro(),
                  lc = (function (n) {
                      sc(t, n);
                      function t(e, r, i, A, a, o, s) {
                          var l = n.call(this) || this;
                          return (
                              (l.isRtcConnected = !1),
                              (l.cursorX = 0),
                              (l.cursorY = 0),
                              (l.isPressed = !1),
                              (l.isCursorInScene = !1),
                              be(l, "_memberId", e),
                              be(l, "_deviceType", r),
                              be(l, "appliances", i),
                              be(l, "memberState", A),
                              be(l, "viewState", a),
                              be(l, "_information", s),
                              be(l, "executorHub", o),
                              l
                          );
                      }
                      return (
                          Object.defineProperty(t.prototype, "information", {
                              get: function () {
                                  return m(this, "_information");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "memberId", {
                              get: function () {
                                  return m(this, "_memberId");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "deviceType", {
                              get: function () {
                                  return m(this, "_deviceType");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.getViewState = function () {
                              return m(this, "viewState");
                          }),
                          (t.prototype.getCursorState = function () {
                              var e = this,
                                  r = m(e, "cursorX"),
                                  i = m(e, "cursorY"),
                                  A = m(m(this, "currentAppliance"), "fixedCursorInScenePoint");
                              if (A) {
                                  var a = m(A, "x"),
                                      o = m(A, "y"),
                                      s = m(this, "viewState"),
                                      l = m(s, "originX"),
                                      u = m(s, "originY"),
                                      c = m(s, "width"),
                                      p = m(s, "height");
                                  (r = c === 0 ? 0.5 : (a - l) / c), (i = p === 0 ? 0.5 : (o - u) / p);
                              }
                              var h = m(this, "memberState"),
                                  v = m(h, "currentApplianceName"),
                                  y = m(h, "strokeColor"),
                                  _ = m(h, "pencilEraserSize");
                              return pt({
                                  cursorX: r,
                                  cursorY: i,
                                  deviceType: m(this, "_deviceType"),
                                  isPressed: m(this, "isPressed"),
                                  isActivity: !!A || m(this, "isPressed"),
                                  isCursorInScene: !!A || m(this, "isCursorInScene"),
                                  currentApplianceName: v,
                                  color: y,
                                  eraserSize: _,
                              });
                          }),
                          Object.defineProperty(t.prototype, "currentAppliance", {
                              get: function () {
                                  var e = m(m(this, "memberState"), "currentApplianceName"),
                                      r = m(m(this, "appliances"), e);
                                  return r || m(m(this, "appliances"), "pencil");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.getAppliance = function (e) {
                              return m(m(this, "appliances"), e);
                          }),
                          (t.prototype.setViewMode = function (e) {
                              be(m(this, "viewState"), "mode", e);
                          }),
                          (t.prototype.notifyThatSceneChanged = function (e) {
                              for (var r in Ce(m(this, "appliances"))) K(m(m(this, "appliances"), r), "onSceneChanged", [e]);
                          }),
                          (t.prototype.getMemberState = function () {
                              return m(this, "memberState");
                          }),
                          (t.prototype.getExecutorHub = function () {
                              return m(this, "executorHub");
                          }),
                          (t.prototype.setCursor = function (e, r, i, A) {
                              var a = m(this, "viewState"),
                                  o = m(a, "originX"),
                                  s = m(a, "originY"),
                                  l = m(a, "width"),
                                  u = m(a, "height");
                              be(this, "cursorX", l === 0 ? 0.5 : (e - o) / l), be(this, "cursorY", u === 0 ? 0.5 : (r - s) / u), i !== void 0 && be(this, "isCursorInScene", i), A !== void 0 && be(this, "isPressed", A);
                          }),
                          (t.prototype.changeToFollower = function (e) {
                              var r = m(this, "viewState");
                              if ((be(this, "viewState", pt(bt(bt(bt({}, Ce(r)), Ce(e)), { mode: m(Rt.ViewMode, "Follower") }))), m(r, "width") !== 0 && m(r, "height") !== 0)) {
                                  var i = m(e, "width") / m(r, "width"),
                                      A = m(e, "height") / m(r, "height"),
                                      a = K(Math, "max", [i, A]),
                                      o = (m(r, "width") * a - m(e, "width")) / 2,
                                      s = (m(r, "height") * a - m(e, "height")) / 2;
                                  be(this, "cursorX", m(this, "cursorX") - o / m(e, "width")), be(this, "cursorY", m(this, "cursorY") - s / m(e, "height"));
                              }
                          }),
                          (t.prototype.setMemberState = function (e) {
                              var r = m(this, "memberState"),
                                  i = m(e, "currentApplianceName");
                              if (i && !m(m(this, "appliances"), i)) throw io(new Error("invalid appliance: " + i));
                              var A = pt(bt({}, Ce(r)));
                              for (var a in Ce(e)) {
                                  var o = m(e, a);
                                  o === void 0 ? Us(A, a) : be(A, a, o);
                              }
                              be(this, "memberState", A);
                              for (var s in Ce(m(this, "appliances"))) K(m(m(this, "appliances"), s), "onMemberStateChanged", [m(this, "memberState"), r]);
                              return m(this, "memberState");
                          }),
                          (t.prototype.updateMemberState = function (e, r) {
                              var i = m(this, "memberState");
                              if (e === "currentApplianceName" && !m(m(this, "appliances"), r)) throw io(new Error("invalid appliance: " + r));
                              var A = pt(bt({}, Ce(i)));
                              Xg.updateTree(A, e, r), be(this, "memberState", A);
                              for (var a in Ce(m(this, "appliances"))) K(m(m(this, "appliances"), a), "onMemberStateChanged", [m(this, "memberState"), i]);
                          }),
                          (t.prototype.setViewState = function (e) {
                              var r = m(this, "viewState");
                              return be(this, "viewState", pt(bt(bt({}, Ce(r)), Ce(e)))), m(this, "viewState");
                          }),
                          (t.prototype.dispatchMagixEvent = function (e, r) {
                              for (var i in Ce(m(this, "appliances"))) K(m(m(this, "appliances"), i), "onMagixEvent", [e, r]);
                          }),
                          (t.prototype.destroy = function () {
                              for (var e in Ce(m(this, "appliances"))) K(m(m(this, "appliances"), e), "onDestroy", []);
                          }),
                          t
                      );
                  })(rr.baseClass()),
                  uc = (function (n) {
                      sc(t, n);
                      function t(e) {
                          var r = n.call(this) || this;
                          return (r.initiativeColors = Rt.getInitiativeColors()), (r.membersMap = pt({})), be(r, "scenes", e), r;
                      }
                      return (
                          (t.prototype.isMemberExits = function (e) {
                              return !!m(m(this, "membersMap"), e);
                          }),
                          (t.prototype.getBroadcasterId = function () {
                              return m(this, "broadcasterId");
                          }),
                          (t.prototype.findMemberIdWithUserId = function (e) {
                              for (var r in Ce(m(this, "membersMap"))) {
                                  var i = m(m(this, "membersMap"), r),
                                      A = m(i, "information") && m(m(i, "information"), "id");
                                  if (e === A) return parseInt(r, 10);
                              }
                          }),
                          (t.prototype.getInformationWithMemberId = function (e) {
                              return m(m(this, "membersMap"), e) && m(m(m(this, "membersMap"), e), "information");
                          }),
                          (t.prototype.getMemberDisplayers = function () {
                              var e = pt([]);
                              for (var r in Ce(m(this, "membersMap"))) {
                                  var i = m(m(this, "membersMap"), r),
                                      A = K(i, "getViewState", []),
                                      a = K(i, "getCursorState", []);
                                  K(e, "push", [
                                      pt(
                                          bt(bt({}, Ce(A)), {
                                              memberId: m(i, "memberId"),
                                              deviceType: m(a, "deviceType"),
                                              isPressed: m(a, "isPressed"),
                                              isActivity: m(a, "isActivity"),
                                              isCursorInScene: m(a, "isCursorInScene"),
                                              currentApplianceName: m(a, "currentApplianceName"),
                                              color: m(a, "color"),
                                              cursorX: m(a, "cursorX"),
                                              cursorY: m(a, "cursorY"),
                                              information: m(i, "information"),
                                          })
                                      ),
                                  ]);
                              }
                              return e;
                          }),
                          (t.prototype.getMemberIds = function () {
                              var e = pt([]);
                              for (var r in Ce(m(this, "membersMap"))) {
                                  var i = m(m(this, "membersMap"), r);
                                  K(e, "push", [m(i, "memberId")]);
                              }
                              return e;
                          }),
                          (t.prototype.getCursorState = function (e) {
                              var r = m(m(this, "membersMap"), e);
                              if (r) return K(r, "getCursorState", []);
                          }),
                          (t.prototype.getMemberInformation = function (e) {
                              var r = m(m(this, "membersMap"), e);
                              if (r) return m(r, "information");
                          }),
                          (t.prototype.getViewState = function (e) {
                              var r = m(m(this, "membersMap"), e);
                              if (r) return K(r, "getViewState", []);
                              if (m(this, "directorId") !== void 0) {
                                  var i = K(m(m(this, "membersMap"), m(this, "directorId")), "getViewState", []),
                                      A = void 0;
                                  return m(i, "mode") === m(Rt.ViewMode, "Broadcaster") ? (A = m(Rt.ViewMode, "Follower")) : (A = m(Rt.ViewMode, "Freedom")), pt(bt(bt({}, Ce(i)), { mode: A }));
                              } else return K(this, "getDefaultViewState", []);
                          }),
                          (t.prototype.memberEnter = function (e) {
                              var r = m(e, "memberId"),
                                  i = m(e, "deviceType"),
                                  A = m(e, "information"),
                                  a = m(e, "appliances"),
                                  o = m(e, "memberState"),
                                  s = m(e, "executorHub");
                              be(m(this, "membersMap"), r, io(new lc(r, i, a, o, K(this, "enterMemberViewState", []), s, A))), K(this, "compareDirector", [r, m(this, "directorId")]) < 0 && be(this, "directorId", r);
                          }),
                          (t.prototype.enterMemberViewState = function () {
                              if (m(this, "broadcasterId") === void 0) return K(this, "getDefaultViewState", []);
                              var e = K(m(m(this, "membersMap"), m(this, "broadcasterId")), "getViewState", []);
                              return pt({ mode: m(Rt.ViewMode, "Follower"), pixelWidth: m(e, "pixelWidth"), originX: m(e, "originX"), originY: m(e, "originY"), width: m(e, "width"), height: m(e, "height") });
                          }),
                          (t.prototype.memberLeave = function (e) {
                              var r = m(m(this, "membersMap"), e);
                              r && (K(r, "destroy", []), Us(m(this, "membersMap"), e), m(this, "broadcasterId") === e && K(this, "cancelBroadcaster", []), K(this, "updateDirector", []));
                          }),
                          (t.prototype.updateDirector = function () {
                              var e = pt([]);
                              for (var r in Ce(m(this, "membersMap"))) K(e, "push", [parseInt(r, 10)]);
                              m(e, "length") === 0 ? be(this, "directorId", void 0) : (K(e, "sort", [K(m(this, "compareDirector"), "bind", [io(this)])]), be(this, "directorId", m(e, 0)));
                          }),
                          (t.prototype.getDeviceType = function (e) {
                              return m(m(m(this, "membersMap"), e), "deviceType");
                          }),
                          (t.prototype.getMemberState = function (e) {
                              var r = m(m(this, "membersMap"), e);
                              if (r) return K(r, "getMemberState", []);
                          }),
                          (t.prototype.getExecutorHub = function (e) {
                              var r = m(m(this, "membersMap"), e);
                              if (r) return K(m(m(this, "membersMap"), e), "getExecutorHub", []);
                          }),
                          (t.prototype.getMemberIdWithUserId = function (e) {
                              for (var r in Ce(m(this, "membersMap"))) {
                                  var i = m(m(this, "membersMap"), r);
                                  if (m(i, "information") && m(m(i, "information"), "id") === e) return m(i, "memberId");
                              }
                          }),
                          (t.prototype.getDefaultViewState = function () {
                              var e = 0,
                                  r = 0,
                                  i = 0,
                                  A = 0;
                              if (m(this, "scenes")) {
                                  var a = m(m(m(this, "scenes"), "currentScene"), "ppt");
                                  a && ((i = m(a, "width")), (A = m(a, "height")), (e = -i / 2), (r = -A / 2));
                              }
                              return pt({ originX: e, originY: r, width: i, height: A, mode: m(Rt.ViewMode, "Freedom"), pixelWidth: 1 });
                          }),
                          (t.prototype.setMemberState = function (e, r) {
                              return K(m(m(this, "membersMap"), e), "setMemberState", [r]);
                          }),
                          (t.prototype.updateMemberState = function (e, r, i) {
                              K(m(m(this, "membersMap"), e), "updateMemberState", [r, i]);
                          }),
                          (t.prototype.setViewState = function (e, r) {
                              var i = r,
                                  A = m(i, "mode");
                              if ((A === m(Rt.ViewMode, "Follower") && (m(this, "broadcasterId") === void 0 || m(this, "broadcasterId") === e) && (Us(i, "mode"), (A = void 0)), A === m(Rt.ViewMode, "Follower"))) {
                                  var a = K(m(m(this, "membersMap"), m(this, "broadcasterId")), "getViewState", []);
                                  i = pt(bt(bt({}, Ce(i)), { originX: m(a, "originX"), originY: m(a, "originY"), width: m(a, "width"), height: m(a, "height") }));
                              }
                              var o = K(m(m(this, "membersMap"), e), "setViewState", [i]);
                              return (
                                  A === m(Rt.ViewMode, "Freedom")
                                      ? m(this, "broadcasterId") === e && K(this, "cancelBroadcaster", [])
                                      : A === m(Rt.ViewMode, "Broadcaster")
                                      ? K(this, "becomeNewBroadcast", [e])
                                      : m(o, "mode") === m(Rt.ViewMode, "Broadcaster") && K(this, "broadcastViewToAllRoom", []),
                                  o
                              );
                          }),
                          (t.prototype.setCursor = function (e, r, i, A, a) {
                              K(m(m(this, "membersMap"), e), "setCursor", [r, i, A, a]);
                          }),
                          (t.prototype.setRtcState = function (e, r) {
                              be(m(m(this, "membersMap"), e), "isRtcConnected", r);
                          }),
                          (t.prototype.dispatchMagixEvent = function (e, r, i) {
                              K(m(m(this, "membersMap"), e), "dispatchMagixEvent", [r, i]);
                          }),
                          (t.prototype.notifyAllThatSceneChanged = function (e) {
                              for (var r in Ce(m(this, "membersMap"))) K(m(m(this, "membersMap"), r), "notifyThatSceneChanged", [e]);
                          }),
                          (t.prototype.notifyThatSceneChanged = function (e) {
                              var r = m(m(this, "membersMap"), Ig.getAuthorId());
                              r && K(r, "notifyThatSceneChanged", [e]);
                          }),
                          (t.prototype.getAppliance = function (e, r) {
                              var i = m(m(this, "membersMap"), r);
                              if (i) return K(i, "getAppliance", [e]);
                          }),
                          (t.prototype.currentAppliance = function (e) {
                              return m(m(m(this, "membersMap"), e), "currentAppliance");
                          }),
                          (t.prototype.cancelBroadcaster = function () {
                              for (var e in Ce(m(this, "membersMap"))) parseInt(e, 10) !== m(this, "broadcasterId") && K(m(m(this, "membersMap"), e), "setViewMode", [m(Rt.ViewMode, "Freedom")]);
                              be(this, "broadcasterId", void 0);
                          }),
                          (t.prototype.becomeNewBroadcast = function (e) {
                              var r = K(m(m(this, "membersMap"), e), "getViewState", []),
                                  i = m(r, "originX"),
                                  A = m(r, "originY"),
                                  a = m(r, "width"),
                                  o = m(r, "height"),
                                  s = pt({ originX: i, originY: A, width: a, height: o });
                              for (var l in Ce(m(this, "membersMap"))) parseInt(l, 10) !== e && K(m(m(this, "membersMap"), l), "changeToFollower", [s]);
                              be(this, "broadcasterId", e), be(this, "directorId", e);
                          }),
                          (t.prototype.broadcastViewToAllRoom = function () {
                              var e = K(m(m(this, "membersMap"), m(this, "broadcasterId")), "getViewState", []),
                                  r = m(e, "originX"),
                                  i = m(e, "originY"),
                                  A = m(e, "width"),
                                  a = m(e, "height"),
                                  o = pt({ originX: r, originY: i, width: A, height: a });
                              for (var s in Ce(m(this, "membersMap"))) {
                                  var l = m(m(this, "membersMap"), s);
                                  m(K(l, "getViewState", []), "mode") === m(Rt.ViewMode, "Follower") && K(l, "setViewState", [o]);
                              }
                          }),
                          (t.prototype.initiativeColor = function () {
                              for (var e = 0, r = Ce(m(this, "initiativeColors")); e < r.length; e++) {
                                  var i = r[e];
                                  if (!K(this, "anyMemberHasColor", [i])) return i;
                              }
                              var A = 0;
                              for (var a in Ce(m(this, "membersMap"))) A += 1;
                              var o = A % m(m(this, "initiativeColors"), "length");
                              return m(m(this, "initiativeColors"), o);
                          }),
                          (t.prototype.anyMemberHasColor = function (e) {
                              for (var r in Ce(m(this, "membersMap"))) if (K(t, "isColorEquals", [e, m(K(m(m(this, "membersMap"), r), "getMemberState", []), "strokeColor")])) return !0;
                              return !1;
                          }),
                          (t.isColorEquals = function (e, r) {
                              return m(e, 0) === m(r, 0) && m(e, 1) === m(r, 1) && m(e, 2) === m(r, 2);
                          }),
                          (t.prototype.compareDirector = function (e, r) {
                              if (e === r) return 0;
                              if (e === void 0 && r !== void 0) return 1;
                              if (e !== void 0 && r === void 0) return -1;
                              if (e === m(this, "broadcasterId")) return -1;
                              if (r === m(this, "broadcasterId")) return 1;
                              var i = m(m(this, "membersMap"), e),
                                  A = m(m(this, "membersMap"), r),
                                  a = m(i, "information"),
                                  o = m(A, "information"),
                                  s = m(a, "id"),
                                  l = m(o, "id");
                              return s === l ? m(i, "memberId") - m(A, "memberId") : s - l;
                          }),
                          t
                      );
                  })(rr.baseClass());
              Di.MembersManager = uc;
              rr.declareClass({ classId: 8, clazz: lc });
              rr.declareClass({ classId: 9, clazz: uc });
              rr = null;
          });
          var Ao = C(function (Fi) {
              "use strict";
              var kg =
                      (Fi && Fi.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  no =
                      (Fi && Fi.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(Fi, "__esModule", { value: !0 });
              Fi.ImageShape = void 0;
              var In = require("akko").__context("module"),
                  Ge = In.setter,
                  Y = In.getter,
                  Xn = In.creator,
                  Pr = In.caller,
                  Yi = require("akko"),
                  cc = yt(),
                  pc = (function (n) {
                      kg(t, n);
                      function t(e, r) {
                          var i = n.call(this, e) || this;
                          return (
                              (i.originX = 0),
                              (i.originY = 0),
                              (i.width = 0),
                              (i.height = 0),
                              (i.locked = !1),
                              Ge(i, "uuid", Y(r, "uuid")),
                              Ge(i, "originX", Y(r, "centerX") - Y(r, "width") / 2),
                              Ge(i, "originY", Y(r, "centerY") - Y(r, "height") / 2),
                              Ge(i, "width", Y(r, "width")),
                              Ge(i, "height", Y(r, "height")),
                              Ge(i, "locked", Y(r, "locked")),
                              Ge(i, "crossOrigin", Y(r, "crossOrigin")),
                              Y(r, "uniformScale") === void 0 ? Ge(i, "uniformScale", !0) : Ge(i, "uniformScale", Y(r, "uniformScale")),
                              Ge(i, "imageSize", Xn({ width: Y(r, "width"), height: Y(r, "height") })),
                              Ge(i, "imageSrc", Y(r, "src")),
                              i
                          );
                      }
                      return (
                          Object.defineProperty(t.prototype, "isRotable", {
                              get: function () {
                                  return !0;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.setImageSrc = function (e) {
                              Ge(this, "imageSrc", e);
                          }),
                          Object.defineProperty(t.prototype, "hitTestingBoxMargin", {
                              get: function () {
                                  return 4;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "displayScaleX", {
                              get: function () {
                                  var e = Y(this, "_displayScaleX");
                                  return e === void 0 && (e = 1), e;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "displayScaleY", {
                              get: function () {
                                  var e = Y(this, "_displayScaleY");
                                  return e === void 0 && (e = 1), e;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "selectable", {
                              get: function () {
                                  return Y(this, "isNotRotating");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.adjustToKeepUniformScale = function () {
                              Y(this, "imageSize") && Pr(this, "keepUniformScale", [Y(this, "imageSize")]);
                          }),
                          (t.prototype.commitRotation = function (e) {
                              if (e !== 0) {
                                  var r = Y(Y(this, "context"), "executorHub"),
                                      i = Pr(this, "rotateRectangle", [Y(this, "_displayRotation"), Xn({ x: 0, y: 0, width: Y(Y(this, "imageSize"), "width"), height: Y(Y(this, "imageSize"), "height") })]),
                                      A = Pr(Math, "max", [Y(this, "width") / Y(i, "width"), Y(this, "height") / Y(i, "height")]),
                                      a = Y(this, "_displayRotation") !== void 0 ? Y(this, "_displayRotation") : 0,
                                      o = a + e,
                                      s = Pr(this, "rotateRectangle", [o, Xn({ x: 0, y: 0, width: Y(Y(this, "imageSize"), "width"), height: Y(Y(this, "imageSize"), "height") })]),
                                      l = Y(s, "width") * A,
                                      u = Y(s, "height") * A,
                                      c = Y(this, "originX") + Y(this, "width") / 2,
                                      p = Y(this, "originY") + Y(this, "height") / 2,
                                      h = Xn({ x: Y(this, "originX"), y: Y(this, "originY"), width: Y(this, "width"), height: Y(this, "height") });
                                  if (
                                      (Ge(this, "width", l),
                                      Ge(this, "height", u),
                                      Ge(this, "originX", c - l / 2),
                                      Ge(this, "originY", p - u / 2),
                                      Ge(this, "_displayScaleX", A / l),
                                      Ge(this, "_displayScaleY", A / u),
                                      Ge(this, "_displayRotation", o),
                                      r && Y(r, "enable"))
                                  ) {
                                      var v = Xn({ updateRotation: a, updateRect: h }),
                                          y = Xn({ updateRotation: o, updateRect: Xn({ x: Y(this, "originX"), y: Y(this, "originY"), width: Y(this, "width"), height: Y(this, "height") }) });
                                      Pr(r, "commit", [Y(this, "protoKey"), y, v]);
                                  }
                              }
                              Ge(this, "rotation", void 0);
                          }),
                          (t.prototype.rotateRectangle = function (e, r) {
                              if (e !== 0 && e !== void 0) {
                                  var i = Y(r, "x"),
                                      A = Y(r, "y"),
                                      a = Y(r, "width"),
                                      o = Y(r, "height"),
                                      s = i + a / 2,
                                      l = A + o / 2,
                                      u = Pr(Math, "sin", [e]),
                                      c = Pr(Math, "cos", [e]),
                                      p = i - s,
                                      h = A - l,
                                      v = i - s,
                                      y = A + o - l,
                                      _ = i + a - s,
                                      B = A + o - l,
                                      S = i + a - s,
                                      M = A - l,
                                      E = p * c + h * u + s,
                                      W = h * c - p * u + l,
                                      Z = v * c + y * u + s,
                                      z = y * c - v * u + l,
                                      Se = _ * c + B * u + s,
                                      le = B * c - _ * u + l,
                                      Ve = S * c + M * u + s,
                                      Qe = M * c - S * u + l,
                                      hr = Pr(Math, "min", [E, Z, Se, Ve]),
                                      ta = Pr(Math, "max", [E, Z, Se, Ve]),
                                      Da = Pr(Math, "min", [W, z, le, Qe]),
                                      js = Pr(Math, "max", [W, z, le, Qe]);
                                  Ge(r, "x", hr), Ge(r, "y", Da), Ge(r, "width", ta - hr), Ge(r, "height", js - Da);
                              }
                              return r;
                          }),
                          no([Yi.noEffects], t.prototype, "isRotable", null),
                          no([Yi.noEffects], t.prototype, "hitTestingBoxMargin", null),
                          no([Yi.noEffects], t.prototype, "displayScaleX", null),
                          no([Yi.noEffects], t.prototype, "displayScaleY", null),
                          t
                      );
                  })(In.wrapSuperClass(cc.Editable));
              Fi.ImageShape = pc;
              In.declareClass({ classId: 21, clazz: pc, superClass: cc.Editable, memberDecorators: { isRotable: [Yi.noEffects], hitTestingBoxMargin: [Yi.noEffects], displayScaleX: [Yi.noEffects], displayScaleY: [Yi.noEffects] } });
              In = null;
          });
          var ua = C(function (Mt) {
              "use strict";
              var hc =
                      (Mt && Mt.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  hA =
                      (Mt && Mt.__assign) ||
                      function () {
                          return (
                              (hA =
                                  Object.assign ||
                                  function (n) {
                                      for (var t, e = 1, r = arguments.length; e < r; e++) {
                                          t = arguments[e];
                                          for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                      }
                                      return n;
                                  }),
                              hA.apply(this, arguments)
                          );
                      },
                  _r =
                      (Mt && Mt.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  dA =
                      (Mt && Mt.__spreadArrays) ||
                      function () {
                          for (var n = 0, t = 0, e = arguments.length; t < e; t++) n += arguments[t].length;
                          for (var r = Array(n), i = 0, t = 0; t < e; t++) for (var A = arguments[t], a = 0, o = A.length; a < o; a++, i++) r[i] = A[a];
                          return r;
                      };
              Object.defineProperty(Mt, "__esModule", { value: !0 });
              Mt.BezierCurveShape = Mt.BezierCurveShapeUndo = void 0;
              var Sr = require("akko").__context("module"),
                  T = Sr.setter,
                  V = Sr.caller,
                  He = Sr.creator,
                  g = Sr.getter,
                  fA = Sr.wrapper,
                  xt = Sr.unwrapper,
                  ue = require("akko"),
                  dc = yt();
              function zi(n, t) {
                  return t === 0 ? 1 : n / t;
              }
              var Js = (function (n) {
                  hc(t, n);
                  function t() {
                      return (n !== null && n.apply(this, arguments)) || this;
                  }
                  return t;
              })(Sr.baseClass());
              Mt.BezierCurveShapeUndo = Js;
              var fc = (function (n) {
                  hc(t, n);
                  function t(e, r) {
                      var i = n.call(this, e) || this;
                      return (
                          (i.extraSteups = 0),
                          (i._originX = 0),
                          (i._originY = 0),
                          (i._width = 0),
                          (i._height = 0),
                          T(i, "state", V(e, "getMemberState", [])),
                          T(i, "authorId", V(ue, "getAuthorId", [])),
                          T(i, "headPoint", r),
                          T(i, "curves", He([])),
                          T(i, "currentBoundary", He({ left: g(r, "x"), right: g(r, "x"), top: g(r, "y"), bottom: g(r, "y") })),
                          T(i, "fixedBoundary", g(i, "currentBoundary")),
                          T(i, "initializedSize", He({ width: 0, height: 0 })),
                          i
                      );
                  }
                  return (
                      Object.defineProperty(t.prototype, "isRotable", {
                          get: function () {
                              return !0;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "originX", {
                          get: function () {
                              var e = g(this, "currentBoundary");
                              return e ? g(e, "left") : g(this, "_originX");
                          },
                          set: function (e) {
                              g(this, "currentBoundary") || T(this, "_originX", e);
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "originY", {
                          get: function () {
                              var e = g(this, "currentBoundary");
                              return e ? g(e, "top") : g(this, "_originY");
                          },
                          set: function (e) {
                              g(this, "currentBoundary") || T(this, "_originY", e);
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "width", {
                          get: function () {
                              var e = g(this, "currentBoundary");
                              return e ? g(e, "right") - g(e, "left") : g(this, "_width");
                          },
                          set: function (e) {
                              g(this, "currentBoundary") || T(this, "_width", e);
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "height", {
                          get: function () {
                              var e = g(this, "currentBoundary");
                              return e ? g(e, "bottom") - g(e, "top") : g(this, "_height");
                          },
                          set: function (e) {
                              g(this, "currentBoundary") || T(this, "_height", e);
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "dottedLine", {
                          get: function () {
                              return !!g(g(this, "state"), "dottedLine");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "selectable", {
                          get: function () {
                              return g(this, "isNotRotating") && !g(this, "currentBoundary");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "hitTestingBoxMargin", {
                          get: function () {
                              return g(g(this, "state"), "strokeWidth") / 2;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "locked", {
                          get: function () {
                              return !1;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "isCompleted", {
                          get: function () {
                              return !g(this, "currentBoundary");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "color", {
                          get: function () {
                              return g(g(this, "state"), "strokeColor");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      (t.prototype.isLikePoint = function () {
                          var e = g(g(this, "state"), "strokeWidth") / 10,
                              r = this,
                              i = g(r, "width"),
                              A = g(r, "height");
                          return !(i > e || A > e);
                      }),
                      (t.createByUndoSnapshot = function (e, r) {
                          var i = fA(new t(e, He({ x: 0, y: 0 })));
                          return T(i, "fixedBoundary", null), T(i, "currentBoundary", null), V(i, "appleUndoSnapshot", [r]), i;
                      }),
                      (t.prototype.appleUndoSnapshot = function (e) {
                          var r = V(V(ue, "getSnapshot", []), "recoverWithSnapshot", [e]);
                          T(this, "state", g(r, "state")),
                              T(this, "protoKey", g(r, "protoKey")),
                              T(this, "_originX", g(r, "originX")),
                              T(this, "_originY", g(r, "originY")),
                              T(this, "_width", g(r, "width")),
                              T(this, "_height", g(r, "height")),
                              T(this, "extraSteups", g(r, "extraSteups")),
                              T(this, "headPoint", g(r, "headPoint")),
                              T(this, "curves", g(r, "curves")),
                              T(this, "initializedSize", g(r, "initializedSize"));
                      }),
                      (t.prototype.snapshotUndo = function () {
                          var e = !1,
                              r = fA(new Js());
                          return (
                              T(r, "state", g(this, "state")),
                              T(r, "protoKey", g(this, "protoKey")),
                              T(r, "originX", g(this, "_originX")),
                              T(r, "originY", g(this, "_originY")),
                              T(r, "width", g(this, "_width")),
                              T(r, "height", g(this, "_height")),
                              T(r, "extraSteups", g(this, "extraSteups")),
                              T(r, "headPoint", g(this, "headPoint")),
                              T(r, "curves", g(this, "curves")),
                              T(r, "initializedSize", g(this, "initializedSize")),
                              V(V(ue, "getSnapshot", []), "createSnapshot", [r, e])
                          );
                      }),
                      (t.prototype.addExtraSteups = function () {
                          T(this, "extraSteups", g(this, "extraSteups") + 1);
                      }),
                      (t.prototype.appendTail = function (e, r) {
                          if (g(this, "currentBoundary")) {
                              var i = g(g(this, "curves"), "length");
                              i > 0 && V(this, "receiveCurve", [g(this, "fixedBoundary"), g(g(this, "curves"), i - 1)]);
                              for (var A = 0; A < g(e, "length"); ++A) {
                                  var a = g(e, A);
                                  V(g(this, "curves"), "push", [a]), A < g(e, "length") - 1 ? V(this, "receiveCurve", [g(this, "fixedBoundary"), a]) : V(this, "refreshTailCurve", [a]);
                              }
                              T(this, "extraSteups", g(this, "extraSteups") - r);
                          }
                      }),
                      (t.prototype.updateTail = function (e, r) {
                          if (g(this, "currentBoundary")) {
                              var i = g(g(this, "curves"), "length");
                              i > 0 ? T(g(this, "curves"), i - 1, e) : T(g(this, "curves"), 0, e), V(this, "refreshTailCurve", [e]), T(this, "extraSteups", g(this, "extraSteups") - r);
                          }
                      }),
                      (t.prototype.splitTail = function (e, r) {
                          var i = g(g(this, "curves"), "length");
                          if (g(this, "currentBoundary")) {
                              for (var A = V(Math, "max", [0, i - 1]), a = 0; a < g(e, "length"); ++a) {
                                  var o = g(e, a);
                                  T(g(this, "curves"), A + a, o), a < g(e, "length") - 1 ? V(this, "receiveCurve", [g(this, "fixedBoundary"), o]) : V(this, "refreshTailCurve", [o]);
                              }
                              T(this, "extraSteups", g(this, "extraSteups") - r);
                          }
                      }),
                      (t.prototype.completePainting = function () {
                          var e = g(this, "currentBoundary");
                          if (e) {
                              T(this, "initializedSize", He({ width: g(e, "right") - g(e, "left"), height: g(e, "bottom") - g(e, "top") })),
                                  T(this, "_originX", g(e, "left")),
                                  T(this, "_originY", g(e, "top")),
                                  T(this, "_width", g(g(this, "initializedSize"), "width")),
                                  T(this, "_height", g(g(this, "initializedSize"), "height"));
                              for (var r = -g(e, "left"), i = -g(e, "top"), A = 0, a = xt(g(this, "curves")); A < a.length; A++) {
                                  var o = a[A],
                                      s = g(o, "point1"),
                                      l = g(o, "point2"),
                                      u = g(o, "point3");
                                  T(s, "x", g(s, "x") + r), T(s, "y", g(s, "y") + i), T(l, "x", g(l, "x") + r), T(l, "y", g(l, "y") + i), T(u, "x", g(u, "x") + r), T(u, "y", g(u, "y") + i);
                              }
                              T(g(this, "headPoint"), "x", g(g(this, "headPoint"), "x") + r), T(g(this, "headPoint"), "y", g(g(this, "headPoint"), "y") + i), T(this, "fixedBoundary", null), T(this, "currentBoundary", null);
                          }
                      }),
                      (t.prototype.update = function (e, r, i, A) {
                          for (
                              var a = zi(g(this, "_width"), g(g(this, "initializedSize"), "width")),
                                  o = zi(g(this, "_height"), g(g(this, "initializedSize"), "height")),
                                  s = V(Math, "sqrt", [a * a + o * o]),
                                  l = s / V(Math, "sqrt", [2]),
                                  u = He([]),
                                  c = 0,
                                  p = xt(e);
                              c < p.length;
                              c++
                          ) {
                              var h = p[c],
                                  v = He([]);
                              if ((g(h, "first") ? V(v, "push", dA(xt(g(h, "first")))) : V(v, "push", [g(g(this, "curves"), g(h, "firstIndex"))]), g(h, "lastIndex") !== -1)) {
                                  for (var y = g(h, "firstIndex") + 1; y < g(h, "lastIndex"); ++y) {
                                      var _ = g(g(this, "curves"), y);
                                      if (!_) throw fA(new Error("cannot find curve at " + y));
                                      V(v, "push", [_]);
                                  }
                                  g(h, "last") ? V(v, "push", dA(xt(g(h, "last")))) : V(v, "push", [g(g(this, "curves"), g(h, "lastIndex"))]);
                              }
                              g(v, "length") > 0 && V(u, "push", [He({ curves: v, extraSteups: g(h, "extraSteups"), head: g(h, "firstPoint") })]);
                          }
                          if (g(u, "length") === 0) V(r, "removeComponent", [fA(this)]), T(g(A, "removed"), g(this, "protoKey"), !0);
                          else {
                              var B = g(u, 0),
                                  S = g(this, "_originX"),
                                  M = g(this, "_originY");
                              V(this, "applyUpdate", [fA(this), g(B, "head"), g(B, "curves"), g(B, "extraSteups"), S, M, a, o, l]), T(g(A, "updated"), g(this, "protoKey"), !0);
                              for (var y = 1; y < g(u, "length"); ++y) {
                                  var E = g(u, y),
                                      W = g(E, "head"),
                                      Z = g(E, "extraSteups"),
                                      v = g(E, "curves"),
                                      z = fA(new t(g(this, "context"), W));
                                  T(z, "fixedBoundary", null), T(z, "currentBoundary", null), V(this, "applyUpdate", [z, W, v, Z, S, M, a, o, l]), V(r, "addComponentAt", [z, i]), T(g(A, "added"), g(z, "protoKey"), !0);
                              }
                          }
                      }),
                      (t.prototype.applyUpdate = function (e, r, i, A, a, o, s, l, u) {
                          var c = this,
                              p = a,
                              h = o,
                              v = r,
                              y = i;
                          (s !== 1 || l !== 1) &&
                              ((v = V(this, "scalePoint", [v, s, l])),
                              (y = V(y, "map", [
                                  function (Ve) {
                                      return V(c, "scaleCurve", [Ve, s, l, u]);
                                  },
                              ]))),
                              T(v, "x", g(v, "x") + p),
                              T(v, "y", g(v, "y") + h);
                          for (var _ = He({ left: g(v, "x"), right: g(v, "x"), top: g(v, "y"), bottom: g(v, "y") }), B = 0, S = xt(y); B < S.length; B++) {
                              var M = S[B],
                                  E = g(M, "point1"),
                                  W = g(M, "point2"),
                                  Z = g(M, "point3");
                              T(E, "x", g(E, "x") + p), T(E, "y", g(E, "y") + h), T(W, "x", g(W, "x") + p), T(W, "y", g(W, "y") + h), T(Z, "x", g(Z, "x") + p), T(Z, "y", g(Z, "y") + h), V(this, "receiveCurve", [_, M]);
                          }
                          (p = g(_, "left")),
                              (h = g(_, "top")),
                              T(e, "_originX", p),
                              T(e, "_originY", h),
                              T(e, "_width", g(_, "right") - p),
                              T(e, "_height", g(_, "bottom") - h),
                              T(g(e, "initializedSize"), "width", g(e, "_width")),
                              T(g(e, "initializedSize"), "height", g(e, "_height")),
                              T(v, "x", g(v, "x") - p),
                              T(v, "y", g(v, "y") - h);
                          for (var z = 0, Se = xt(y); z < Se.length; z++) {
                              var le = Se[z],
                                  E = g(le, "point1"),
                                  W = g(le, "point2"),
                                  Z = g(le, "point3");
                              T(E, "x", g(E, "x") - p), T(E, "y", g(E, "y") - h), T(W, "x", g(W, "x") - p), T(W, "y", g(W, "y") - h), T(Z, "x", g(Z, "x") - p), T(Z, "y", g(Z, "y") - h);
                          }
                          T(e, "fixedBoundary", null), T(e, "currentBoundary", null), T(e, "headPoint", v), T(e, "curves", y), T(e, "extraSteups", A), T(e, "state", g(this, "state"));
                      }),
                      (t.prototype.refreshTailCurve = function (e) {
                          var r = this,
                              i = g(r, "fixedBoundary"),
                              A = g(r, "currentBoundary");
                          i && A && (T(A, "top", g(i, "top")), T(A, "left", g(i, "left")), T(A, "bottom", g(i, "bottom")), T(A, "right", g(i, "right")), V(this, "receiveCurve", [A, e]));
                      }),
                      (t.prototype.receiveCurve = function (e, r) {
                          var i = g(r, "point1"),
                              A = g(r, "point2"),
                              a = g(r, "point3");
                          V(this, "receivePoint", [e, i]), V(this, "receivePoint", [e, A]), V(this, "receivePoint", [e, a]);
                      }),
                      (t.prototype.receivePoint = function (e, r) {
                          var i = g(r, "x"),
                              A = g(r, "y");
                          T(e, "left", V(Math, "min", [i, g(e, "left")])), T(e, "right", V(Math, "max", [i, g(e, "right")])), T(e, "top", V(Math, "min", [A, g(e, "top")])), T(e, "bottom", V(Math, "max", [A, g(e, "bottom")]));
                      }),
                      (t.prototype.commitRotation = function (e) {
                          var r = this;
                          if (e !== 0) {
                              var i = g(this, "initializedSize"),
                                  A = g(i, "width"),
                                  a = g(i, "height"),
                                  o = g(this, "_originX"),
                                  s = g(this, "_originY"),
                                  l = V(Math, "cos", [e]),
                                  u = V(Math, "sin", [e]),
                                  c = zi(g(this, "_width"), A),
                                  p = zi(g(this, "_height"), a),
                                  h = o + g(this, "_width") / 2,
                                  v = s + g(this, "_height") / 2;
                              V(this, "forEachPoints", [
                                  function (M) {
                                      var E = g(M, "x") * c + o - h,
                                          W = g(M, "y") * p + s - v,
                                          Z = l * E - u * W + h,
                                          z = u * E + l * W + v;
                                      T(M, "x", Z), T(M, "y", z);
                                  },
                              ]);
                              var y = g(Number, "MAX_VALUE"),
                                  _ = -g(Number, "MAX_VALUE"),
                                  B = g(Number, "MAX_VALUE"),
                                  S = -g(Number, "MAX_VALUE");
                              V(this, "forEachCurves", [
                                  function (M, E, W, Z) {
                                      var z = V(r, "getCurveVertices", [g(M, "x"), g(E, "x"), g(W, "x"), g(Z, "x")]),
                                          Se = V(r, "getCurveVertices", [g(M, "y"), g(E, "y"), g(W, "y"), g(Z, "y")]),
                                          le = V(Math, "max", dA(xt(z))),
                                          Ve = V(Math, "max", dA(xt(Se))),
                                          Qe = V(Math, "min", dA(xt(z))),
                                          hr = V(Math, "min", dA(xt(Se)));
                                      y > Qe && (y = Qe), B > hr && (B = hr), _ < le && (_ = le), S < Ve && (S = Ve);
                                  },
                              ]),
                                  T(this, "_originX", y),
                                  T(this, "_originY", B),
                                  T(this, "_width", _ - y),
                                  T(this, "_height", S - B),
                                  T(g(this, "initializedSize"), "width", _ - y),
                                  T(g(this, "initializedSize"), "height", S - B),
                                  V(this, "forEachPoints", [
                                      function (M) {
                                          T(M, "x", g(M, "x") - y), T(M, "y", g(M, "y") - B);
                                      },
                                  ]);
                          }
                          T(this, "rotation", void 0);
                      }),
                      (t.prototype.getCurveVertices = function (e, r, i, A) {
                          var a = -2 * (3 * e - 6 * r + 3 * i),
                              o = V(Math, "pow", [3 * e - 6 * r + 3 * i, 2]),
                              s = 4 * o - 36 * (A - e + 3 * r - 3 * i) * (r - e),
                              l = 6 * (A - e + 3 * r - 3 * i),
                              u = He([]);
                          if (s > 0) {
                              var c = V(Math, "sqrt", [s]),
                                  p = (a + c) / l,
                                  h = (a - c) / l;
                              p >= 0 && h >= 0 && p <= 1 && h <= 1 ? (u = He([p, h, 0, 1])) : p >= 0 && p <= 1 ? (u = He([p, 0, 1])) : h >= 0 && h <= 1 ? (u = He([h, 0, 1])) : (u = He([0, 1]));
                          } else s <= 0 && (u = He([0, 1]));
                          for (var v = 0; v < g(u, "length"); ++v) {
                              var y = g(u, v),
                                  _ = Math.pow(1 - y, 3),
                                  B = 3 * y * Math.pow(1 - y, 2),
                                  S = 3 * Math.pow(y, 2) * (1 - y),
                                  M = Math.pow(y, 3);
                              T(u, v, _ * e + B * r + S * i + M * A);
                          }
                          return u;
                      }),
                      (t.prototype.forEachCurves = function (e) {
                          for (var r = g(this, "headPoint"), i = 0, A = xt(g(this, "curves")); i < A.length; i++) {
                              var a = A[i],
                                  o = g(a, "point1"),
                                  s = g(a, "point2"),
                                  l = g(a, "point3");
                              e(r, o, s, l), (r = l);
                          }
                      }),
                      (t.prototype.forEachPoints = function (e) {
                          e(g(this, "headPoint"));
                          for (var r = 0, i = xt(g(this, "curves")); r < i.length; r++) {
                              var A = i[r];
                              e(g(A, "point1")), e(g(A, "point2")), e(g(A, "point3"));
                          }
                      }),
                      (t.prototype.getExtraSteups = function () {
                          return g(this, "extraSteups");
                      }),
                      (t.prototype.getInitializedSize = function () {
                          return g(this, "initializedSize");
                      }),
                      (t.prototype.getHeadPoint = function () {
                          return g(this, "headPoint");
                      }),
                      (t.prototype.getCurves = function () {
                          return g(this, "curves");
                      }),
                      (t.prototype.displayer = function () {
                          var e = this,
                              r = this,
                              i = g(r, "currentBoundary"),
                              A = g(r, "extraSteups"),
                              a = this,
                              o = g(a, "headPoint"),
                              s = g(a, "curves");
                          if (i) {
                              var l = -g(i, "left"),
                                  u = -g(i, "top");
                              (o = V(this, "translatePoint", [g(this, "headPoint"), l, u])),
                                  (s = V(g(this, "curves"), "map", [
                                      function (S) {
                                          return He(
                                              hA(hA({}, xt(S)), { point1: V(e, "translatePoint", [g(S, "point1"), l, u]), point2: V(e, "translatePoint", [g(S, "point2"), l, u]), point3: V(e, "translatePoint", [g(S, "point3"), l, u]) })
                                          );
                                      },
                                  ]));
                          } else {
                              var c = g(this, "initializedSize"),
                                  p = g(c, "width"),
                                  h = g(c, "height"),
                                  v = zi(g(this, "_width"), p),
                                  y = zi(g(this, "_height"), h);
                              if (v !== 1 || y !== 1) {
                                  var _ = V(Math, "sqrt", [v * v + y * y]),
                                      B = _ / V(Math, "sqrt", [2]);
                                  (o = V(this, "scalePoint", [g(this, "headPoint"), v, y])),
                                      (s = V(g(this, "curves"), "map", [
                                          function (S) {
                                              return V(e, "scaleCurve", [S, v, y, B]);
                                          },
                                      ]));
                              }
                          }
                          return He({ headPoint: o, curves: s, extraSteups: A, boundary: null });
                      }),
                      (t.prototype.newDisplayer = function () {
                          var e = this,
                              r = this,
                              i = g(r, "currentBoundary"),
                              A = g(r, "extraSteups"),
                              a = this,
                              o = g(a, "headPoint"),
                              s = g(a, "curves");
                          if (!i) {
                              var l = g(this, "initializedSize"),
                                  u = g(l, "width"),
                                  c = g(l, "height"),
                                  p = zi(g(this, "_width"), u),
                                  h = zi(g(this, "_height"), c);
                              if (p !== 1 || h !== 1) {
                                  var v = V(Math, "sqrt", [p * p + h * h]),
                                      y = v / V(Math, "sqrt", [2]);
                                  (o = V(this, "scalePoint", [g(this, "headPoint"), p, h])),
                                      (s = V(g(this, "curves"), "map", [
                                          function (_) {
                                              return V(e, "scaleCurve", [_, p, h, y]);
                                          },
                                      ]));
                              }
                          }
                          return He({ boundary: i, headPoint: o, curves: s, extraSteups: A });
                      }),
                      (t.prototype.scaleCurve = function (e, r, i, A) {
                          return He(
                              hA(hA({}, xt(e)), {
                                  distance: A * g(e, "distance"),
                                  point1: V(this, "scalePoint", [g(e, "point1"), r, i]),
                                  point2: V(this, "scalePoint", [g(e, "point2"), r, i]),
                                  point3: V(this, "scalePoint", [g(e, "point3"), r, i]),
                              })
                          );
                      }),
                      (t.prototype.translatePoint = function (e, r, i) {
                          return He({ x: g(e, "x") + r, y: g(e, "y") + i });
                      }),
                      (t.prototype.scalePoint = function (e, r, i) {
                          return He({ x: g(e, "x") * r, y: g(e, "y") * i });
                      }),
                      _r([ue.noEffects], t.prototype, "isRotable", null),
                      _r([ue.noEffects], t.prototype, "originX", null),
                      _r([ue.noEffects], t.prototype, "originY", null),
                      _r([ue.noEffects], t.prototype, "width", null),
                      _r([ue.noEffects], t.prototype, "height", null),
                      _r([ue.noEffects], t.prototype, "dottedLine", null),
                      _r([ue.noEffects], t.prototype, "selectable", null),
                      _r([ue.noEffects], t.prototype, "hitTestingBoxMargin", null),
                      _r([ue.noEffects], t.prototype, "locked", null),
                      _r([ue.noEffects], t.prototype, "isCompleted", null),
                      _r([ue.noEffects], t.prototype, "color", null),
                      t
                  );
              })(Sr.wrapSuperClass(dc.Editable));
              Mt.BezierCurveShape = fc;
              Sr.declareClass({ classId: 40, clazz: Js });
              Sr.declareClass({
                  classId: 39,
                  clazz: fc,
                  superClass: dc.Editable,
                  memberDecorators: {
                      isRotable: [ue.noEffects],
                      originX: [ue.noEffects],
                      originY: [ue.noEffects],
                      width: [ue.noEffects],
                      height: [ue.noEffects],
                      dottedLine: [ue.noEffects],
                      selectable: [ue.noEffects],
                      hitTestingBoxMargin: [ue.noEffects],
                      locked: [ue.noEffects],
                      isCompleted: [ue.noEffects],
                      color: [ue.noEffects],
                      isLikePoint: [ue.noEffects],
                      snapshotUndo: [ue.noEffects],
                      getExtraSteups: [ue.noEffects],
                      getInitializedSize: [ue.noEffects],
                      getHeadPoint: [ue.noEffects],
                      getCurves: [ue.noEffects],
                      displayer: [ue.noEffects],
                      newDisplayer: [ue.noEffects],
                  },
              });
              Sr = null;
          });
          var Ks = C(function (ca) {
              "use strict";
              Object.defineProperty(ca, "__esModule", { value: !0 });
              ca.BelongsTo = void 0;
              var Ng;
              (function (n) {
                  (n.None = "none"), (n.Others = "others"), (n.Me = "me");
              })((Ng = ca.BelongsTo || (ca.BelongsTo = {})));
          });
          var $s = C(function (gc) {
              "use strict";
              Object.defineProperty(gc, "__esModule", { value: !0 });
          });
          var el = C(function (Qi) {
              "use strict";
              var Hg =
                      (Qi && Qi.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  vc =
                      (Qi && Qi.__exportStar) ||
                      function (n, t) {
                          for (var e in n) e !== "default" && !t.hasOwnProperty(e) && Hg(t, n, e);
                      };
              Object.defineProperty(Qi, "__esModule", { value: !0 });
              vc(Ks(), Qi);
              vc($s(), Qi);
          });
          var bc = C(function (Er) {
              "use strict";
              var Dg =
                      (Er && Er.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  Yg =
                      (Er && Er.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  Fg =
                      (Er && Er.__spreadArrays) ||
                      function () {
                          for (var n = 0, t = 0, e = arguments.length; t < e; t++) n += arguments[t].length;
                          for (var r = Array(n), i = 0, t = 0; t < e; t++) for (var A = arguments[t], a = 0, o = A.length; a < o; a++, i++) r[i] = A[a];
                          return r;
                      };
              Object.defineProperty(Er, "__esModule", { value: !0 });
              Er.ApplianceComponentContainer = void 0;
              var qi = require("akko").__context("module"),
                  zg = qi.creator,
                  ne = qi.getter,
                  Tt = qi.caller,
                  mc = qi.wrapper,
                  Qg = qi.unwrapper,
                  tl = require("akko"),
                  yc = (function (n) {
                      Dg(t, n);
                      function t() {
                          var e = (n !== null && n.apply(this, arguments)) || this;
                          return (e.components = zg([])), e;
                      }
                      return (
                          Object.defineProperty(t.prototype, "componentsLength", {
                              get: function () {
                                  return ne(ne(this, "components"), "length");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.componentAt = function (e) {
                              return ne(ne(this, "components"), e);
                          }),
                          (t.prototype.addComponent = function (e) {
                              Tt(ne(this, "components"), "push", [e]);
                          }),
                          (t.prototype.addComponentAt = function (e, r) {
                              if (r < 0 || r > ne(ne(this, "components"), "length")) throw mc(new Error("index should be 0~" + ne(ne(this, "components"), "length") + ", instead of " + r));
                              Tt(ne(this, "components"), "splice", [r, 0, e]);
                          }),
                          (t.prototype.indexOfComponent = function (e) {
                              return Tt(ne(this, "components"), "indexOf", [e]);
                          }),
                          (t.prototype.removeComponent = function (e) {
                              var r = Tt(ne(this, "components"), "indexOf", [e]);
                              r !== -1 && Tt(ne(this, "components"), "splice", [r, 1]);
                          }),
                          (t.prototype.forEachComponents = function (e) {
                              Tt(ne(this, "components"), "forEach", [e]);
                          }),
                          (t.prototype.componentsWithFilter = function (e) {
                              return Tt(ne(this, "components"), "filter", [e]);
                          }),
                          (t.prototype.findComponentFromBottom = function (e) {
                              for (var r = 0; r < ne(ne(this, "components"), "length"); ++r) {
                                  var i = ne(ne(this, "components"), r);
                                  if (e(i, r)) return i;
                              }
                          }),
                          (t.prototype.findComponentFromTop = function (e) {
                              for (var r = ne(ne(this, "components"), "length") - 1; r >= 0; --r) {
                                  var i = ne(ne(this, "components"), r);
                                  if (e(i, r)) return i;
                              }
                          }),
                          (t.prototype.removeComponentAt = function (e) {
                              if (e < 0 || e >= ne(ne(this, "components"), "length")) throw mc(new Error("index should be 0~" + (ne(ne(this, "components"), "length") - 1) + ", instead of " + e));
                              return ne(Tt(ne(this, "components"), "splice", [e, 1]), 0);
                          }),
                          (t.prototype.moveComponentsToIndex = function (e, r) {
                              for (var i = r, A = 0; A < ne(e, "length"); ++A) {
                                  var a = ne(e, A),
                                      o = Tt(ne(this, "components"), "indexOf", [a]);
                                  o === -1 ? (Tt(e, "splice", [A, 1]), (A -= 1)) : (Tt(ne(this, "components"), "splice", [o, 1]), o <= i && (i -= 1));
                              }
                              ne(e, "length") > 0 && ((i = Tt(Math, "max", [0, i])), (i = Tt(Math, "min", [ne(ne(this, "components"), "length"), i])), Tt(ne(this, "components"), "splice", Fg([i, 0], Qg(e))));
                          }),
                          Yg([tl.noEffects], t.prototype, "componentsLength", null),
                          t
                      );
                  })(qi.baseClass());
              Er.ApplianceComponentContainer = yc;
              qi.declareClass({ classId: 7, clazz: yc, memberDecorators: { componentsLength: [tl.noEffects], componentAt: [tl.noEffects] } });
              qi = null;
          });
          var oo = C(function (Gr) {
              "use strict";
              var Pc =
                      (Gr && Gr.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  pa =
                      (Gr && Gr.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(Gr, "__esModule", { value: !0 });
              Gr.BackgroundImage = Gr.SceneNode = void 0;
              var Cr = require("akko").__context("module"),
                  yi = Cr.setter,
                  ao = Cr.wrapper,
                  $ = Cr.getter,
                  De = Cr.caller,
                  kn = Cr.creator,
                  gA = Cr.unwrapper,
                  ir = require("akko"),
                  rl = yt(),
                  _c = bc(),
                  Sc = Wn(),
                  Cc = (function (n) {
                      Pc(t, n);
                      function t(e, r) {
                          var i = n.call(this) || this;
                          if ((yi(i, "name", "" + e), r)) {
                              var A = ao(new ha($(r, "src"), $(r, "width"), $(r, "height"), $(r, "previewURL"))),
                                  a = 0;
                              De(i, "addComponentAt", [A, a]), yi(i, "ppt", r);
                          }
                          return i;
                      }
                      return (
                          Object.defineProperty(t.prototype, "id", {
                              get: function () {
                                  return De(ir, "findIdentifierWith", [ao(this)]);
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.editableWithHitIdentifies = function (e) {
                              var r = $(e, 0);
                              if (r !== void 0)
                                  return De(this, "findComponentFromTop", [
                                      function (i) {
                                          return r === $(i, "identifier");
                                      },
                                  ]);
                          }),
                          (t.prototype.editablesWithHitIdentifies = function (e) {
                              for (
                                  var r = kn([]),
                                      i = function (l) {
                                          var u = De(A, "findComponentFromTop", [
                                              function (c) {
                                                  return l === $(c, "identifier");
                                              },
                                          ]);
                                          u && De(r, "push", [u]);
                                      },
                                      A = this,
                                      a = 0,
                                      o = gA(e);
                                  a < o.length;
                                  a++
                              ) {
                                  var s = o[a];
                                  i(s);
                              }
                              return r;
                          }),
                          Object.defineProperty(t.prototype, "componentsCount", {
                              get: function () {
                                  return $($(this, "components"), "length");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.updateContext = function (e) {
                              De($(this, "components"), "forEach", [
                                  function (r) {
                                      gA(r) instanceof rl.Editable && yi(r, "context", e);
                                  },
                              ]);
                          }),
                          (t.prototype.shellRectangle = function () {
                              if ($($(this, "components"), "length") === 0) return kn({ originX: 0, originY: 0, width: 0, height: 0 });
                              for (var e = $(Number, "MAX_SAFE_INTEGER"), r = $(Number, "MAX_SAFE_INTEGER"), i = $(Number, "MIN_SAFE_INTEGER"), A = $(Number, "MIN_SAFE_INTEGER"), a = 0, o = gA($(this, "components")); a < o.length; a++) {
                                  var s = o[a],
                                      l = $(s, "originX"),
                                      u = $(s, "originY"),
                                      c = $(s, "width"),
                                      p = $(s, "height"),
                                      h = gA(s) instanceof rl.Editable ? $(s, "hitTestingBoxMargin") : 0;
                                  (e = De(Math, "min", [e, l - h])), (r = De(Math, "min", [r, u - h])), (i = De(Math, "max", [i, l + c + h])), (A = De(Math, "max", [A, u + p + h]));
                              }
                              return kn({ originX: e, originY: r, width: i - e, height: A - r });
                          }),
                          (t.prototype.cleanComponents = function (e) {
                              for (var r = $(e, "executorHub"), i = 0; i < $($(this, "components"), "length"); ++i) {
                                  var A = $($(this, "components"), i);
                                  gA(A) instanceof rl.Editable &&
                                      (De($(this, "components"), "splice", [i, 1]), (i -= 1), r && $(r, "enable") && De(r, "commit", [$(A, "protoKey"), kn({ delete: !0 }), kn({ create: De(A, "snapshot", []) })]));
                              }
                              De(De(e, "getAppliance", ["selector"]), "refreshAllUsersEditorRectangleSpace", []);
                          }),
                          (t.prototype.cleanPPT = function (e) {
                              if ($(this, "ppt")) {
                                  De(this, "cleanBackgroundImage", []);
                                  var r = $(e, "executorHub");
                                  r && $(r, "enable") && De(r, "commit", [De(ir, "findIdentifierWith", [ao(this)]), kn({ cleanPPT: !0 }), kn({ setPPT: $(this, "ppt") })]), yi(this, "ppt", void 0);
                              }
                          }),
                          (t.prototype.recoverPPT = function (e) {
                              var r = ao(new ha($(e, "src"), $(e, "width"), $(e, "height"), $(e, "previewURL"))),
                                  i = 0;
                              De(this, "cleanBackgroundImage", []), De(this, "addComponentAt", [r, i]), yi(this, "ppt", e);
                          }),
                          (t.prototype.cleanBackgroundImage = function () {
                              for (var e = 0; e < $($(this, "components"), "length"); ++e) {
                                  var r = $($(this, "components"), e);
                                  if (gA(r) instanceof ha) {
                                      De($(this, "components"), "splice", [e, 1]);
                                      break;
                                  }
                              }
                          }),
                          pa([ir.noEffects], t.prototype, "id", null),
                          t
                      );
                  })(Cr.wrapSuperClass(_c.ApplianceComponentContainer));
              Gr.SceneNode = Cc;
              var ha = (function (n) {
                  Pc(t, n);
                  function t(e, r, i, A) {
                      var a = n.call(this) || this;
                      return yi(a, "_src", e), yi(a, "width", r), yi(a, "height", i), yi(a, "previewURL", A), a;
                  }
                  return (
                      Object.defineProperty(t.prototype, "hitTestingBoxMargin", {
                          get: function () {
                              return 0;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "originX", {
                          get: function () {
                              return -$(this, "width") / 2;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "originY", {
                          get: function () {
                              return -$(this, "height") / 2;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "src", {
                          get: function () {
                              return $(this, "_src");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      pa([ir.noEffects], t.prototype, "hitTestingBoxMargin", null),
                      pa([ir.noEffects], t.prototype, "originX", null),
                      pa([ir.noEffects], t.prototype, "originY", null),
                      pa([ir.noEffects], t.prototype, "src", null),
                      t
                  );
              })(Cr.wrapSuperClass(Sc.ApplianceComponent));
              Gr.BackgroundImage = ha;
              Cr.declareClass({ classId: 47, clazz: Cc, superClass: _c.ApplianceComponentContainer, memberDecorators: { id: [ir.noEffects] } });
              Cr.declareClass({ classId: 46, clazz: ha, superClass: Sc.ApplianceComponent, memberDecorators: { hitTestingBoxMargin: [ir.noEffects], originX: [ir.noEffects], originY: [ir.noEffects], src: [ir.noEffects] } });
              Cr = null;
          });
          var il = C(function (Wr) {
              "use strict";
              var qg =
                      (Wr && Wr.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  Bc =
                      (Wr && Wr.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  Ui =
                      (Wr && Wr.__spreadArrays) ||
                      function () {
                          for (var n = 0, t = 0, e = arguments.length; t < e; t++) n += arguments[t].length;
                          for (var r = Array(n), i = 0, t = 0; t < e; t++) for (var A = arguments[t], a = 0, o = A.length; a < o; a++, i++) r[i] = A[a];
                          return r;
                      };
              Object.defineProperty(Wr, "__esModule", { value: !0 });
              Wr.SceneManager = void 0;
              var jr = require("akko").__context("module"),
                  xe = jr.creator,
                  qe = jr.setter,
                  D = jr.caller,
                  w = jr.getter,
                  wc = jr.wrapper,
                  st = jr.unwrapper,
                  vA = jr.remover,
                  Li = require("akko"),
                  Rc = oo(),
                  xc = (function (n) {
                      qg(t, n);
                      function t() {
                          var e = n.call(this) || this;
                          return (e.sceneNodes = xe({})), qe(e, "rootSceneGroup", D(e, "createRootSceneGroup", [])), qe(e, "_currentPath", xe(["init"])), e;
                      }
                      return (
                          Object.defineProperty(t.prototype, "currentPath", {
                              get: function () {
                                  return w(this, "_currentPath");
                              },
                              set: function (e) {
                                  var r = D(this, "getScene", [e]);
                                  if (!r) throw wc(new Error("/" + D(e, "join", ["/"]) + " is not a scene"));
                                  qe(this, "_currentPath", e);
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "currentScene", {
                              get: function () {
                                  return D(this, "getScene", [w(this, "_currentPath")]);
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.getSceneWithIdentifier = function (e) {
                              return w(this, "sceneNodes") && w(w(this, "sceneNodes"), e);
                          }),
                          (t.prototype.getScene = function (e) {
                              e = xe(Ui(st(e)));
                              var r = D(e, "pop", []);
                              if (r !== void 0) {
                                  var i = D(this, "findSceneGroup", [e]);
                                  if (!!i) {
                                      var A = w(w(i, "scenesMap"), r);
                                      if (!!A) return A;
                                  }
                              }
                          }),
                          (t.prototype.listScenes = function (e) {
                              var r = xe([]),
                                  i = D(this, "findSceneGroup", [e]);
                              if (i)
                                  for (var A = 0, a = st(w(i, "scenesList")); A < a.length; A++) {
                                      var o = a[A],
                                          s = w(o, "name");
                                      D(r, "push", [s]);
                                  }
                              return r;
                          }),
                          (t.prototype.listSceneGroups = function (e) {
                              var r = xe([]),
                                  i = D(this, "findSceneGroup", [e]);
                              if (i)
                                  for (var A = 0, a = st(w(i, "groupsList")); A < a.length; A++) {
                                      var o = a[A],
                                          s = w(o, "name");
                                      D(r, "push", [s]);
                                  }
                              return r;
                          }),
                          (t.prototype.listAllScenes = function () {
                              var e = xe([]);
                              return D(this, "collectScenes", [w(this, "rootSceneGroup"), xe([]), e]), e;
                          }),
                          (t.prototype.collectScenes = function (e, r, i) {
                              for (var A = 0, a = st(w(e, "groupsList")); A < a.length; A++) {
                                  var o = a[A],
                                      s = xe(Ui(st(r), [w(o, "name")]));
                                  D(this, "collectScenes", [o, s, i]);
                              }
                              for (var l = 0, u = st(w(e, "scenesList")); l < u.length; l++) {
                                  var c = u[l];
                                  D(i, "push", [xe(Ui(st(r), [w(c, "name")]))]);
                              }
                          }),
                          (t.prototype.putScene = function (e, r, i) {
                              qe(this, "sceneNodes", w(this, "sceneNodes") || xe({}));
                              var A = D(this, "makeSceneGroup", [e]);
                              if (!A || w(w(A, "groupsMap"), w(r, "name"))) return !1;
                              var a = w(w(A, "scenesMap"), w(r, "name"));
                              if (a) {
                                  var o = D(w(A, "scenesList"), "indexOf", [a]);
                                  qe(w(A, "scenesList"), o, r), qe(w(A, "scenesMap"), w(r, "name"), r), vA(w(this, "sceneNodes"), w(a, "id"));
                              } else D(this, "insertScene", [A, r, i]);
                              return qe(w(this, "sceneNodes"), w(r, "id"), r), !0;
                          }),
                          (t.prototype.removePath = function (e) {
                              qe(this, "sceneNodes", w(this, "sceneNodes") || xe({}));
                              for (var r = null, i = w(this, "rootSceneGroup"), A = w(w(this, "rootSceneGroup"), "name"), a = 0; a < w(e, "length"); ++a)
                                  if (((A = w(e, a)), (r = i), (i = w(w(i, "groupsMap"), A)), !i)) {
                                      if (a < w(e, "length") - 1) return !1;
                                      break;
                                  }
                              if (!r) return qe(this, "sceneNodes", xe({})), qe(this, "rootSceneGroup", D(this, "createRootSceneGroup", [])), qe(this, "_currentPath", xe(["init"])), !0;
                              var o = null;
                              if ((D(this, "checkPathIncludesPrefix", [w(this, "_currentPath"), e]) && (o = D(this, "findNextScenePathInTree", [e]) || xe(["init"])), i)) {
                                  var s = D(w(r, "groupsList"), "indexOf", [i]);
                                  D(w(r, "groupsList"), "splice", [s, 1]), vA(w(r, "groupsMap"), w(i, "name")), D(this, "releaseAllScenes", [i]);
                              } else {
                                  var l = w(w(r, "scenesMap"), A);
                                  if (!l) return !1;
                                  var s = D(w(r, "scenesList"), "indexOf", [l]);
                                  D(w(r, "scenesList"), "splice", [s, 1]), vA(w(r, "scenesMap"), A), vA(w(this, "sceneNodes"), w(l, "id"));
                              }
                              return D(this, "cleanIfSceneGroupEmpty", [e]), o && qe(this, "_currentPath", o), !0;
                          }),
                          (t.prototype.releaseAllScenes = function (e) {
                              for (var r = 0, i = st(w(e, "scenesList")); r < i.length; r++) {
                                  var A = i[r];
                                  vA(w(this, "sceneNodes"), w(A, "id"));
                              }
                              for (var a = 0, o = st(w(e, "groupsList")); a < o.length; a++) {
                                  var s = o[a];
                                  D(this, "releaseAllScenes", [s]);
                              }
                          }),
                          (t.prototype.moveScene = function (e, r, i) {
                              r = xe(Ui(st(r)));
                              var A = null,
                                  a = !1;
                              D(this, "isPathEquals", [e, w(this, "_currentPath")]) && (A = xe(Ui(st(r))));
                              var o = D(this, "getScene", [e]),
                                  s = D(r, "pop", []);
                              return (
                                  o && s !== void 0 && (qe(o, "name", s), D(this, "removePath", [e]), (a = D(this, "putScene", [r, o, i])), a || ((e = xe(Ui(st(e)))), qe(o, "name", D(e, "pop", [])), D(this, "putScene", [e, o]))),
                                  a && A && qe(this, "_currentPath", A),
                                  a
                              );
                          }),
                          (t.prototype.cleanIfSceneGroupEmpty = function (e) {
                              for (var r = w(this, "rootSceneGroup"), i = xe([w(this, "rootSceneGroup")]), A = 0; A < w(e, "length") - 1; ++A) (r = w(w(r, "groupsMap"), w(e, A))), D(i, "push", [r]);
                              for (var A = w(i, "length") - 1; A > 0; A--) {
                                  var a = w(i, A),
                                      o = w(i, A - 1);
                                  if (D(this, "isSceneGroupEmpty", [a])) {
                                      var s = D(w(o, "groupsList"), "indexOf", [a]);
                                      D(w(o, "groupsList"), "splice", [s, 1]), vA(w(o, "groupsMap"), w(a, "name"));
                                  }
                              }
                              D(this, "isSceneGroupEmpty", [w(this, "rootSceneGroup")]) && qe(this, "rootSceneGroup", D(this, "createRootSceneGroup", []));
                          }),
                          (t.prototype.isSceneGroupEmpty = function (e) {
                              return w(w(e, "groupsList"), "length") === 0 && w(w(e, "scenesList"), "length") === 0;
                          }),
                          (t.prototype.findSceneOrGroup = function (e) {
                              if (w(e, "length") === 0) return w(this, "rootSceneGroup");
                              e = xe(Ui(st(e)));
                              var r = D(e, "pop", []),
                                  i = D(this, "findSceneGroup", [e]);
                              if (!!i) return w(w(i, "groupsMap"), r) || w(w(i, "scenesMap"), r);
                          }),
                          (t.prototype.findSceneGroup = function (e) {
                              for (var r = w(this, "rootSceneGroup"), i = 0, A = st(e); i < A.length; i++) {
                                  var a = A[i];
                                  if (((r = w(w(r, "groupsMap"), a)), !r)) return null;
                              }
                              return r;
                          }),
                          (t.prototype.makeSceneGroup = function (e) {
                              for (var r = w(this, "rootSceneGroup"), i = 0, A = st(e); i < A.length; i++) {
                                  var a = A[i];
                                  if (w(w(r, "scenesMap"), a)) return null;
                                  var o = w(w(r, "groupsMap"), a);
                                  o || ((o = D(this, "createSceneGroup", [a])), qe(w(r, "groupsMap"), a, o), D(w(r, "groupsList"), "push", [o])), (r = o);
                              }
                              return r;
                          }),
                          (t.prototype.insertScene = function (e, r, i) {
                              i === void 0 || i < 0 || i >= w(w(e, "scenesList"), "length") ? D(w(e, "scenesList"), "push", [r]) : D(w(e, "scenesList"), "splice", [i, 0, r]), qe(w(e, "scenesMap"), w(r, "name"), r);
                          }),
                          (t.prototype.createRootSceneGroup = function () {
                              var e = D(this, "createSceneGroup", [""]),
                                  r = wc(new Rc.SceneNode("init"));
                              return D(w(e, "scenesList"), "push", [r]), qe(w(e, "scenesMap"), w(r, "name"), r), qe(w(this, "sceneNodes"), w(r, "id"), r), e;
                          }),
                          (t.prototype.findNextScenePathInTree = function (e) {
                              var r = D(xe(Ui(st(e))), "reverse", []),
                                  i = D(this, "findNextPathStackInTree", [r, w(this, "rootSceneGroup")]);
                              if (!i) return null;
                              var A = D(i, "reverse", []),
                                  a = D(this, "findSceneOrGroup", [A]);
                              if (!a) return null;
                              if (st(a) instanceof Rc.SceneNode) return A;
                              for (var o = a; ; ) {
                                  var s = w(w(o, "groupsList"), 0);
                                  if (!s) return D(A, "push", [w(w(w(o, "scenesList"), 0), "name")]), A;
                                  D(A, "push", [w(s, "name")]), (o = s);
                              }
                          }),
                          (t.prototype.findNextPathStackInTree = function (e, r) {
                              var i = D(e, "pop", []),
                                  A = w(w(r, "groupsMap"), i);
                              if (w(e, "length") > 0 && A) {
                                  var a = D(this, "findNextPathStackInTree", [e, A]);
                                  if (a) return D(a, "push", [i]), a;
                              }
                              var o = D(this, "findNextName", [r, i]);
                              return o === null ? null : xe([o]);
                          }),
                          (t.prototype.findNextName = function (e, r) {
                              var i = w(w(e, "groupsMap"), r),
                                  A = null;
                              if (i) {
                                  var a = D(w(e, "groupsList"), "indexOf", [i]),
                                      o = w(w(e, "groupsList"), a + 1) || w(w(e, "scenesList"), 0) || w(w(e, "groupsList"), a - 1);
                                  o && (A = w(o, "name"));
                              } else {
                                  var s = w(w(e, "scenesMap"), r);
                                  if (s) {
                                      var a = D(w(e, "scenesList"), "indexOf", [s]),
                                          o = w(w(e, "scenesList"), a + 1) || w(w(e, "scenesList"), a - 1) || w(w(e, "groupsList"), w(w(e, "groupsList"), "length") - 1);
                                      o && (A = w(o, "name"));
                                  }
                              }
                              return A;
                          }),
                          (t.prototype.createSceneGroup = function (e) {
                              return xe({ name: e, groupsList: xe([]), groupsMap: xe({}), scenesList: xe([]), scenesMap: xe({}) });
                          }),
                          (t.prototype.isPathEquals = function (e, r) {
                              if (w(e, "length") !== w(r, "length")) return !1;
                              for (var i = 0; i < w(e, "length"); ++i) if (w(e, i) !== w(r, i)) return !1;
                              return !0;
                          }),
                          (t.prototype.checkPathIncludesPrefix = function (e, r) {
                              for (var i = 0; i < w(r, "length"); ++i) if (w(r, i) !== w(e, i)) return !1;
                              return !0;
                          }),
                          Bc([Li.noEffects], t.prototype, "currentPath", null),
                          Bc([Li.noEffects], t.prototype, "currentScene", null),
                          t
                      );
                  })(jr.baseClass());
              Wr.SceneManager = xc;
              jr.declareClass({
                  classId: 45,
                  clazz: xc,
                  memberDecorators: { currentSceneCache: [Li.transient], currentPath: [Li.noEffects], currentScene: [Li.noEffects], getSceneWithIdentifier: [Li.noEffects], getScene: [Li.noEffects], findSceneOrGroup: [Li.noEffects] },
              });
              jr = null;
          });
          var so = C(function (Ji) {
              "use strict";
              var Ug =
                      (Ji && Ji.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  Mc =
                      (Ji && Ji.__exportStar) ||
                      function (n, t) {
                          for (var e in n) e !== "default" && !t.hasOwnProperty(e) && Ug(t, n, e);
                      };
              Object.defineProperty(Ji, "__esModule", { value: !0 });
              Mc(il(), Ji);
              Mc(oo(), Ji);
          });
          var nl = C(function (mA) {
              "use strict";
              var Lg =
                  (mA && mA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(mA, "__esModule", { value: !0 });
              mA.Gesture = void 0;
              var bi = require("akko").__context("module"),
                  Be = bi.getter,
                  ht = bi.caller,
                  da = bi.setter,
                  Tc = bi.creator,
                  Jg = bi.unwrapper,
                  Kg = bi.wrapper,
                  $g = 4,
                  Oc = (function (n) {
                      Lg(t, n);
                      function t() {
                          var e = (n !== null && n.apply(this, arguments)) || this;
                          return (e.pressedPoint = null), (e.dragEventsBuffer = null), e;
                      }
                      return (
                          Object.defineProperty(t.prototype, "isDragging", {
                              get: function () {
                                  return !!Be(this, "pressedPoint") && !Be(this, "dragEventsBuffer");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "needBufferDragEvent", {
                              get: function () {
                                  return !!Be(this, "dragEventsBuffer");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "isPressDown", {
                              get: function () {
                                  return !!Be(this, "pressedPoint");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.onKeyUp = function (e) {}),
                          (t.prototype.onKeyDown = function (e) {}),
                          (t.prototype.onDestroy = function () {}),
                          (t.prototype.onMouseLeave = function (e) {}),
                          (t.prototype.onDraggingStateChanged = function (e) {}),
                          (t.prototype.onDrag = function (e) {}),
                          (t.prototype.onHover = function (e) {}),
                          (t.prototype.onClick = function (e) {}),
                          (t.prototype.makeSureItsDraggingEvent = function (e) {
                              return !1;
                          }),
                          (t.prototype.onMemberStateChanged = function (e, r) {}),
                          (t.prototype.onMagixEvent = function (e, r) {}),
                          (t.prototype.onSceneChanged = function (e) {}),
                          (t.prototype.onPressedAndDrag = function (e) {
                              Be(this, "needBufferDragEvent") ? (ht(Be(this, "dragEventsBuffer"), "push", [e]), ht(this, "checkShouldChangeGestureToDrag", [e])) : ht(this, "invokeCallback", [Be(this, "onDrag"), e]);
                          }),
                          (t.prototype.onMouseDown = function (e) {
                              da(this, "pressedPoint", Tc({ x: Be(e, "x"), y: Be(e, "y") })),
                                  ht(this, "makeSureItsDraggingEvent", [e]) ? ht(this, "invokeCallback", [Be(this, "onDraggingStateChanged"), e]) : da(this, "dragEventsBuffer", Tc([])),
                                  ht(this, "onPressedAndDrag", [e]);
                          }),
                          (t.prototype.onMouseMove = function (e) {
                              Be(this, "isPressDown") ? ht(this, "onPressedAndDrag", [e]) : ht(this, "invokeCallback", [Be(this, "onHover"), e]);
                          }),
                          (t.prototype.onMouseUp = function (e) {
                              if (Be(this, "isPressDown")) {
                                  var r = !1;
                                  ht(this, "onPressedAndDrag", [e]),
                                      Be(this, "needBufferDragEvent") && (da(this, "dragEventsBuffer", null), ht(this, "invokeCallback", [Be(this, "onClick"), e]), (r = !0)),
                                      da(this, "pressedPoint", null),
                                      r || ht(this, "invokeCallback", [Be(this, "onDraggingStateChanged"), e]);
                              }
                          }),
                          (t.prototype.checkShouldChangeGestureToDrag = function (e) {
                              if (!!ht(this, "shouldChangeGestureToDrag", [Be(e, "x"), Be(e, "y")])) {
                                  var r = Be(this, "dragEventsBuffer");
                                  if ((da(this, "dragEventsBuffer", null), Be(r, "length") > 0)) {
                                      var i = Be(r, 0);
                                      ht(this, "invokeCallback", [Be(this, "onDraggingStateChanged"), i]);
                                      for (var A = 0, a = Jg(r); A < a.length; A++) {
                                          var o = a[A];
                                          ht(this, "invokeCallback", [Be(this, "onDrag"), o]);
                                      }
                                  }
                              }
                          }),
                          (t.prototype.shouldChangeGestureToDrag = function (e, r) {
                              var i = Be(Be(this, "pressedPoint"), "x") - e,
                                  A = Be(Be(this, "pressedPoint"), "y") - r,
                                  a = $g;
                              return a * a < i * i + A * A;
                          }),
                          (t.prototype.invokeCallback = function (e, r) {
                              try {
                                  ht(e, "call", [Kg(this), r]);
                              } catch (i) {
                                  ht(console, "error", [i]);
                              }
                          }),
                          t
                      );
                  })(bi.baseClass());
              mA.Gesture = Oc;
              bi.declareClass({ classId: 43, clazz: Oc });
              bi = null;
          });
          var ga = C(function (Zr) {
              "use strict";
              Object.defineProperty(Zr, "__esModule", { value: !0 });
              Zr.searchEditableComponentsByRectangle = Zr.findHighlightComponent = Zr.setHighlightNothing = Zr.willIgnoreSelectingBox = void 0;
              var fa = require("akko").__context("module"),
                  Nn = fa.caller,
                  Al = fa.unwrapper,
                  Ec = fa.creator,
                  al = fa.getter,
                  ol = yt(),
                  ev = Gn();
              function Gc(n, t) {
                  var e = 1;
                  return n <= e && t <= e;
              }
              Zr.willIgnoreSelectingBox = Gc;
              function tv(n, t) {
                  Nn(n, "forEachComponents", [
                      function (e) {
                          Al(e) instanceof ol.Editable && Nn(e, "setHighlightBy", [!1, t]);
                      },
                  ]);
              }
              Zr.setHighlightNothing = tv;
              function rv(n, t) {
                  return Nn(n, "findComponentFromTop", [
                      function (e) {
                          return Al(e) instanceof ol.Editable ? Nn(e, "isHighlightBy", [t]) : !1;
                      },
                  ]);
              }
              Zr.findHighlightComponent = rv;
              function iv(n, t, e, r, i) {
                  if (Gc(r, i)) return Ec([]);
                  var A = Ec([]);
                  return (
                      Nn(n, "forEachComponents", [
                          function (a) {
                              Al(a) instanceof ol.Editable && al(a, "selectable") && !al(a, "locked") && Nn(a, "rectHitTest", [t, e, r, i]) !== al(ev.RectangleTestingResult, "Disjoint") && Nn(A, "push", [a]);
                          },
                      ]),
                      A
                  );
              }
              Zr.searchEditableComponentsByRectangle = iv;
              fa = null;
          });
          var Ot = C(function (Ki) {
              "use strict";
              var nv =
                      (Ki && Ki.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  Av =
                      (Ki && Ki.__exportStar) ||
                      function (n, t) {
                          for (var e in n) e !== "default" && !t.hasOwnProperty(e) && nv(t, n, e);
                      };
              Object.defineProperty(Ki, "__esModule", { value: !0 });
              var av = nl();
              Object.defineProperty(Ki, "Gesture", {
                  enumerable: !0,
                  get: function () {
                      return av.Gesture;
                  },
              });
              Av(ga(), Ki);
          });
          var Wc = C(function (bA) {
              "use strict";
              var ov =
                  (bA && bA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(bA, "__esModule", { value: !0 });
              bA.EllipseTester = void 0;
              var va = require("akko").__context("module"),
                  ae = va.getter,
                  Jt = va.caller,
                  yA = ia(),
                  sl = Ua(),
                  jc = (function (n) {
                      ov(t, n);
                      function t(e, r, i, A) {
                          var a = n.call(this) || this;
                          return (a.circleCenterX = e), (a.circleCenterY = r), (a.width = i), (a.height = A), a;
                      }
                      return (
                          (t.prototype.pointHitTest = function (e, r) {
                              var i = e,
                                  A = r;
                              return (i = ((i - ae(this, "circleCenterX")) / ae(this, "width")) * 2), (A = ((A - ae(this, "circleCenterY")) / ae(this, "height")) * 2), i * i + A * A <= 1;
                          }),
                          (t.prototype.rectHitTest = function (e, r, i, A) {
                              var a = this,
                                  o = !1,
                                  s = !1;
                              if (
                                  (Jt(sl.RectangleTester, "iterate", [
                                      e,
                                      r,
                                      i,
                                      A,
                                      function (h, v) {
                                          Jt(a, "pointHitTest", [h, v]) ? (o = !0) : (s = !0);
                                      },
                                  ]),
                                  o && s)
                              )
                                  return ae(yA.RectangleTestingResult, "Cross");
                              if (o) return ae(yA.RectangleTestingResult, "IncludeRectangle");
                              if (s) {
                                  for (var l = Jt(sl.RectangleTester, "allPoints", [e, r, i, A]), u = 0; u < ae(l, "length"); ++u) {
                                      var c = ae(l, u),
                                          p = ae(l, (u + 1) % ae(l, "length"));
                                      if (ae(c, "x") === ae(p, "x")) {
                                          if (Jt(this, "checkCrossVertical", [ae(c, "x"), ae(c, "y"), ae(p, "y")])) return ae(yA.RectangleTestingResult, "Cross");
                                      } else if (Jt(this, "checkCrossHorizontal", [ae(c, "y"), ae(c, "x"), ae(p, "x")])) return ae(yA.RectangleTestingResult, "Cross");
                                  }
                                  if (Jt(sl.RectangleTester, "testPoint", [e, r, i, A, ae(this, "circleCenterX"), ae(this, "circleCenterY")])) return ae(yA.RectangleTestingResult, "IncludeByRectangle");
                              }
                              return ae(yA.RectangleTestingResult, "Disjoint");
                          }),
                          (t.prototype.checkCrossVertical = function (e, r, i) {
                              return (
                                  (e = ((e - ae(this, "circleCenterX")) / ae(this, "width")) * 2),
                                  (r = ((r - ae(this, "circleCenterY")) / ae(this, "height")) * 2),
                                  (i = ((i - ae(this, "circleCenterY")) / ae(this, "height")) * 2),
                                  Jt(this, "checkCrossGeometrical", [Jt(Math, "abs", [e]), r, i])
                              );
                          }),
                          (t.prototype.checkCrossHorizontal = function (e, r, i) {
                              return (
                                  (e = ((e - ae(this, "circleCenterY")) / ae(this, "height")) * 2),
                                  (r = ((r - ae(this, "circleCenterX")) / ae(this, "width")) * 2),
                                  (i = ((i - ae(this, "circleCenterX")) / ae(this, "width")) * 2),
                                  Jt(this, "checkCrossGeometrical", [Jt(Math, "abs", [e]), r, i])
                              );
                          }),
                          (t.prototype.checkCrossGeometrical = function (e, r, i) {
                              if (e > 1) return !1;
                              var A = Jt(Math, "sqrt", [1 - e * e]),
                                  a = Jt(Math, "max", [r, i]),
                                  o = Jt(Math, "min", [r, i]);
                              return (a >= A && A >= o) || (a >= -A && -A >= o);
                          }),
                          t
                      );
                  })(va.baseClass());
              bA.EllipseTester = jc;
              va.declareClass({ classId: 11, clazz: jc });
              va = null;
          });
          var lo = C(function (Xr) {
              "use strict";
              var Zc =
                      (Xr && Xr.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  ma =
                      (Xr && Xr.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(Xr, "__esModule", { value: !0 });
              Xr.EllipseShape = Xr.EllipseAppliance = void 0;
              var Vr = require("akko").__context("module"),
                  he = Vr.setter,
                  j = Vr.getter,
                  de = Vr.caller,
                  ll = Vr.wrapper,
                  ya = Vr.creator,
                  Ir = require("akko"),
                  Vc = Ot(),
                  Ic = yt(),
                  Xc = Wc(),
                  $i = Gn(),
                  kc = (function (n) {
                      Zc(t, n);
                      function t(e) {
                          var r = n.call(this) || this;
                          return (r.paintingEllipseShape = null), (r.beginPoint = null), (r.isCenterMode = !1), (r.isShiftPress = !1), (r.isCommandPress = !1), (r.latestDragX = 0), (r.latestDragY = 0), he(r, "context", e), r;
                      }
                      return (
                          Object.defineProperty(t.prototype, "fixedCursorInScenePoint", { get: function () {}, enumerable: !1, configurable: !0 }),
                          (t.prototype.onKeyUp = function (e) {
                              switch (j(e, "kind")) {
                                  case "lock": {
                                      he(this, "isShiftPress", !1), j(this, "beginPoint") && de(this, "refreshPaintingEllipseShape", []);
                                      break;
                                  }
                                  case "lockCenter": {
                                      he(this, "isCommandPress", !1);
                                      break;
                                  }
                              }
                          }),
                          (t.prototype.onKeyDown = function (e) {
                              switch (j(e, "kind")) {
                                  case "lock": {
                                      he(this, "isShiftPress", !0), j(this, "beginPoint") && de(this, "refreshPaintingEllipseShape", []);
                                      break;
                                  }
                                  case "lockCenter": {
                                      he(this, "isCommandPress", !0);
                                      break;
                                  }
                              }
                          }),
                          (t.prototype.onSceneChanged = function () {
                              j(this, "paintingEllipseShape") && de(j(this, "paintingEllipseShape"), "completePainting", []), he(this, "paintingEllipseShape", null), he(this, "isShiftPress", !1), he(this, "beginPoint", null);
                          }),
                          (t.prototype.onDraggingStateChanged = function (e) {
                              var r = j(e, "x"),
                                  i = j(e, "y");
                              if (j(this, "isDragging"))
                                  he(this, "paintingEllipseShape", ll(new ul(j(this, "context")))),
                                      he(j(this, "paintingEllipseShape"), "originX", r),
                                      he(j(this, "paintingEllipseShape"), "originY", i),
                                      de(j(j(this, "context"), "scene"), "addComponent", [j(this, "paintingEllipseShape")]),
                                      he(this, "beginPoint", ya({ x: r, y: i })),
                                      he(this, "isCenterMode", j(this, "isCommandPress"));
                              else if (j(this, "paintingEllipseShape")) {
                                  de(j(this, "paintingEllipseShape"), "completePainting", []);
                                  var A = j(j(this, "context"), "executorHub");
                                  if (A && j(A, "enable")) {
                                      var a = ya({ create: de(j(this, "paintingEllipseShape"), "snapshot", []) });
                                      de(A, "commit", [j(j(this, "paintingEllipseShape"), "protoKey"), a, ya({ delete: !0 })]);
                                  }
                                  j(de(j(this, "context"), "getMemberState", []), "ellipseCompleteToSelector") &&
                                      (de(j(this, "context"), "setMemberState", [ya({ currentApplianceName: "selector" })]),
                                      de(de(j(this, "context"), "getAppliance", ["selector"]), "selectComponents", [ya([j(this, "paintingEllipseShape")])])),
                                      he(this, "paintingEllipseShape", null),
                                      he(this, "beginPoint", null),
                                      he(this, "isCenterMode", !1);
                              }
                          }),
                          (t.prototype.onDrag = function (e) {
                              var r = j(e, "x"),
                                  i = j(e, "y");
                              he(this, "latestDragX", r), he(this, "latestDragY", i), de(this, "refreshPaintingEllipseShape", []);
                          }),
                          (t.prototype.refreshPaintingEllipseShape = function () {
                              j(this, "isCenterMode") ? de(this, "refreshCenterMode", []) : de(this, "refreshLeftTopMode", []);
                          }),
                          (t.prototype.refreshCenterMode = function () {
                              var e = de(Math, "abs", [j(this, "latestDragX") - j(j(this, "beginPoint"), "x")]),
                                  r = de(Math, "abs", [j(this, "latestDragY") - j(j(this, "beginPoint"), "y")]);
                              j(this, "isShiftPress") && ((e = de(Math, "max", [e, r])), (r = e));
                              var i = j(this, "paintingEllipseShape");
                              he(i, "originX", j(j(this, "beginPoint"), "x") - e), he(i, "originY", j(j(this, "beginPoint"), "y") - r), he(i, "width", 2 * e), he(i, "height", 2 * r);
                          }),
                          (t.prototype.refreshLeftTopMode = function () {
                              var e = j(this, "paintingEllipseShape");
                              if (
                                  (he(e, "originX", de(Math, "min", [j(this, "latestDragX"), j(j(this, "beginPoint"), "x")])),
                                  he(e, "originY", de(Math, "min", [j(this, "latestDragY"), j(j(this, "beginPoint"), "y")])),
                                  j(this, "isShiftPress"))
                              ) {
                                  var r = de(Math, "abs", [j(this, "latestDragX") - j(j(this, "beginPoint"), "x")]),
                                      i = de(Math, "abs", [j(this, "latestDragY") - j(j(this, "beginPoint"), "y")]),
                                      A = de(Math, "max", [r, i]);
                                  he(e, "width", A), he(e, "height", A);
                              } else he(e, "width", de(Math, "abs", [j(this, "latestDragX") - j(j(this, "beginPoint"), "x")])), he(e, "height", de(Math, "abs", [j(this, "latestDragY") - j(j(this, "beginPoint"), "y")]));
                          }),
                          (t.prototype.onDestroy = function () {
                              j(this, "paintingEllipseShape") && de(j(this, "paintingEllipseShape"), "completePainting", []);
                          }),
                          t
                      );
                  })(Vr.wrapSuperClass(Vc.Gesture));
              Xr.EllipseAppliance = kc;
              var ul = (function (n) {
                  Zc(t, n);
                  function t(e) {
                      var r = n.call(this, e) || this;
                      return (r.originX = 0), (r.originY = 0), (r.width = 0), (r.height = 0), (r.isPainting = !0), he(r, "state", de(e, "getMemberState", [])), r;
                  }
                  return (
                      Object.defineProperty(t.prototype, "dottedLine", {
                          get: function () {
                              return !!j(j(this, "state"), "dottedLine");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "selectable", {
                          get: function () {
                              return j(this, "isNotRotating") && !j(this, "isPainting");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "showCenter", {
                          get: function () {
                              return j(this, "isPainting");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "hitTestingBoxMargin", {
                          get: function () {
                              return j(j(this, "state"), "strokeWidth") / 2;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "locked", {
                          get: function () {
                              return !1;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      (t.prototype.completePainting = function () {
                          he(this, "isPainting", !1);
                      }),
                      (t.prototype.rectHitTestContent = function (e, r, i, A, a, o) {
                          var s = de(this, "outerEllipseTester", [o]),
                              l = de(s, "rectHitTest", [r, i, A, a]);
                          if (l === j($i.RectangleTestingResult, "IncludeRectangle")) {
                              var u = de(this, "innerEllipseTester", [o]);
                              if (u)
                                  switch (de(u, "rectHitTest", [r, i, A, a])) {
                                      case j($i.RectangleTestingResult, "Disjoint"):
                                          return j($i.RectangleTestingResult, "IncludeRectangle");
                                      case j($i.RectangleTestingResult, "IncludeByRectangle"):
                                      case j($i.RectangleTestingResult, "Cross"):
                                          return j($i.RectangleTestingResult, "Cross");
                                      case j($i.RectangleTestingResult, "IncludeRectangle"):
                                          return j($i.RectangleTestingResult, "Disjoint");
                                  }
                          }
                          return l;
                      }),
                      (t.prototype.outerEllipseTester = function (e) {
                          var r = j(this, "width") + 2 * e,
                              i = j(this, "height") + 2 * e,
                              A = j(this, "width") / 2,
                              a = j(this, "height") / 2;
                          return ll(new Xc.EllipseTester(A, a, r, i));
                      }),
                      (t.prototype.innerEllipseTester = function (e) {
                          var r = j(this, "width") - 2 * e,
                              i = j(this, "height") - 2 * e;
                          if (!(r <= 0 || i <= 0)) {
                              var A = j(this, "width") / 2,
                                  a = j(this, "height") / 2;
                              return ll(new Xc.EllipseTester(A, a, r, i));
                          }
                      }),
                      ma([Ir.noEffects], t.prototype, "dottedLine", null),
                      ma([Ir.noEffects], t.prototype, "selectable", null),
                      ma([Ir.noEffects], t.prototype, "showCenter", null),
                      ma([Ir.noEffects], t.prototype, "hitTestingBoxMargin", null),
                      ma([Ir.noEffects], t.prototype, "locked", null),
                      t
                  );
              })(Vr.wrapSuperClass(Ic.Editable));
              Xr.EllipseShape = ul;
              Vr.declareClass({ classId: 17, clazz: kc, superClass: Vc.Gesture });
              Vr.declareClass({
                  classId: 18,
                  clazz: ul,
                  superClass: Ic.Editable,
                  memberDecorators: { dottedLine: [Ir.noEffects], selectable: [Ir.noEffects], showCenter: [Ir.noEffects], hitTestingBoxMargin: [Ir.noEffects], locked: [Ir.noEffects] },
              });
              Vr = null;
          });
          var hl = C(function (Nr) {
              "use strict";
              var Nc =
                      (Nr && Nr.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  cl =
                      (Nr && Nr.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(Nr, "__esModule", { value: !0 });
              Nr.Shape = Nr.ShapeAppliance = void 0;
              var kr = require("akko").__context("module"),
                  Me = kr.setter,
                  H = kr.getter,
                  Ye = kr.caller,
                  sv = kr.wrapper,
                  ba = kr.creator,
                  PA = require("akko"),
                  Hc = Ot(),
                  Dc = yt(),
                  Yc = (function (n) {
                      Nc(t, n);
                      function t(e) {
                          var r = n.call(this) || this;
                          return (r.paintingShape = null), (r.beginPoint = null), (r.isShiftPress = !1), (r.latestDragX = 0), (r.latestDragY = 0), Me(r, "context", e), r;
                      }
                      return (
                          Object.defineProperty(t.prototype, "fixedCursorInScenePoint", { get: function () {}, enumerable: !1, configurable: !0 }),
                          (t.prototype.onKeyUp = function (e) {
                              H(e, "kind") === "lock" && (Me(this, "isShiftPress", !1), H(this, "beginPoint") && Ye(this, "refreshPaintingShape", []));
                          }),
                          (t.prototype.onKeyDown = function (e) {
                              H(e, "kind") === "lock" && (Me(this, "isShiftPress", !0), H(this, "beginPoint") && Ye(this, "refreshPaintingShape", []));
                          }),
                          (t.prototype.onSceneChanged = function () {
                              H(this, "paintingShape") && Ye(H(this, "paintingShape"), "completePainting", []), Me(this, "paintingShape", null), Me(this, "isShiftPress", !1), Me(this, "beginPoint", null);
                          }),
                          (t.prototype.onDraggingStateChanged = function (e) {
                              var r = H(e, "x"),
                                  i = H(e, "y");
                              if (H(this, "isDragging"))
                                  Me(this, "paintingShape", sv(new pl(H(this, "context")))),
                                      Me(H(this, "paintingShape"), "originX", r),
                                      Me(H(this, "paintingShape"), "originY", i),
                                      Ye(H(H(this, "context"), "scene"), "addComponent", [H(this, "paintingShape")]),
                                      Me(this, "beginPoint", ba({ x: r, y: i }));
                              else if (H(this, "paintingShape")) {
                                  Ye(H(this, "paintingShape"), "completePainting", []);
                                  var A = H(H(this, "context"), "executorHub");
                                  if (A && H(A, "enable")) {
                                      var a = ba({ create: Ye(H(this, "paintingShape"), "snapshot", []) });
                                      Ye(A, "commit", [H(H(this, "paintingShape"), "protoKey"), a, ba({ delete: !0 })]);
                                  }
                                  H(Ye(H(this, "context"), "getMemberState", []), "shapeCompleteToSelector") &&
                                      (Ye(H(this, "context"), "setMemberState", [ba({ currentApplianceName: "selector" })]), Ye(Ye(H(this, "context"), "getAppliance", ["selector"]), "selectComponents", [ba([H(this, "paintingShape")])])),
                                      Me(this, "paintingShape", null),
                                      Me(this, "beginPoint", null);
                              }
                          }),
                          (t.prototype.onDrag = function (e) {
                              var r = H(e, "x"),
                                  i = H(e, "y");
                              Me(this, "latestDragX", r), Me(this, "latestDragY", i), Ye(this, "refreshPaintingShape", []);
                          }),
                          (t.prototype.refreshPaintingShape = function () {
                              var e = H(this, "paintingShape");
                              if (
                                  (Me(e, "originX", Ye(Math, "min", [H(this, "latestDragX"), H(H(this, "beginPoint"), "x")])),
                                  Me(e, "originY", Ye(Math, "min", [H(this, "latestDragY"), H(H(this, "beginPoint"), "y")])),
                                  H(this, "isShiftPress"))
                              ) {
                                  var r = Ye(Math, "abs", [H(this, "latestDragX") - H(H(this, "beginPoint"), "x")]),
                                      i = Ye(Math, "abs", [H(this, "latestDragY") - H(H(this, "beginPoint"), "y")]),
                                      A = Ye(Math, "max", [r, i]);
                                  Me(e, "width", A), Me(e, "height", A);
                              } else Me(e, "width", Ye(Math, "abs", [H(this, "latestDragX") - H(H(this, "beginPoint"), "x")])), Me(e, "height", Ye(Math, "abs", [H(this, "latestDragY") - H(H(this, "beginPoint"), "y")]));
                          }),
                          (t.prototype.onDestroy = function () {
                              H(this, "paintingShape") && Ye(H(this, "paintingShape"), "completePainting", []);
                          }),
                          t
                      );
                  })(kr.wrapSuperClass(Hc.Gesture));
              Nr.ShapeAppliance = Yc;
              var pl = (function (n) {
                  Nc(t, n);
                  function t(e) {
                      var r = n.call(this, e) || this;
                      (r.originX = 0), (r.originY = 0), (r.width = 0), (r.height = 0), (r.isPainting = !0);
                      var i = Ye(e, "getMemberState", []),
                          A = H(i, "strokeColor"),
                          a = H(i, "fillColor"),
                          o = H(i, "strokeWidth"),
                          s = H(i, "shapeType"),
                          l = H(i, "dottedLine");
                      return Me(r, "strokeColor", A), Me(r, "fillColor", a), Me(r, "strokeWidth", o), Me(r, "shapeType", s), Me(r, "dottedLine", l), r;
                  }
                  return (
                      Object.defineProperty(t.prototype, "selectable", {
                          get: function () {
                              return H(this, "isNotRotating") && !H(this, "isPainting");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "hitTestingBoxMargin", {
                          get: function () {
                              return H(this, "strokeWidth") / 2;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "locked", {
                          get: function () {
                              return !1;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      (t.prototype.completePainting = function () {
                          Me(this, "isPainting", !1);
                      }),
                      cl([PA.noEffects], t.prototype, "selectable", null),
                      cl([PA.noEffects], t.prototype, "hitTestingBoxMargin", null),
                      cl([PA.noEffects], t.prototype, "locked", null),
                      t
                  );
              })(kr.wrapSuperClass(Dc.Editable));
              Nr.Shape = pl;
              kr.declareClass({ classId: 31, clazz: Yc, superClass: Hc.Gesture });
              kr.declareClass({ classId: 30, clazz: pl, superClass: Dc.Editable, memberDecorators: { selectable: [PA.noEffects], hitTestingBoxMargin: [PA.noEffects], locked: [PA.noEffects] } });
              kr = null;
          });
          var fl = C(function (Dr) {
              "use strict";
              var Fc =
                      (Dr && Dr.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  uo =
                      (Dr && Dr.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(Dr, "__esModule", { value: !0 });
              Dr.RectangleShape = Dr.RectangleAppliance = void 0;
              var Hr = require("akko").__context("module"),
                  Ie = Hr.setter,
                  I = Hr.getter,
                  we = Hr.caller,
                  zc = Hr.wrapper,
                  Pi = Hr.creator,
                  en = require("akko"),
                  Qc = Ot(),
                  qc = yt(),
                  _i = Gn(),
                  Uc = (function (n) {
                      Fc(t, n);
                      function t(e) {
                          var r = n.call(this) || this;
                          return (r.paintingRectangleShape = null), (r.beginPoint = null), (r.isShiftPress = !1), (r.latestDragX = 0), (r.latestDragY = 0), Ie(r, "context", e), r;
                      }
                      return (
                          Object.defineProperty(t.prototype, "fixedCursorInScenePoint", { get: function () {}, enumerable: !1, configurable: !0 }),
                          (t.prototype.onKeyUp = function (e) {
                              I(e, "kind") === "lock" && (Ie(this, "isShiftPress", !1), I(this, "beginPoint") && we(this, "refreshPaintingRectangleShape", []));
                          }),
                          (t.prototype.onKeyDown = function (e) {
                              I(e, "kind") === "lock" && (Ie(this, "isShiftPress", !0), I(this, "beginPoint") && we(this, "refreshPaintingRectangleShape", []));
                          }),
                          (t.prototype.onSceneChanged = function () {
                              I(this, "paintingRectangleShape") && we(I(this, "paintingRectangleShape"), "completePainting", []), Ie(this, "paintingRectangleShape", null), Ie(this, "isShiftPress", !1), Ie(this, "beginPoint", null);
                          }),
                          (t.prototype.onDraggingStateChanged = function (e) {
                              var r = I(e, "x"),
                                  i = I(e, "y");
                              if (I(this, "isDragging"))
                                  Ie(this, "paintingRectangleShape", zc(new dl(I(this, "context")))),
                                      Ie(I(this, "paintingRectangleShape"), "originX", r),
                                      Ie(I(this, "paintingRectangleShape"), "originY", i),
                                      we(I(I(this, "context"), "scene"), "addComponent", [I(this, "paintingRectangleShape")]),
                                      Ie(this, "beginPoint", Pi({ x: r, y: i }));
                              else if (I(this, "paintingRectangleShape")) {
                                  we(I(this, "paintingRectangleShape"), "completePainting", []);
                                  var A = I(I(this, "context"), "executorHub");
                                  if (A && I(A, "enable")) {
                                      var a = Pi({ create: we(I(this, "paintingRectangleShape"), "snapshot", []) });
                                      we(A, "commit", [I(I(this, "paintingRectangleShape"), "protoKey"), a, Pi({ delete: !0 })]);
                                  }
                                  I(we(I(this, "context"), "getMemberState", []), "rectangleCompleteToSelector") &&
                                      (we(I(this, "context"), "setMemberState", [Pi({ currentApplianceName: "selector" })]),
                                      we(we(I(this, "context"), "getAppliance", ["selector"]), "selectComponents", [Pi([I(this, "paintingRectangleShape")])])),
                                      Ie(this, "paintingRectangleShape", null),
                                      Ie(this, "beginPoint", null);
                              }
                          }),
                          (t.prototype.onDrag = function (e) {
                              var r = I(e, "x"),
                                  i = I(e, "y");
                              Ie(this, "latestDragX", r), Ie(this, "latestDragY", i), we(this, "refreshPaintingRectangleShape", []);
                          }),
                          (t.prototype.refreshPaintingRectangleShape = function () {
                              var e = I(this, "paintingRectangleShape");
                              if (
                                  (Ie(e, "originX", we(Math, "min", [I(this, "latestDragX"), I(I(this, "beginPoint"), "x")])),
                                  Ie(e, "originY", we(Math, "min", [I(this, "latestDragY"), I(I(this, "beginPoint"), "y")])),
                                  I(this, "isShiftPress"))
                              ) {
                                  var r = we(Math, "abs", [I(this, "latestDragX") - I(I(this, "beginPoint"), "x")]),
                                      i = we(Math, "abs", [I(this, "latestDragY") - I(I(this, "beginPoint"), "y")]),
                                      A = we(Math, "max", [r, i]);
                                  Ie(e, "width", A), Ie(e, "height", A);
                              } else Ie(e, "width", we(Math, "abs", [I(this, "latestDragX") - I(I(this, "beginPoint"), "x")])), Ie(e, "height", we(Math, "abs", [I(this, "latestDragY") - I(I(this, "beginPoint"), "y")]));
                          }),
                          (t.prototype.onDestroy = function () {
                              I(this, "paintingRectangleShape") && we(I(this, "paintingRectangleShape"), "completePainting", []);
                          }),
                          t
                      );
                  })(Hr.wrapSuperClass(Qc.Gesture));
              Dr.RectangleAppliance = Uc;
              var dl = (function (n) {
                  Fc(t, n);
                  function t(e) {
                      var r = n.call(this, e) || this;
                      return (r.originX = 0), (r.originY = 0), (r.width = 0), (r.height = 0), (r.isPainting = !0), Ie(r, "state", we(e, "getMemberState", [])), r;
                  }
                  return (
                      Object.defineProperty(t.prototype, "dottedLine", {
                          get: function () {
                              return !!I(I(this, "state"), "dottedLine");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "selectable", {
                          get: function () {
                              return I(this, "isNotRotating") && !I(this, "isPainting");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "hitTestingBoxMargin", {
                          get: function () {
                              return I(I(this, "state"), "strokeWidth") / 2;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "locked", {
                          get: function () {
                              return !1;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      (t.prototype.completePainting = function () {
                          Ie(this, "isPainting", !1);
                      }),
                      (t.prototype.rectHitTestContent = function (e, r, i, A, a, o) {
                          if (e === I(_i.RectangleTestingResult, "IncludeRectangle")) {
                              var s = we(this, "innerRectangleTester", [o]);
                              if (s)
                                  switch (we(s, "rectHitTest", [r, i, A, a])) {
                                      case I(_i.RectangleTestingResult, "Disjoint"):
                                          return I(_i.RectangleTestingResult, "IncludeRectangle");
                                      case I(_i.RectangleTestingResult, "IncludeByRectangle"):
                                      case I(_i.RectangleTestingResult, "Cross"):
                                          return I(_i.RectangleTestingResult, "Cross");
                                      case I(_i.RectangleTestingResult, "IncludeRectangle"):
                                          return I(_i.RectangleTestingResult, "Disjoint");
                                  }
                          }
                          return e;
                      }),
                      (t.prototype.innerRectangleTester = function (e) {
                          var r = zc(new _i.ConvexPolygonTester()),
                              i = e,
                              A = e,
                              a = I(this, "width") - 2 * e,
                              o = I(this, "height") - 2 * e;
                          if (!(a <= 0 || o <= 0))
                              return we(r, "pushPoint", [Pi({ x: i, y: A })]), we(r, "pushPoint", [Pi({ x: i + a, y: A })]), we(r, "pushPoint", [Pi({ x: i + a, y: A + o })]), we(r, "pushPoint", [Pi({ x: i, y: A + o })]), r;
                      }),
                      uo([en.noEffects], t.prototype, "dottedLine", null),
                      uo([en.noEffects], t.prototype, "selectable", null),
                      uo([en.noEffects], t.prototype, "hitTestingBoxMargin", null),
                      uo([en.noEffects], t.prototype, "locked", null),
                      t
                  );
              })(Hr.wrapSuperClass(qc.Editable));
              Dr.RectangleShape = dl;
              Hr.declareClass({ classId: 26, clazz: Uc, superClass: Qc.Gesture });
              Hr.declareClass({ classId: 27, clazz: dl, superClass: qc.Editable, memberDecorators: { dottedLine: [en.noEffects], selectable: [en.noEffects], hitTestingBoxMargin: [en.noEffects], locked: [en.noEffects] } });
              Hr = null;
          });
          var Jc = C(function (nn) {
              "use strict";
              var lv =
                      (nn && nn.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  uv =
                      (nn && nn.__spreadArrays) ||
                      function () {
                          for (var n = 0, t = 0, e = arguments.length; t < e; t++) n += arguments[t].length;
                          for (var r = Array(n), i = 0, t = 0; t < e; t++) for (var A = arguments[t], a = 0, o = A.length; a < o; a++, i++) r[i] = A[a];
                          return r;
                      };
              Object.defineProperty(nn, "__esModule", { value: !0 });
              nn.SparsePloughPoints = void 0;
              var tn = require("akko").__context("module"),
                  rn = tn.creator,
                  F = tn.getter,
                  cv = tn.unwrapper,
                  lt = tn.caller,
                  Si = tn.setter,
                  Lc = (function (n) {
                      lv(t, n);
                      function t() {
                          var e = (n !== null && n.apply(this, arguments)) || this;
                          return (e.widthThreshold = 0), (e.humpThreshold = 0), (e.points = rn([])), (e.plough = null), (e._pushedCount = 0), e;
                      }
                      return (
                          Object.defineProperty(t.prototype, "is2DGraphic", {
                              get: function () {
                                  return F(F(this, "points"), "length") >= 2 ? !0 : !!F(this, "plough");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "pushedCount", {
                              get: function () {
                                  return F(this, "_pushedCount");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.displayPoints = function () {
                              var e = rn(uv(cv(F(this, "points"))));
                              return F(this, "plough") && (e = lt(this, "fillPloughPoints", [e])), e;
                          }),
                          (t.prototype.complete = function () {
                              return F(this, "plough") && (lt(this, "fillPloughPoints", [F(this, "points")]), Si(this, "plough", null)), F(this, "points");
                          }),
                          (t.prototype.pushPoint = function (e, r) {
                              F(this, "widthThreshold") <= 0 || F(this, "humpThreshold") <= 0
                                  ? (F(this, "plough") && (lt(this, "fillPloughPoints", [F(this, "points")]), Si(this, "plough", null)), lt(F(this, "points"), "push", [rn({ x: e, y: r })]))
                                  : F(F(this, "points"), "length") === 0
                                  ? lt(F(this, "points"), "push", [rn({ x: e, y: r })])
                                  : F(this, "plough")
                                  ? lt(this, "appendToPlough", [e, r])
                                  : Si(this, "plough", lt(this, "createPlough", [e, r])),
                                  Si(this, "_pushedCount", F(this, "_pushedCount") + 1);
                          }),
                          (t.prototype.createPlough = function (e, r) {
                              var i = F(F(this, "points"), F(F(this, "points"), "length") - 1),
                                  A = F(i, "x"),
                                  a = F(i, "y"),
                                  o = e - A,
                                  s = r - a,
                                  l = lt(Math, "sqrt", [o * o + s * s]);
                              if (l !== 0) {
                                  var u = o / l,
                                      c = s / l,
                                      p = 0,
                                      h = lt(Math, "abs", [l]),
                                      v = e,
                                      y = r;
                                  return rn({ unitX: u, unitY: c, begin: p, end: h, endX: v, endY: y });
                              } else return null;
                          }),
                          (t.prototype.appendToPlough = function (e, r) {
                              var i = F(F(this, "points"), F(F(this, "points"), "length") - 1),
                                  A = F(i, "x"),
                                  a = F(i, "y"),
                                  o = e - A,
                                  s = r - a,
                                  l = F(this, "plough"),
                                  u = lt(Math, "abs", [F(l, "unitX") * s - o * F(l, "unitY")]);
                              if (u <= F(this, "widthThreshold")) {
                                  var c = o * F(l, "unitX") + s * F(l, "unitY");
                                  F(l, "begin") > c ? Si(l, "begin", c) : F(l, "end") < c && Si(l, "end", c), Si(l, "endX", e), Si(l, "endY", r);
                              } else lt(this, "fillPloughPoints", [F(this, "points")]), Si(this, "plough", lt(this, "createPlough", [e, r]));
                          }),
                          (t.prototype.fillPloughPoints = function (e) {
                              var r = F(this, "plough"),
                                  i = F(r, "begin"),
                                  A = F(r, "end"),
                                  a = F(F(this, "points"), F(F(this, "points"), "length") - 1),
                                  o = F(a, "x"),
                                  s = F(a, "y"),
                                  l = F(this, "plough"),
                                  u = F(l, "unitX"),
                                  c = F(l, "unitY"),
                                  p = F(l, "endX"),
                                  h = F(l, "endY"),
                                  v = (p - o) * u + (h - s) * c;
                              if (v < 0) {
                                  var y = i;
                                  (i = A), (A = y);
                              }
                              return (
                                  lt(Math, "abs", [i]) > F(this, "humpThreshold") && lt(e, "push", [rn({ x: o + i * u, y: s + i * c })]),
                                  lt(Math, "abs", [A - v]) > F(this, "humpThreshold") && lt(e, "push", [rn({ x: o + A * u, y: s + A * c })]),
                                  lt(e, "push", [rn({ x: p, y: h })]),
                                  e
                              );
                          }),
                          t
                      );
                  })(tn.baseClass());
              nn.SparsePloughPoints = Lc;
              tn.declareClass({ classId: 41, clazz: Lc });
              tn = null;
          });
          var vl = C(function (Yr) {
              "use strict";
              var Kc =
                      (Yr && Yr.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  Pa =
                      (Yr && Yr.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(Yr, "__esModule", { value: !0 });
              Yr.CurveShape = Yr.PencilAppliance = void 0;
              var Br = require("akko").__context("module"),
                  ee = Br.setter,
                  R = Br.getter,
                  q = Br.caller,
                  _a = Br.wrapper,
                  Kt = Br.creator,
                  co = Br.unwrapper,
                  nr = require("akko"),
                  $c = Ot(),
                  ep = yt(),
                  pv = Jc(),
                  gl = ua(),
                  hv = lo();
              function tp(n, t) {
                  return t === 0 ? 1 : n / t;
              }
              var rp = (function (n) {
                  Kc(t, n);
                  function t(e) {
                      var r = n.call(this) || this;
                      return (r.paintingCurveShape = null), (r.paintingBezierCurveShape = null), (r.paintingEllipseShape = null), (r.circluarState = null), ee(r, "context", e), r;
                  }
                  return (
                      Object.defineProperty(t.prototype, "fixedCursorInScenePoint", { get: function () {}, enumerable: !1, configurable: !0 }),
                      (t.prototype.onSceneChanged = function () {
                          R(this, "paintingCurveShape") && (q(R(this, "paintingCurveShape"), "completePainting", []), ee(this, "paintingCurveShape", null)),
                              R(this, "paintingBezierCurveShape") && (q(R(this, "paintingBezierCurveShape"), "completePainting", []), ee(this, "paintingBezierCurveShape", null)),
                              R(this, "paintingEllipseShape") && (q(R(this, "paintingEllipseShape"), "completePainting", []), ee(this, "paintingEllipseShape", null), ee(this, "circluarState", null));
                      }),
                      (t.prototype.onClick = function (e) {
                          var r = R(e, "x"),
                              i = R(e, "y");
                          if (!R(this, "paintingCurveShape")) {
                              var A = q(R(this, "context"), "getMemberState", []);
                              if (A && R(R(A, "pencilOptions"), "enableDrawPoint")) {
                                  var a = _a(new po(R(this, "context")));
                                  q(R(R(this, "context"), "scene"), "addComponent", [a]), q(this, "pushPointToCurveShape", [a, r, i]), q(a, "completePainting", []), q(this, "commitCreateLegacyShape", [a]);
                              }
                          }
                      }),
                      (t.prototype.pushPointToCurveShape = function (e, r, i) {
                          var A = R(q(R(this, "context"), "getViewState", []), "pixelWidth"),
                              a = R(q(R(this, "context"), "getMemberState", []), "pencilOptions"),
                              o = R(a, "sparseWidth"),
                              s = R(a, "sparseHump"),
                              l = o / A,
                              u = s / A;
                          q(e, "pushPoint", [r, i, l, u]);
                      }),
                      (t.prototype.onDraggingStateChanged = function () {
                          if (R(this, "isDragging")) ee(this, "paintingCurveShape", _a(new po(R(this, "context")))), q(R(R(this, "context"), "scene"), "addComponent", [R(this, "paintingCurveShape")]);
                          else if (R(this, "paintingCurveShape")) {
                              var e = R(this, "paintingCurveShape");
                              ee(this, "paintingCurveShape", null), q(e, "completePainting", []), q(this, "commitCreateLegacyShape", [e]);
                          }
                      }),
                      (t.prototype.commitCreateLegacyShape = function (e) {
                          var r = R(R(this, "context"), "executorHub");
                          if (r && R(r, "enable")) {
                              var i = Kt({ create: q(e, "snapshot", []) });
                              q(r, "commit", [R(e, "protoKey"), i, Kt({ delete: !0 })]);
                          }
                      }),
                      (t.prototype.commitCreateShape = function (e) {
                          var r = R(R(this, "context"), "executorHub");
                          if (r && R(r, "enable")) {
                              var i = Kt({ create: q(e, "snapshot", []) });
                              q(r, "commit", [R(e, "protoKey"), i, Kt({ delete: !0 })]);
                          }
                      }),
                      (t.prototype.onDrag = function (e) {
                          var r = R(e, "x"),
                              i = R(e, "y");
                          R(this, "paintingCurveShape") && q(this, "pushPointToCurveShape", [R(this, "paintingCurveShape"), r, i]);
                      }),
                      (t.prototype.onDestroy = function () {
                          R(this, "paintingCurveShape") && q(R(this, "paintingCurveShape"), "completePainting", []), R(this, "paintingBezierCurveShape") && q(R(this, "paintingBezierCurveShape"), "completePainting", []);
                      }),
                      (t.prototype.createBezierCurve = function (e) {
                          var r = null;
                          return R(this, "paintingBezierCurveShape") || ((r = ee(this, "paintingBezierCurveShape", _a(new gl.BezierCurveShape(R(this, "context"), e)))), q(R(R(this, "context"), "scene"), "addComponent", [r])), r;
                      }),
                      (t.prototype.appendBezierCurveTail = function (e, r) {
                          R(this, "paintingBezierCurveShape") && q(R(this, "paintingBezierCurveShape"), "appendTail", [e, r]);
                      }),
                      (t.prototype.updateBezierCurveTail = function (e, r) {
                          R(this, "paintingBezierCurveShape") && q(R(this, "paintingBezierCurveShape"), "updateTail", [e, r]);
                      }),
                      (t.prototype.splitBezierCurveTail = function (e, r) {
                          R(this, "paintingBezierCurveShape") && q(R(this, "paintingBezierCurveShape"), "splitTail", [e, r]);
                      }),
                      (t.prototype.addBezierCurveExtraSteups = function () {
                          R(this, "paintingBezierCurveShape") && q(R(this, "paintingBezierCurveShape"), "addExtraSteups", []);
                      }),
                      (t.prototype.completePainting = function () {
                          var e = R(this, "paintingBezierCurveShape");
                          e && (ee(this, "paintingBezierCurveShape", null), q(e, "completePainting", []), q(this, "commitCreateShape", [e]));
                      }),
                      (t.prototype.cancelPainting = function () {
                          var e = R(this, "paintingBezierCurveShape");
                          e && (ee(this, "paintingBezierCurveShape", null), q(R(R(this, "context"), "scene"), "removeComponent", [e]));
                      }),
                      (t.prototype.beginPencilCircular = function (e, r, i) {
                          ee(this, "paintingEllipseShape", _a(new hv.EllipseShape(R(this, "context")))),
                              ee(R(this, "paintingEllipseShape"), "originX", e),
                              ee(R(this, "paintingEllipseShape"), "originY", r),
                              q(R(R(this, "context"), "scene"), "addComponent", [R(this, "paintingEllipseShape")]),
                              ee(this, "circluarState", Kt({ x: e, y: r, isCenterMode: i }));
                      }),
                      (t.prototype.movePencilCircular = function (e, r) {
                          var i = R(this, "paintingEllipseShape");
                          if (i && R(this, "circluarState")) {
                              var A = R(R(this, "circluarState"), "x"),
                                  a = R(R(this, "circluarState"), "y");
                              if (R(R(this, "circluarState"), "isCenterMode")) {
                                  var o = q(Math, "abs", [e - A]),
                                      s = q(Math, "abs", [r - a]),
                                      l = q(Math, "max", [o, s]);
                                  ee(i, "originX", A - l), ee(i, "originY", a - l), ee(i, "width", 2 * l), ee(i, "height", 2 * l);
                              } else {
                                  ee(i, "originX", q(Math, "min", [e, A])), ee(i, "originY", q(Math, "min", [r, a]));
                                  var o = q(Math, "abs", [e - A]),
                                      s = q(Math, "abs", [r - a]),
                                      u = q(Math, "max", [o, s]);
                                  ee(i, "width", u), ee(i, "height", u);
                              }
                          }
                      }),
                      (t.prototype.completePencilCircular = function (e, r) {
                          if (R(this, "paintingEllipseShape")) {
                              q(this, "movePencilCircular", [e, r]), q(R(this, "paintingEllipseShape"), "completePainting", []);
                              var i = R(R(this, "context"), "executorHub");
                              if (i && R(i, "enable")) {
                                  var A = Kt({ create: q(R(this, "paintingEllipseShape"), "snapshot", []) });
                                  q(i, "commit", [R(R(this, "paintingEllipseShape"), "protoKey"), A, Kt({ delete: !0 })]);
                              }
                              ee(this, "paintingEllipseShape", null), ee(this, "circluarState", null);
                          }
                      }),
                      (t.prototype.collectNewPencilCurves = function (e, r, i, A, a) {
                          var o = Kt([]);
                          return (
                              q(a, "forEachComponents", [
                                  function (s) {
                                      co(s) instanceof gl.BezierCurveShape && R(s, "selectable") && q(s, "rectHitTest", [e, r, i, A]) && q(o, "push", [s]);
                                  },
                              ]),
                              o
                          );
                      }),
                      (t.prototype.updateNewPencilCurves = function (e, r, i) {
                          var A = Kt([]);
                          q(r, "forEachComponents", [
                              function (h, v) {
                                  if (co(h) instanceof gl.BezierCurveShape && R(h, "selectable")) {
                                      var y = R(e, R(h, "identifier"));
                                      y && q(A, "push", [Kt({ shape: h, index: v, updaters: y })]);
                                  }
                              },
                          ]);
                          for (var a = 0, o = 0, s = co(A); o < s.length; o++) {
                              var l = s[o],
                                  u = R(l, "shape"),
                                  c = R(l, "index"),
                                  p = R(l, "updaters");
                              q(u, "update", [p, r, c - a, i]), R(R(i, "removed"), R(u, "protoKey")) && a++;
                          }
                          return i;
                      }),
                      (t.createPencilOptions = function () {
                          return Kt({ enableDrawPoint: !1, disableBezier: !1, sparseHump: 3, sparseWidth: 4 });
                      }),
                      t
                  );
              })(Br.wrapSuperClass($c.Gesture));
              Yr.PencilAppliance = rp;
              var po = (function (n) {
                  Kc(t, n);
                  function t(e) {
                      var r = n.call(this, e) || this;
                      return (
                          (r.originX = 0),
                          (r.originY = 0),
                          (r.isPainting = !0),
                          (r._width = 0),
                          (r._height = 0),
                          (r.initializedWidth = 0),
                          (r.initializedHeight = 0),
                          (r.points = null),
                          ee(r, "state", q(e, "getMemberState", [])),
                          ee(r, "sparsePoints", _a(new pv.SparsePloughPoints())),
                          r
                      );
                  }
                  return (
                      Object.defineProperty(t.prototype, "width", {
                          get: function () {
                              return R(this, "_width");
                          },
                          set: function (e) {
                              ee(this, "_width", e);
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "height", {
                          get: function () {
                              return R(this, "_height");
                          },
                          set: function (e) {
                              ee(this, "_height", e);
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "selectable", {
                          get: function () {
                              return R(this, "isNotRotating") && !R(this, "isPainting");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "hitTestingBoxMargin", {
                          get: function () {
                              return R(R(this, "state"), "strokeWidth") / 2;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "locked", {
                          get: function () {
                              return !1;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      (t.prototype.pushPoint = function (e, r, i, A) {
                          if (R(this, "sparsePoints"))
                              if ((ee(R(this, "sparsePoints"), "widthThreshold", i), ee(R(this, "sparsePoints"), "humpThreshold", A), q(R(this, "sparsePoints"), "pushPoint", [e, r]), R(R(this, "sparsePoints"), "pushedCount") === 1))
                                  ee(this, "originX", e), ee(this, "originY", r);
                              else {
                                  var a = R(this, "originX"),
                                      o = R(this, "originY"),
                                      s = R(this, "originX") + R(this, "_width"),
                                      l = R(this, "originY") + R(this, "_height");
                                  e < a ? (ee(this, "originX", e), ee(this, "_width", s - e)) : e > s && ee(this, "_width", e - a), r < o ? (ee(this, "originY", r), ee(this, "_height", l - r)) : r > l && ee(this, "_height", r - o);
                              }
                      }),
                      (t.prototype.completePainting = function () {
                          if (R(this, "sparsePoints")) {
                              ee(this, "initializedWidth", R(this, "_width")), ee(this, "initializedHeight", R(this, "_height")), ee(this, "points", q(R(this, "sparsePoints"), "complete", [])), ee(this, "sparsePoints", null);
                              for (var e = 0, r = co(R(this, "points")); e < r.length; e++) {
                                  var i = r[e];
                                  ee(i, "x", R(i, "x") - R(this, "originX")), ee(i, "y", R(i, "y") - R(this, "originY"));
                              }
                              ee(this, "isPainting", !1);
                          }
                      }),
                      (t.prototype.displayPoints = function () {
                          var e;
                          if (R(this, "sparsePoints")) {
                              e = q(R(this, "sparsePoints"), "displayPoints", []);
                              for (var r = 0; r < R(e, "length"); ++r) {
                                  var i = R(e, r),
                                      A = R(i, "x"),
                                      a = R(i, "y");
                                  ee(e, r, Kt({ x: A - R(this, "originX"), y: a - R(this, "originY") }));
                              }
                          } else {
                              var o = tp(R(this, "_width"), R(this, "initializedWidth")),
                                  s = tp(R(this, "_height"), R(this, "initializedHeight"));
                              o === 1 && s === 1
                                  ? (e = R(this, "points"))
                                  : (e = q(R(this, "points"), "map", [
                                        function (l) {
                                            return Kt({ x: R(l, "x") * o, y: R(l, "y") * s });
                                        },
                                    ]));
                          }
                          return e;
                      }),
                      (t.prototype.enableBezier = function () {
                          return R(R(this, "state"), "pencilOptions") ? !R(R(R(this, "state"), "pencilOptions"), "disableBezier") : !0;
                      }),
                      Pa([nr.noEffects], t.prototype, "width", null),
                      Pa([nr.noEffects], t.prototype, "height", null),
                      Pa([nr.noEffects], t.prototype, "selectable", null),
                      Pa([nr.noEffects], t.prototype, "hitTestingBoxMargin", null),
                      Pa([nr.noEffects], t.prototype, "locked", null),
                      t
                  );
              })(Br.wrapSuperClass(ep.Editable));
              Yr.CurveShape = po;
              Br.declareClass({ classId: 24, clazz: rp, superClass: $c.Gesture });
              Br.declareClass({
                  classId: 23,
                  clazz: po,
                  superClass: ep.Editable,
                  memberDecorators: { width: [nr.noEffects], height: [nr.noEffects], selectable: [nr.noEffects], hitTestingBoxMargin: [nr.noEffects], locked: [nr.noEffects], displayPoints: [nr.noEffects], enableBezier: [nr.noEffects] },
              });
              Br = null;
          });
          var ho = C(function (jt) {
              "use strict";
              var dv =
                      (jt && jt.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  Sa =
                      (jt && jt.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(jt, "__esModule", { value: !0 });
              jt.VectorShape = jt.VectorDirection = jt.VectorKind = void 0;
              var An = require("akko").__context("module"),
                  k = An.getter,
                  Et = An.setter,
                  Pt = An.caller,
                  fv = An.wrapper,
                  _t = An.creator,
                  Fr = require("akko"),
                  ip = na(),
                  np = yt(),
                  ml = Gn(),
                  gv;
              (function (n) {
                  (n[(n.Straight = 0)] = "Straight"), (n[(n.Arrow = 1)] = "Arrow");
              })((gv = jt.VectorKind || (jt.VectorKind = {})));
              var Gt;
              (function (n) {
                  (n[(n.ToLeftTop = 0)] = "ToLeftTop"), (n[(n.ToRightTop = 1)] = "ToRightTop"), (n[(n.ToLeftBottom = 2)] = "ToLeftBottom"), (n[(n.ToRightBottom = 3)] = "ToRightBottom");
              })((Gt = jt.VectorDirection || (jt.VectorDirection = {})));
              var Ap = (function (n) {
                  dv(t, n);
                  function t(e, r, i) {
                      var A = n.call(this, e) || this;
                      return (
                          (A.width = 0),
                          (A.height = 0),
                          (A.isPainting = !0),
                          (A.anchorPoint = null),
                          (A._direction = k(Gt, "ToLeftTop")),
                          Et(A, "state", Pt(e, "getMemberState", [])),
                          Et(A, "kind", r),
                          Et(A, "anchorPoint", i),
                          Et(A, "originX", k(i, "x")),
                          Et(A, "originY", k(i, "y")),
                          A
                      );
                  }
                  return (
                      Object.defineProperty(t.prototype, "dottedLine", {
                          get: function () {
                              return !!k(k(this, "state"), "dottedLine");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "selectable", {
                          get: function () {
                              return k(this, "isNotRotating") && !k(this, "isPainting");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "hitTestingBoxMargin", {
                          get: function () {
                              return k(k(this, "state"), "strokeWidth") / 2;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "direction", {
                          get: function () {
                              return k(this, "_direction");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "locked", {
                          get: function () {
                              return !1;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      (t.prototype.setEndPoint = function (e) {
                          k(this, "anchorPoint") && Pt(this, "reset", [k(k(this, "anchorPoint"), "x"), k(k(this, "anchorPoint"), "y"), k(e, "x"), k(e, "y")]);
                      }),
                      (t.prototype.reset = function (e, r, i, A) {
                          var a = k(k(this, "state"), "strokeWidth"),
                              o = Pt(Math, "min", [e, i]),
                              s = Pt(Math, "min", [r, A]),
                              l = Pt(Math, "max", [e, i]),
                              u = Pt(Math, "max", [r, A]);
                          Et(this, "originX", o - a / 2), Et(this, "originY", s - a / 2), Et(this, "width", l - o + a), Et(this, "height", u - s + a);
                          var c = i - e,
                              p = A - r;
                          c <= 0
                              ? p <= 0
                                  ? Et(this, "_direction", k(Gt, "ToLeftTop"))
                                  : Et(this, "_direction", k(Gt, "ToLeftBottom"))
                              : p <= 0
                              ? Et(this, "_direction", k(Gt, "ToRightTop"))
                              : Et(this, "_direction", k(Gt, "ToRightBottom"));
                      }),
                      (t.prototype.completePainting = function () {
                          Et(this, "isPainting", !1);
                      }),
                      (t.prototype.rectHitTestContent = function (e, r, i, A, a, o) {
                          if (e === k(ml.RectangleTestingResult, "IncludeByRectangle") || e === k(ml.RectangleTestingResult, "Disjoint")) return e;
                          var s = k(k(this, "state"), "strokeWidth"),
                              l = s / 2,
                              u = Pt(this, "getBeginPoint", []),
                              c = Pt(this, "getEndPoint", []),
                              p = fv(new ml.ConvexPolygonTester()),
                              h = Pt(ip, "unitVector", [_t({ x: k(c, "x") - k(u, "x"), y: k(c, "y") - k(u, "y") })]),
                              v = Pt(ip, "verticalVector", [h]);
                          return (
                              Pt(p, "pushPoint", [_t({ x: k(c, "x") - k(v, "x") * l, y: k(c, "y") - k(v, "y") * l })]),
                              Pt(p, "pushPoint", [_t({ x: k(c, "x") + k(v, "x") * l, y: k(c, "y") + k(v, "y") * l })]),
                              Pt(p, "pushPoint", [_t({ x: k(u, "x") + k(v, "x") * l, y: k(u, "y") + k(v, "y") * l })]),
                              Pt(p, "pushPoint", [_t({ x: k(u, "x") - k(v, "x") * l, y: k(u, "y") - k(v, "y") * l })]),
                              Pt(p, "rectHitTest", [r, i, A, a])
                          );
                      }),
                      (t.prototype.getBeginPoint = function () {
                          switch (k(this, "_direction")) {
                              case k(Gt, "ToLeftTop"):
                                  return _t({ x: k(this, "width"), y: k(this, "height") });
                              case k(Gt, "ToRightTop"):
                                  return _t({ x: 0, y: k(this, "height") });
                              case k(Gt, "ToLeftBottom"):
                                  return _t({ x: k(this, "width"), y: 0 });
                              case k(Gt, "ToRightBottom"):
                                  return _t({ x: 0, y: 0 });
                              default:
                                  return _t({ x: 0, y: 0 });
                          }
                      }),
                      (t.prototype.getEndPoint = function () {
                          switch (k(this, "_direction")) {
                              case k(Gt, "ToLeftTop"):
                                  return _t({ x: 0, y: 0 });
                              case k(Gt, "ToRightTop"):
                                  return _t({ x: k(this, "width"), y: 0 });
                              case k(Gt, "ToLeftBottom"):
                                  return _t({ x: 0, y: k(this, "height") });
                              case k(Gt, "ToRightBottom"):
                                  return _t({ x: k(this, "width"), y: k(this, "height") });
                              default:
                                  return _t({ x: 0, y: 0 });
                          }
                      }),
                      Sa([Fr.noEffects], t.prototype, "dottedLine", null),
                      Sa([Fr.noEffects], t.prototype, "selectable", null),
                      Sa([Fr.noEffects], t.prototype, "hitTestingBoxMargin", null),
                      Sa([Fr.noEffects], t.prototype, "direction", null),
                      Sa([Fr.noEffects], t.prototype, "locked", null),
                      t
                  );
              })(An.wrapSuperClass(np.Editable));
              jt.VectorShape = Ap;
              An.declareClass({
                  classId: 37,
                  clazz: Ap,
                  superClass: np.Editable,
                  memberDecorators: { dottedLine: [Fr.noEffects], selectable: [Fr.noEffects], hitTestingBoxMargin: [Fr.noEffects], direction: [Fr.noEffects], locked: [Fr.noEffects] },
              });
              An = null;
          });
          var yl = C(function (Qr) {
              "use strict";
              var vv =
                      (Qr && Qr.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  fo =
                      (Qr && Qr.__assign) ||
                      function () {
                          return (
                              (fo =
                                  Object.assign ||
                                  function (n) {
                                      for (var t, e = 1, r = arguments.length; e < r; e++) {
                                          t = arguments[e];
                                          for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                      }
                                      return n;
                                  }),
                              fo.apply(this, arguments)
                          );
                      },
                  zr =
                      (Qr && Qr.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(Qr, "__esModule", { value: !0 });
              Qr.EditorRectangleSpace = void 0;
              var Ci = require("akko").__context("module"),
                  re = Ci.creator,
                  d = Ci.getter,
                  J = Ci.setter,
                  $e = Ci.unwrapper,
                  te = Ci.caller,
                  mv = Ci.wrapper,
                  Ue = require("akko"),
                  ap = Wn(),
                  yv = yt(),
                  bv = Zn(),
                  Pv = Ua(),
                  _v = Ao(),
                  Ca = ho(),
                  Pe;
              (function (n) {
                  (n[(n.None = 0)] = "None"),
                      (n[(n.LeftTop = 1)] = "LeftTop"),
                      (n[(n.RightTop = 2)] = "RightTop"),
                      (n[(n.RightBottom = 3)] = "RightBottom"),
                      (n[(n.LeftBottom = 4)] = "LeftBottom"),
                      (n[(n.Top = 5)] = "Top"),
                      (n[(n.Right = 6)] = "Right"),
                      (n[(n.Bottom = 7)] = "Bottom"),
                      (n[(n.Left = 8)] = "Left"),
                      (n[(n.Rotation = 9)] = "Rotation"),
                      (n[(n.Begin = 10)] = "Begin"),
                      (n[(n.End = 11)] = "End");
              })(Pe || (Pe = {}));
              var op = (function (n) {
                  vv(t, n);
                  function t(e, r) {
                      var i = n.call(this) || this;
                      return (
                          (i.isShiftPress = !1),
                          (i.rectangle = re({ x: 0, y: 0, width: 0, height: 0 })),
                          (i.rectangleWithHitMargin = re({ x: 0, y: 0, width: 0, height: 0 })),
                          (i.operatePoint = d(Pe, "None")),
                          (i._isLocked = !1),
                          (i.isOnlyHasUniformScaleShape = !1),
                          (i.includeComponentNodes = re([])),
                          J(i, "context", e),
                          J(i, "belongsToUserId", r),
                          i
                      );
                  }
                  return (
                      Object.defineProperty(t.prototype, "isLocked", {
                          get: function () {
                              return d(this, "_isLocked");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "isRotable", {
                          get: function () {
                              if (d(this, "_isLocked") || d(d(this, "includeComponentNodes"), "length") > 1) return !1;
                              var e = d(d(d(this, "includeComponentNodes"), 0), "component");
                              return $e(e) instanceof yv.Editable ? d(e, "isRotable") : !1;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "onlyOneVector", {
                          get: function () {
                              if (d(this, "_isLocked") || d(d(this, "includeComponentNodes"), "length") > 1) return null;
                              var e = d(d(d(this, "includeComponentNodes"), 0), "component");
                              return $e(e) instanceof Ca.VectorShape ? e : null;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "hitTestingBoxMargin", {
                          get: function () {
                              return 0;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "originX", {
                          get: function () {
                              return d(d(this, "rectangleWithHitMargin"), "x");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "originY", {
                          get: function () {
                              return d(d(this, "rectangleWithHitMargin"), "y");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "width", {
                          get: function () {
                              return d(d(this, "rectangleWithHitMargin"), "width");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "height", {
                          get: function () {
                              return d(d(this, "rectangleWithHitMargin"), "height");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "isUniformScale", {
                          get: function () {
                              if (d(this, "draggingContext"))
                                  switch (d(d(this, "draggingContext"), "targetId")) {
                                      case "T":
                                      case "B":
                                      case "L":
                                      case "R":
                                          return !1;
                                  }
                              return d(this, "isShiftPress") || d(this, "isOnlyHasUniformScaleShape");
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(t.prototype, "includeComponents", {
                          get: function () {
                              for (var e = re([]), r = 0, i = $e(d(this, "includeComponentNodes")); r < i.length; r++) {
                                  var A = i[r],
                                      a = d(A, "component");
                                  te(e, "push", [a]);
                              }
                              return e;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      (t.prototype.tryToStartEdit = function (e, r, i) {
                          var A = d(i, d(this, "key"));
                          if (!A) {
                              for (var a in $e(i)) if (((A = d(i, a)), A)) break;
                          }
                          if (A) {
                              var o = te(this, "findOperationPointWithTargetId", [A]),
                                  s = d(o, "dragedPoint"),
                                  l = d(o, "operatePoint"),
                                  u = d(o, "onsidePoint");
                              return (
                                  J(this, "operatePoint", l),
                                  J(
                                      this,
                                      "draggingContext",
                                      re({ targetId: A, onsidePoint: u, startRectangle: re(fo({}, $e(d(this, "rectangle")))), beginHitPoint: re({ x: e, y: r }), deltaPoint: re({ x: d(s, "x") - e, y: d(s, "y") - r }) })
                                  ),
                                  !0
                              );
                          } else return !1;
                      }),
                      (t.prototype.hitTest = function (e, r, i) {
                          var A = d(this, "rectangleWithHitMargin");
                          if (!te(Pv.RectangleTester, "testPoint", [d(A, "x"), d(A, "y"), d(A, "width"), d(A, "height"), e, r])) return !1;
                          var a = d(i, 0);
                          if (a !== void 0) {
                              for (var o = 0, s = $e(d(this, "includeComponentNodes")); o < s.length; o++) {
                                  var l = s[o],
                                      u = d(l, "component");
                                  if (a === d(u, "identifier")) return !0;
                              }
                              return !1;
                          } else return !0;
                      }),
                      (t.prototype.findOperationPointWithTargetId = function (e) {
                          switch (e) {
                              case "LT":
                                  return re({ operatePoint: d(Pe, "LeftTop"), dragedPoint: re({ x: d(d(this, "rectangle"), "x"), y: d(d(this, "rectangle"), "y") }) });
                              case "RT":
                                  return re({ operatePoint: d(Pe, "RightTop"), dragedPoint: re({ x: d(d(this, "rectangle"), "x") + d(d(this, "rectangle"), "width"), y: d(d(this, "rectangle"), "y") }) });
                              case "LB":
                                  return re({ operatePoint: d(Pe, "LeftBottom"), dragedPoint: re({ x: d(d(this, "rectangle"), "x"), y: d(d(this, "rectangle"), "y") + d(d(this, "rectangle"), "height") }) });
                              case "RB":
                                  return re({
                                      operatePoint: d(Pe, "RightBottom"),
                                      dragedPoint: re({ x: d(d(this, "rectangle"), "x") + d(d(this, "rectangle"), "width"), y: d(d(this, "rectangle"), "y") + d(d(this, "rectangle"), "height") }),
                                  });
                              case "T":
                                  return re({ operatePoint: d(Pe, "Top"), dragedPoint: re({ x: d(d(this, "rectangle"), "x") + d(d(this, "rectangle"), "width") / 2, y: d(d(this, "rectangle"), "y") }) });
                              case "R":
                                  return re({
                                      operatePoint: d(Pe, "Right"),
                                      dragedPoint: re({ x: d(d(this, "rectangle"), "x") + d(d(this, "rectangle"), "width"), y: d(d(this, "rectangle"), "y") + d(d(this, "rectangle"), "height") / 2 }),
                                  });
                              case "B":
                                  return re({
                                      operatePoint: d(Pe, "Bottom"),
                                      dragedPoint: re({ x: d(d(this, "rectangle"), "x") + d(d(this, "rectangle"), "width") / 2, y: d(d(this, "rectangle"), "y") + d(d(this, "rectangle"), "height") }),
                                  });
                              case "L":
                                  return re({ operatePoint: d(Pe, "Left"), dragedPoint: re({ x: d(d(this, "rectangle"), "x"), y: d(d(this, "rectangle"), "y") + d(d(this, "rectangle"), "height") / 2 }) });
                              case "Rot":
                                  return re({ operatePoint: d(Pe, "Rotation"), dragedPoint: re({ x: 0, y: 0 }) });
                              case "Begin":
                              case "End": {
                                  var r = d(this, "onlyOneVector"),
                                      i = d(r, "hitTestingBoxMargin"),
                                      A = d(r, "originX") + i,
                                      a = d(r, "originY") + i,
                                      o = d(r, "originX") + d(r, "width") - i,
                                      s = d(r, "originY") + d(r, "height") - i,
                                      l = re({ x: 0, y: 0 }),
                                      u = re({ x: 0, y: 0 });
                                  switch (d(r, "direction")) {
                                      case d(Ca.VectorDirection, "ToLeftTop"): {
                                          J(l, "x", o), J(l, "y", s), J(u, "x", A), J(u, "y", a);
                                          break;
                                      }
                                      case d(Ca.VectorDirection, "ToLeftBottom"): {
                                          J(l, "x", o), J(l, "y", a), J(u, "x", A), J(u, "y", s);
                                          break;
                                      }
                                      case d(Ca.VectorDirection, "ToRightTop"): {
                                          J(l, "x", A), J(l, "y", s), J(u, "x", o), J(u, "y", a);
                                          break;
                                      }
                                      case d(Ca.VectorDirection, "ToRightBottom"): {
                                          J(l, "x", A), J(l, "y", a), J(u, "x", o), J(u, "y", s);
                                          break;
                                      }
                                  }
                                  var c = void 0,
                                      p = void 0,
                                      h = void 0;
                                  return e === "Begin" ? ((c = l), (p = u), (h = d(Pe, "Begin"))) : ((c = u), (p = l), (h = d(Pe, "End"))), re({ dragedPoint: c, onsidePoint: p, operatePoint: h });
                              }
                          }
                          throw mv(new Error('unrecognized targetId of EditorRectangleSpace "' + e + '"'));
                      }),
                      (t.prototype.dragToPoint = function (e, r) {
                          switch (d(this, "operatePoint")) {
                              case d(Pe, "Rotation"): {
                                  te(this, "dragToPointByRotation", [e, r]);
                                  break;
                              }
                              case d(Pe, "Begin"):
                              case d(Pe, "End"): {
                                  te(this, "dragVectorPoint", [e, r]);
                                  break;
                              }
                              default: {
                                  te(this, "dragToPointByScale", [e, r]);
                                  break;
                              }
                          }
                      }),
                      (t.prototype.dragToPointByRotation = function (e, r) {
                          var i = d(d(this, "draggingContext"), "beginHitPoint"),
                              A = d(this, "rectangleWithHitMargin"),
                              a = d(A, "x"),
                              o = d(A, "y"),
                              s = d(A, "width"),
                              l = d(A, "height"),
                              u = a + s / 2,
                              c = o + l / 2,
                              p = d(i, "x") - u,
                              h = d(i, "y") - c,
                              v = e - u,
                              y = r - c,
                              _ = te(Math, "atan2", [h, p]),
                              B = te(Math, "atan2", [y, v]);
                          te(Number, "isNaN", [_]) && (_ = 0), te(Number, "isNaN", [B]) && (B = 0);
                          var S = B - _;
                          S >= 2 * d(Math, "PI") ? (S -= 2 * d(Math, "PI")) : S < 0 && (S += 2 * d(Math, "PI"));
                          for (var M = 0, E = $e(d(this, "includeComponentNodes")); M < E.length; M++) {
                              var W = E[M],
                                  Z = d(W, "component");
                              J(Z, "rotation", S);
                          }
                          J(this, "rotation", S);
                      }),
                      (t.prototype.dragVectorPoint = function (e, r) {
                          var i = d(this, "draggingContext"),
                              A = d(i, "deltaPoint"),
                              a = d(i, "onsidePoint"),
                              o = d(this, "onlyOneVector"),
                              s = d(A, "x") + e,
                              l = d(A, "y") + r,
                              u = d(a, "x"),
                              c = d(a, "y");
                          d(this, "operatePoint") === d(Pe, "Begin") ? te(o, "reset", [s, l, u, c]) : te(o, "reset", [u, c, s, l]),
                              J(
                                  this,
                                  "rectangle",
                                  te(this, "findRectangleIncludePoints", [
                                      function (p) {
                                          p(d(o, "originX"), d(o, "originY")), p(d(o, "originX") + d(o, "width"), d(o, "originY") + d(o, "height"));
                                      },
                                  ])
                              ),
                              J(
                                  this,
                                  "rectangleWithHitMargin",
                                  te(this, "findRectangleIncludePoints", [
                                      function (p) {
                                          var h = d(o, "hitTestingBoxMargin");
                                          p(d(o, "originX") - h, d(o, "originY") - h), p(d(o, "originX") + d(o, "width") + h, d(o, "originY") + d(o, "height") + h);
                                      },
                                  ])
                              );
                      }),
                      (t.prototype.dragToPointByScale = function (e, r) {
                          var i = te(this, "findDraggingTargetPoint", [e, r]);
                          te(this, "updateRectangleWithDraggingTargetPoint", [i]), te(this, "refreshIncludesComponentsPositionAndSize", []), te(this, "refreshRectangleWithHitMargin", []);
                      }),
                      (t.prototype.findDraggingTargetPoint = function (e, r) {
                          var i = d(this, "draggingContext"),
                              A = d(i, "deltaPoint"),
                              a = d(i, "beginHitPoint"),
                              o = d(i, "startRectangle"),
                              s = e + d(A, "x"),
                              l = r + d(A, "y");
                          if (d(this, "isUniformScale")) {
                              var u = d(o, "x") + d(o, "width") / 2,
                                  c = d(o, "y") + d(o, "height") / 2;
                              if (!d(d(this, "draggingContext"), "orientationUnitVector")) {
                                  var p = d(a, "x") + d(A, "x"),
                                      h = d(a, "y") + d(A, "y"),
                                      v = p - u,
                                      y = h - c,
                                      _ = te(Math, "sqrt", [v * v + y * y]);
                                  _ !== 0 ? J(d(this, "draggingContext"), "orientationUnitVector", re({ x: v / _, y: y / _ })) : J(d(this, "draggingContext"), "orientationUnitVector", re({ x: 1, y: 1 }));
                              }
                              var B = d(d(this, "draggingContext"), "orientationUnitVector"),
                                  S = s - u,
                                  M = l - c,
                                  E = S * d(B, "x") + M * d(B, "y");
                              (s = u + E * d(B, "x")), (l = c + E * d(B, "y"));
                          }
                          return re({ x: s, y: l });
                      }),
                      (t.prototype.updateRectangleWithDraggingTargetPoint = function (e) {
                          var r = d(e, "x"),
                              i = d(e, "y"),
                              A = d(d(this, "draggingContext"), "startRectangle"),
                              a = d(A, "x"),
                              o = d(A, "y"),
                              s = d(A, "x") + d(A, "width"),
                              l = d(A, "y") + d(A, "height");
                          switch (d(this, "operatePoint")) {
                              case d(Pe, "LeftTop"): {
                                  (a = r), (o = i);
                                  break;
                              }
                              case d(Pe, "RightTop"): {
                                  (s = r), (o = i);
                                  break;
                              }
                              case d(Pe, "RightBottom"): {
                                  (s = r), (l = i);
                                  break;
                              }
                              case d(Pe, "LeftBottom"): {
                                  (a = r), (l = i);
                                  break;
                              }
                              case d(Pe, "Top"): {
                                  o = i;
                                  break;
                              }
                              case d(Pe, "Right"): {
                                  s = r;
                                  break;
                              }
                              case d(Pe, "Bottom"): {
                                  l = i;
                                  break;
                              }
                              case d(Pe, "Left"): {
                                  a = r;
                                  break;
                              }
                          }
                          J(d(this, "rectangle"), "x", te(Math, "min", [a, s])),
                              J(d(this, "rectangle"), "y", te(Math, "min", [o, l])),
                              J(d(this, "rectangle"), "width", te(Math, "abs", [a - s])),
                              J(d(this, "rectangle"), "height", te(Math, "abs", [o - l]));
                      }),
                      (t.prototype.refreshIncludesComponentsPositionAndSize = function () {
                          for (var e = 0, r = $e(d(this, "includeComponentNodes")); e < r.length; e++) {
                              var i = r[e],
                                  A = d(i, "component"),
                                  a = d(i, "dx"),
                                  o = d(i, "dy"),
                                  s = d(i, "width"),
                                  l = d(i, "height");
                              J(A, "originX", d(d(this, "rectangle"), "x") + a * d(d(this, "rectangle"), "width")),
                                  J(A, "originY", d(d(this, "rectangle"), "y") + o * d(d(this, "rectangle"), "height")),
                                  J(A, "width", s * d(d(this, "rectangle"), "width")),
                                  J(A, "height", l * d(d(this, "rectangle"), "height")),
                                  !d(this, "isOnlyHasUniformScaleShape") && te(t, "isEnableProportionalScaling", [A]) && te(A, "adjustToKeepUniformScale", []);
                          }
                      }),
                      (t.prototype.completeEdit = function () {
                          d(this, "rotation") !== void 0 && d(this, "operatePoint") === d(Pe, "Rotation") && te(this, "completeRotation", [d(this, "rotation")]), J(this, "operatePoint", d(Pe, "None")), J(this, "draggingContext", void 0);
                      }),
                      (t.prototype.completeRotation = function (e) {
                          for (var r = this, i = 0, A = $e(d(this, "includeComponentNodes")); i < A.length; i++) {
                              var a = A[i],
                                  o = d(a, "component");
                              te(o, "commitRotation", [e]),
                                  J(d(this, "rectangle"), "x", d(o, "originX")),
                                  J(d(this, "rectangle"), "y", d(o, "originY")),
                                  J(d(this, "rectangle"), "width", d(o, "width")),
                                  J(d(this, "rectangle"), "height", d(o, "height"));
                          }
                          J(
                              this,
                              "rectangleWithHitMargin",
                              te(this, "findRectangleIncludePoints", [
                                  function (s) {
                                      for (var l = 0, u = $e(d(r, "includeComponentNodes")); l < u.length; l++) {
                                          var c = u[l],
                                              p = d(c, "component"),
                                              h = d(p, "hitTestingBoxMargin");
                                          s(d(p, "originX") - h, d(p, "originY") - h), s(d(p, "originX") + d(p, "width") + h, d(p, "originY") + d(p, "height") + h);
                                      }
                                  },
                              ])
                          ),
                              J(this, "rotation", void 0);
                      }),
                      (t.prototype.commitUpdateRectangle = function (e) {
                          for (var r = 0, i = $e(d(this, "includeComponentNodes")); r < i.length; r++) {
                              var A = i[r],
                                  a = d(A, "component"),
                                  o = d(A, "originRect"),
                                  s = re({ updateRect: re(fo({}, $e(o))) }),
                                  l = re({ updateRect: re({ x: d(a, "originX"), y: d(a, "originY"), width: d(a, "width"), height: d(a, "height") }) });
                              te(e, "commit", [d(a, "protoKey"), l, s]);
                          }
                      }),
                      (t.prototype.refreshRectangleByIncludesComponents = function () {
                          var e = this;
                          J(
                              this,
                              "rectangle",
                              te(this, "findRectangleIncludePoints", [
                                  function (r) {
                                      for (var i = 0, A = $e(d(e, "includeComponentNodes")); i < A.length; i++) {
                                          var a = A[i],
                                              o = d(a, "component");
                                          r(d(o, "originX"), d(o, "originY")), r(d(o, "originX") + d(o, "width"), d(o, "originY") + d(o, "height"));
                                      }
                                  },
                              ])
                          ),
                              te(this, "refreshRectangleWithHitMargin", []);
                      }),
                      (t.prototype.refreshWithIncludesComponents = function (e) {
                          var r = this,
                              i = te(this, "findLockedComponent", [e]);
                          J(this, "_isLocked", !!i),
                              d(this, "_isLocked") && (e = re([i])),
                              J(
                                  this,
                                  "rectangle",
                                  te(this, "findRectangleIncludePoints", [
                                      function (A) {
                                          for (var a = 0, o = $e(e); a < o.length; a++) {
                                              var s = o[a];
                                              A(d(s, "originX"), d(s, "originY")), A(d(s, "originX") + d(s, "width"), d(s, "originY") + d(s, "height"));
                                          }
                                      },
                                  ])
                              ),
                              J(
                                  this,
                                  "includeComponentNodes",
                                  te(e, "map", [
                                      function (A) {
                                          var a, o, s, l;
                                          d(d(r, "rectangle"), "width") !== 0
                                              ? ((a = (d(A, "originX") - d(d(r, "rectangle"), "x")) / d(d(r, "rectangle"), "width")), (s = d(A, "width") / d(d(r, "rectangle"), "width")))
                                              : ((a = 0), (s = 1)),
                                              d(d(r, "rectangle"), "height") !== 0
                                                  ? ((o = (d(A, "originY") - d(d(r, "rectangle"), "y")) / d(d(r, "rectangle"), "height")), (l = d(A, "height") / d(d(r, "rectangle"), "height")))
                                                  : ((o = 0), (l = 1));
                                          var u = re({ x: d(A, "originX"), y: d(A, "originY"), width: d(A, "width"), height: d(A, "height") });
                                          return re({ dx: a, dy: o, width: s, height: l, originRect: u, component: A });
                                      },
                                  ])
                              ),
                              te(this, "refreshRectangleWithHitMargin", []);
                      }),
                      (t.prototype.findLockedComponent = function (e) {
                          for (var r = 0, i = $e(e); r < i.length; r++) {
                              var A = i[r];
                              if (d(A, "locked")) return A;
                          }
                          return null;
                      }),
                      (t.prototype.refreshRectangleWithHitMargin = function () {
                          var e = this;
                          J(
                              this,
                              "isOnlyHasUniformScaleShape",
                              te(d(this, "includeComponentNodes"), "every", [
                                  function (r) {
                                      var i = d(r, "component");
                                      return te(t, "isEnableProportionalScaling", [i]);
                                  },
                              ])
                          ),
                              J(
                                  this,
                                  "rectangleWithHitMargin",
                                  te(this, "findRectangleIncludePoints", [
                                      function (r) {
                                          for (var i = 0, A = $e(d(e, "includeComponentNodes")); i < A.length; i++) {
                                              var a = A[i],
                                                  o = d(a, "component"),
                                                  s = d(o, "hitTestingBoxMargin");
                                              r(d(o, "originX") - s, d(o, "originY") - s), r(d(o, "originX") + d(o, "width") + s, d(o, "originY") + d(o, "height") + s);
                                          }
                                      },
                                  ])
                              );
                      }),
                      (t.prototype.findRectangleIncludePoints = function (e) {
                          var r = d(Number, "MIN_SAFE_INTEGER"),
                              i = d(Number, "MIN_SAFE_INTEGER"),
                              A = d(Number, "MAX_SAFE_INTEGER"),
                              a = d(Number, "MAX_SAFE_INTEGER");
                          return (
                              e(function (o, s) {
                                  (r = te(Math, "max", [r, o])), (A = te(Math, "min", [A, o])), (i = te(Math, "max", [i, s])), (a = te(Math, "min", [a, s]));
                              }),
                              re({ x: A, y: a, width: r - A, height: i - a })
                          );
                      }),
                      (t.isEnableProportionalScaling = function (e) {
                          return !!($e(e) instanceof bv.TextareaShape || ($e(e) instanceof _v.ImageShape && d(e, "uniformScale")));
                      }),
                      zr([Ue.noEffects], t.prototype, "isLocked", null),
                      zr([Ue.noEffects], t.prototype, "isRotable", null),
                      zr([Ue.noEffects], t.prototype, "onlyOneVector", null),
                      zr([Ue.noEffects], t.prototype, "hitTestingBoxMargin", null),
                      zr([Ue.noEffects], t.prototype, "originX", null),
                      zr([Ue.noEffects], t.prototype, "originY", null),
                      zr([Ue.noEffects], t.prototype, "width", null),
                      zr([Ue.noEffects], t.prototype, "height", null),
                      zr([Ue.noEffects], t.prototype, "isUniformScale", null),
                      zr([Ue.noEffects], t.prototype, "includeComponents", null),
                      t
                  );
              })(Ci.wrapSuperClass(ap.ApplianceComponent));
              Qr.EditorRectangleSpace = op;
              Ci.declareClass({
                  classId: 16,
                  clazz: op,
                  superClass: ap.ApplianceComponent,
                  memberDecorators: {
                      isLocked: [Ue.noEffects],
                      isRotable: [Ue.noEffects],
                      onlyOneVector: [Ue.noEffects],
                      hitTestingBoxMargin: [Ue.noEffects],
                      originX: [Ue.noEffects],
                      originY: [Ue.noEffects],
                      width: [Ue.noEffects],
                      height: [Ue.noEffects],
                      isUniformScale: [Ue.noEffects],
                      includeComponents: [Ue.noEffects],
                  },
              });
              Ci = null;
          });
          var bl = C(function (_A) {
              "use strict";
              var Sv =
                  (_A && _A.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(_A, "__esModule", { value: !0 });
              _A.CopyBuffer = void 0;
              var qr = require("akko").__context("module"),
                  Ur = qr.setter,
                  Ba = qr.creator,
                  Wt = qr.caller,
                  oe = qr.getter,
                  Cv = qr.remover,
                  wa = qr.unwrapper,
                  Bv = qr.wrapper,
                  go = require("akko"),
                  wv = Zn(),
                  sp = (function (n) {
                      Sv(t, n);
                      function t(e) {
                          var r = n.call(this) || this;
                          return Ur(r, "components", e), r;
                      }
                      return (
                          (t.prototype.snapshot = function () {
                              for (var e = Ba([]), r = 0, i = wa(oe(this, "components")); r < i.length; r++) {
                                  var A = i[r];
                                  Wt(e, "push", [Ba({ context: oe(A, "context"), selectedBy: oe(A, "selectedBy"), highlightAuthorIds: oe(A, "highlightAuthorIds") })]),
                                      Cv(A, "context"),
                                      Ur(A, "highlightAuthorIds", Ba([])),
                                      Ur(A, "selectedBy", void 0);
                              }
                              for (var a = !0, o = Wt(go.getSnapshot(), "createSnapshot", [Bv(this), a]), s = 0; s < oe(oe(this, "components"), "length"); ++s) {
                                  var A = oe(oe(this, "components"), s),
                                      l = oe(e, s);
                                  Ur(A, "context", oe(l, "context")), Ur(A, "highlightAuthorIds", oe(l, "highlightAuthorIds")), Ur(A, "selectedBy", oe(l, "selectedBy"));
                              }
                              return o;
                          }),
                          (t.recover = function (e, r) {
                              for (var i = Wt(go.getSnapshot(), "recoverWithSnapshot", [r]), A = 0, a = wa(oe(i, "components")); A < a.length; A++) {
                                  var o = a[A];
                                  Ur(o, "context", e), Ur(o, "protoKey", go.findIdentifierWith(o));
                              }
                              return i;
                          }),
                          (t.prototype.injectToScene = function (e, r, i) {
                              for (
                                  var A = oe(Number, "MAX_SAFE_INTEGER"), a = oe(Number, "MAX_SAFE_INTEGER"), o = oe(Number, "MIN_SAFE_INTEGER"), s = oe(Number, "MIN_SAFE_INTEGER"), l = 0, u = wa(oe(this, "components"));
                                  l < u.length;
                                  l++
                              ) {
                                  var c = u[l];
                                  (A = Wt(Math, "min", [oe(c, "originX")])),
                                      (a = Wt(Math, "min", [oe(c, "originY")])),
                                      (o = Wt(Math, "max", [oe(c, "originX") + oe(c, "width")])),
                                      (s = Wt(Math, "max", [oe(c, "originY") + oe(c, "height")]));
                              }
                              for (var p = oe(e, "executorHub"), h = r - (A + o) / 2, v = i - (a + s) / 2, y = 0, _ = wa(oe(this, "components")); y < _.length; y++) {
                                  var c = _[y];
                                  if ((Ur(c, "originX", oe(c, "originX") + h), Ur(c, "originY", oe(c, "originY") + v), p && oe(p, "enable"))) {
                                      var B = Ba({ create: Wt(c, "snapshot", []) });
                                      Wt(p, "commit", [oe(c, "protoKey"), B, Ba({ delete: !0 })]);
                                  }
                                  Wt(oe(e, "scene"), "addComponent", [c]), wa(c) instanceof wv.TextareaShape && Wt(oe(e, "textareaSet"), "registerTextarea", [oe(e, "scene"), c]);
                              }
                              if (oe(Wt(e, "getMemberState", [go.getAuthorId()]), "autoSelectPaste")) {
                                  var S = Wt(e, "getAppliance", ["selector"]);
                                  Wt(S, "selectComponents", [oe(this, "components")]);
                              }
                          }),
                          t
                      );
                  })(qr.baseClass());
              _A.CopyBuffer = sp;
              qr.declareClass({ classId: 42, clazz: sp });
              qr = null;
          });
          var Bl = C(function (ar) {
              "use strict";
              var lp =
                      (ar && ar.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  Rv =
                      (ar && ar.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  xv =
                      (ar && ar.__spreadArrays) ||
                      function () {
                          for (var n = 0, t = 0, e = arguments.length; t < e; t++) n += arguments[t].length;
                          for (var r = Array(n), i = 0, t = 0; t < e; t++) for (var A = arguments[t], a = 0, o = A.length; a < o; a++, i++) r[i] = A[a];
                          return r;
                      };
              Object.defineProperty(ar, "__esModule", { value: !0 });
              ar.SelectedGroupRectangleSpace = ar.Selector = void 0;
              var Ar = require("akko").__context("module"),
                  P = Ar.getter,
                  ut = Ar.creator,
                  Q = Ar.setter,
                  x = Ar.caller,
                  St = Ar.unwrapper,
                  Pl = Ar.wrapper,
                  vo = Ar.remover,
                  je = require("akko"),
                  mo = ga(),
                  up = Ot(),
                  _l = yt(),
                  Sl = yl(),
                  cp = Wn(),
                  pp = Zn(),
                  Mv = bl(),
                  dt;
              (function (n) {
                  (n[(n.None = 0)] = "None"), (n[(n.Selected = 1)] = "Selected"), (n[(n.OperationPoint = 2)] = "OperationPoint");
              })(dt || (dt = {}));
              var hp = (function (n) {
                  lp(t, n);
                  function t(e) {
                      var r = n.call(this) || this;
                      return (
                          (r.fixedCursorInScenePoint = void 0),
                          (r.beginPressPoint = null),
                          (r.draggingTarget = P(dt, "None")),
                          (r.draggedComponentOriginPoints = ut({})),
                          (r.isCtrlPress = !1),
                          (r.isShiftPress = !1),
                          (r.latestOperateX = 0),
                          (r.latestOperateY = 0),
                          Q(r, "context", e),
                          r
                      );
                  }
                  return (
                      (t.prototype.onKeyUp = function (e) {
                          P(e, "kind") === "lock" && (Q(this, "isShiftPress", !1), x(this, "refreshMyEditorRectangleSpaceDragToPoint", [])), P(e, "kind") === "lockCenter" && Q(this, "isCtrlPress", !1);
                      }),
                      (t.prototype.onKeyDown = function (e) {
                          P(e, "kind") === "lock" && (Q(this, "isShiftPress", !0), x(this, "refreshMyEditorRectangleSpaceDragToPoint", [])), P(e, "kind") === "lockCenter" && Q(this, "isCtrlPress", !0);
                      }),
                      (t.prototype.onMemberStateChanged = function (e, r) {
                          var i = P(e, "currentApplianceName"),
                              A = "selector",
                              a = "text";
                          i !== A &&
                              P(r, "currentApplianceName") === A &&
                              (i !== a && x(P(P(this, "context"), "textareaSet"), "completeAllEditedBy", [x(je, "getAuthorId", [])]),
                              x(this, "cleanAllSelectingInformation", []),
                              Q(this, "isShiftPress", !1),
                              x(this, "refreshMyEditorRectangleSpaceDragToPoint", []));
                      }),
                      (t.prototype.onSceneChanged = function (e) {
                          var r = x(P(P(this, "context"), "scenes"), "getScene", [e]);
                          r && x(P(P(this, "context"), "textareaSet"), "completeAllOnScene", [r]), Q(this, "isShiftPress", !1), x(this, "refreshMyEditorRectangleSpaceDragToPoint", []);
                      }),
                      (t.prototype.delete = function () {
                          for (var e = P(P(this, "context"), "executorHub"), r = 0, i = St(x(this, "allSelectedComponents", [])); r < i.length; r++) {
                              var A = i[r];
                              e && P(e, "enable") && x(e, "commit", [P(A, "protoKey"), ut({ delete: !0 }), ut({ create: x(A, "snapshot", []) })]),
                                  x(P(P(this, "context"), "scene"), "removeComponent", [A]),
                                  x(P(P(this, "context"), "textareaSet"), "fireRemoveComponent", [A]);
                          }
                          x(this, "refreshAllUsersEditorRectangleSpace", []);
                      }),
                      (t.prototype.copy = function () {
                          var e = x(this, "findMyEditorRectangleSpace", []);
                          return e ? Pl(new Mv.CopyBuffer(P(e, "includeComponents"))) : null;
                      }),
                      (t.prototype.duplicate = function (e, r) {
                          var i = P(P(this, "context"), "executorHub"),
                              A = x(this, "findMyEditorRectangleSpace", []);
                          if (A) {
                              for (
                                  var a = P(A, "includeComponents"), o = P(Number, "MAX_SAFE_INTEGER"), s = P(Number, "MAX_SAFE_INTEGER"), l = P(Number, "MIN_SAFE_INTEGER"), u = P(Number, "MIN_SAFE_INTEGER"), c = 0, p = St(a);
                                  c < p.length;
                                  c++
                              ) {
                                  var h = p[c];
                                  (o = x(Math, "min", [o, P(h, "originX")])),
                                      (s = x(Math, "min", [s, P(h, "originY")])),
                                      (l = x(Math, "max", [l, P(h, "originX") + P(h, "width")])),
                                      (u = x(Math, "max", [u, P(h, "originY") + P(h, "height")]));
                              }
                              for (var v = e == null ? 0 : e - (o + l) / 2, y = r == null ? 0 : r - (s + u) / 2, _ = ut([]), B = 0, S = St(a); B < S.length; B++) {
                                  var h = S[B],
                                      M = P(h, "highlightAuthorIds"),
                                      E = P(h, "context"),
                                      W = P(h, "selectedBy");
                                  vo(h, "highlightAuthorIds"), vo(h, "context"), vo(h, "selectedBy");
                                  var Z = x(je, "copy", [h]);
                                  if (
                                      (Q(Z, "highlightAuthorIds", ut([])),
                                      Q(Z, "context", E),
                                      Q(Z, "selectedBy", void 0),
                                      Q(Z, "protoKey", x(je, "findIdentifierWith", [Z])),
                                      Q(Z, "originX", P(Z, "originX") + v),
                                      Q(Z, "originY", P(Z, "originY") + y),
                                      x(_, "push", [Z]),
                                      Q(h, "highlightAuthorIds", M),
                                      Q(h, "context", E),
                                      Q(h, "selectedBy", W),
                                      i && P(i, "enable"))
                                  ) {
                                      var z = ut({ create: x(Z, "snapshot", []) });
                                      x(i, "commit", [P(Z, "protoKey"), z, ut({ delete: !0 })]);
                                  }
                                  x(P(P(this, "context"), "scene"), "addComponent", [Z]), St(Z) instanceof pp.TextareaShape && x(P(P(this, "context"), "textareaSet"), "registerTextarea", [P(P(this, "context"), "scene"), Z]);
                              }
                              P(x(P(this, "context"), "getMemberState", [x(je, "getAuthorId", [])]), "autoSelectDuplicate") && x(this, "selectComponents", [_]);
                          }
                      }),
                      (t.prototype.selectComponents = function (e) {
                          x(this, "cleanSelectedComponents", []);
                          for (var r = x(je, "getAuthorId", []), i = 0, A = St(e); i < A.length; i++) {
                              var a = A[i];
                              Q(a, "selectedBy", r), Q(P(this, "draggedComponentOriginPoints"), P(a, "key"), ut({ x: P(a, "originX"), y: P(a, "originY") }));
                          }
                          x(this, "refreshAllUsersEditorRectangleSpace", []);
                      }),
                      (t.prototype.onDestroy = function () {
                          x(this, "cleanAllSelectingInformation", []), x(P(P(this, "context"), "textareaSet"), "completeAllEditedBy", [x(je, "getAuthorId", [])]);
                      }),
                      (t.prototype.cleanAllSelectingInformation = function () {
                          var e = x(je, "getAuthorId", []);
                          P(this, "selectedGroup") && (x(P(P(this, "context"), "scene"), "removeComponent", [P(this, "selectedGroup")]), Q(this, "selectedGroup", void 0)),
                              x(mo, "setHighlightNothing", [P(P(this, "context"), "scene"), e]),
                              x(this, "cleanSelectedComponents", []);
                      }),
                      (t.prototype.makeSureItsDraggingEvent = function (e) {
                          var r = x(this, "findMyEditorRectangleSpace", []);
                          return r ? !!P(P(e, "targetsMap"), P(r, "key")) : !1;
                      }),
                      (t.prototype.onDraggingStateChanged = function (e) {
                          var r = P(e, "x"),
                              i = P(e, "y"),
                              A = P(e, "targetsMap"),
                              a = P(e, "hitTestIdentifies");
                          if (P(this, "isDragging")) {
                              var o = x(this, "findMyEditorRectangleSpace", []);
                              if (o && x(o, "tryToStartEdit", [r, i, A])) Q(this, "draggingTarget", P(o, "isLocked") ? P(dt, "None") : P(dt, "OperationPoint"));
                              else if (o && x(o, "hitTest", [r, i, a])) P(o, "isLocked") ? Q(this, "draggingTarget", P(dt, "None")) : x(this, "startDragWithSelectedMode", []);
                              else {
                                  x(P(P(this, "context"), "textareaSet"), "completeAllEditedBy", [x(je, "getAuthorId", [])]), x(this, "setComponentHighlight", [a]);
                                  var s = x(mo, "findHighlightComponent", [P(P(this, "context"), "scene"), x(je, "getAuthorId", [])]);
                                  s && P(s, "selectedBy") !== x(je, "getAuthorId", []) ? x(this, "startDragWithHighlightMode", [s]) : Q(this, "draggingTarget", P(dt, "None"));
                              }
                              Q(this, "beginPressPoint", ut({ x: r, y: i }));
                          } else {
                              var o = x(this, "findMyEditorRectangleSpace", []);
                              o && P(this, "draggingTarget") === P(dt, "OperationPoint") && x(o, "completeEdit", []),
                                  P(this, "selectedGroup") && (x(P(P(this, "context"), "scene"), "removeComponent", [P(this, "selectedGroup")]), Q(this, "selectedGroup", void 0)),
                                  P(this, "draggingTarget") !== P(dt, "None") && (x(this, "commitUpdateRectangle", []), Q(this, "draggingTarget", P(dt, "None"))),
                                  Q(this, "beginPressPoint", null),
                                  Q(this, "draggedComponentOriginPoints", ut({})),
                                  x(this, "setComponentHighlight", [a]),
                                  x(this, "refreshAllUsersEditorRectangleSpace", []);
                          }
                      }),
                      (t.prototype.commitUpdateRectangle = function () {
                          var e = P(P(this, "context"), "executorHub");
                          if (e && P(e, "enable")) {
                              var r = x(this, "findMyEditorRectangleSpace", []);
                              r && x(r, "commitUpdateRectangle", [e]);
                          }
                      }),
                      (t.prototype.startDragWithSelectedMode = function () {
                          Q(this, "draggingTarget", P(dt, "Selected"));
                          for (var e = 0, r = St(x(this, "allSelectedComponents", [])); e < r.length; e++) {
                              var i = r[e];
                              Q(P(this, "draggedComponentOriginPoints"), P(i, "key"), ut({ x: P(i, "originX"), y: P(i, "originY") }));
                          }
                          P(this, "isCtrlPress") && x(this, "duplicate", []);
                      }),
                      (t.prototype.startDragWithHighlightMode = function (e) {
                          Q(this, "draggingTarget", P(dt, "Selected")), Q(P(this, "draggedComponentOriginPoints"), P(e, "key"), ut({ x: P(e, "originX"), y: P(e, "originY") }));
                          var r = x(je, "getAuthorId", []);
                          P(e, "selectedBy") !== r && (x(this, "cleanSelectedComponents", []), Q(e, "selectedBy", r), x(this, "refreshAllUsersEditorRectangleSpace", [])), P(this, "isCtrlPress") && x(this, "duplicate", []);
                      }),
                      (t.prototype.onDrag = function (e) {
                          var r = P(e, "x"),
                              i = P(e, "y");
                          switch (P(this, "draggingTarget")) {
                              case P(dt, "Selected"): {
                                  x(this, "dragComponents", xv([r, i], St(x(this, "allSelectedComponents", []))));
                                  break;
                              }
                              case P(dt, "OperationPoint"): {
                                  Q(this, "latestOperateX", r), Q(this, "latestOperateY", i), x(this, "refreshMyEditorRectangleSpaceDragToPoint", []);
                                  break;
                              }
                              case P(dt, "None"): {
                                  P(this, "selectedGroup") || (Q(this, "selectedGroup", Pl(new Cl(P(this, "context"), P(this, "beginPressPoint")))), x(P(P(this, "context"), "scene"), "addComponent", [P(this, "selectedGroup")])),
                                      x(P(this, "selectedGroup"), "updateEndPoint", [r, i]),
                                      x(this, "cleanSelectedComponents", []);
                                  for (
                                      var A = P(this, "selectedGroup"),
                                          a = P(A, "originX"),
                                          o = P(A, "originY"),
                                          s = P(A, "width"),
                                          l = P(A, "height"),
                                          u = x(mo, "searchEditableComponentsByRectangle", [P(P(this, "context"), "scene"), a, o, s, l]),
                                          c = x(je, "getAuthorId", []),
                                          p = 0,
                                          h = St(u);
                                      p < h.length;
                                      p++
                                  ) {
                                      var v = h[p];
                                      P(v, "rotation") !== void 0 && x(v, "commitRotation", [P(v, "rotation")]), Q(v, "selectedBy", c);
                                  }
                                  x(this, "refreshAllUsersEditorRectangleSpace", []);
                                  break;
                              }
                          }
                      }),
                      (t.prototype.refreshMyEditorRectangleSpaceDragToPoint = function () {
                          var e = x(this, "findMyEditorRectangleSpace", []);
                          e && (Q(e, "isShiftPress", P(this, "isShiftPress")), P(this, "draggingTarget") === P(dt, "OperationPoint") && x(e, "dragToPoint", [P(this, "latestOperateX"), P(this, "latestOperateY")]));
                      }),
                      (t.prototype.dragComponents = function (e, r) {
                          for (var i = [], A = 2; A < arguments.length; A++) i[A - 2] = arguments[A];
                          i == ut(i);
                          for (var a = e - P(P(this, "beginPressPoint"), "x"), o = r - P(P(this, "beginPressPoint"), "y"), s = 0; s < P(i, "length"); ++s) {
                              var l = P(i, s),
                                  u = P(P(this, "draggedComponentOriginPoints"), P(l, "key"));
                              Q(l, "originX", P(u, "x") + a), Q(l, "originY", P(u, "y") + o);
                          }
                          var c = x(this, "findMyEditorRectangleSpace", []);
                          c && x(c, "refreshRectangleByIncludesComponents", []);
                      }),
                      (t.prototype.onHover = function (e) {
                          var r = P(e, "hitTestIdentifies");
                          x(this, "setComponentHighlight", [r]);
                      }),
                      (t.prototype.onClick = function (e) {
                          var r = P(e, "hitTestIdentifies"),
                              i = x(P(P(this, "context"), "scene"), "editableWithHitIdentifies", [r]),
                              A = x(je, "getAuthorId", []);
                          if (i && St(i) instanceof pp.TextareaShape && P(i, "selectedBy") === A && (P(i, "editedBy") === void 0 || !x(P(this, "context"), "getMemberState", [P(i, "editedBy")]))) {
                              var a = x(je, "getAuthorId", []);
                              x(P(P(this, "context"), "textareaSet"), "completeAllEditedBy", [a]),
                                  x(i, "editByUserId", [a]),
                                  x(this, "cleanSelectedComponents", []),
                                  Q(this, "fixedCursorInScenePoint", ut({ x: P(i, "originX") - 5, y: P(i, "originY") }));
                          } else
                              x(P(P(this, "context"), "textareaSet"), "completeAllEditedBy", [x(je, "getAuthorId", [])]),
                                  i
                                      ? P(i, "selectedBy") !== A &&
                                        (x(this, "cleanSelectedComponents", []), P(i, "rotation") !== void 0 && x(i, "commitRotation", [P(i, "rotation")]), Q(i, "selectedBy", A), x(this, "refreshAllUsersEditorRectangleSpace", []))
                                      : x(this, "cleanSelectedComponents", []);
                          x(this, "setComponentHighlight", [r]);
                      }),
                      (t.prototype.setComponentHighlight = function (e) {
                          var r = x(P(P(this, "context"), "scene"), "editableWithHitIdentifies", [e]);
                          x(mo, "setHighlightNothing", [P(P(this, "context"), "scene"), x(je, "getAuthorId", [])]), r && !P(r, "locked") && x(r, "setHighlightBy", [!0, x(je, "getAuthorId", [])]);
                      }),
                      (t.prototype.cleanSelectedComponents = function () {
                          var e = x(je, "getAuthorId", []);
                          x(P(P(this, "context"), "scene"), "forEachComponents", [
                              function (r) {
                                  St(r) instanceof _l.Editable && P(r, "selectedBy") === e && (Q(r, "selectedBy", void 0), P(r, "rotation") !== void 0 && x(r, "commitRotation", [P(r, "rotation")]));
                              },
                          ]),
                              x(this, "refreshAllUsersEditorRectangleSpace", []),
                              Q(this, "fixedCursorInScenePoint", void 0);
                      }),
                      (t.prototype.findMyEditorRectangleSpace = function () {
                          var e = x(je, "getAuthorId", []);
                          return x(P(P(this, "context"), "scene"), "findComponentFromTop", [
                              function (r) {
                                  return St(r) instanceof Sl.EditorRectangleSpace && P(r, "belongsToUserId") === e;
                              },
                          ]);
                      }),
                      (t.prototype.refreshMyEditorRectangleSpace = function () {
                          var e = x(this, "findMyEditorRectangleSpace", []);
                          e && x(e, "refreshRectangleByIncludesComponents", []);
                      }),
                      (t.prototype.refreshAllUsersEditorRectangleSpace = function () {
                          var e = ut({}),
                              r = ut([]);
                          x(P(P(this, "context"), "scene"), "forEachComponents", [
                              function (c) {
                                  if (St(c) instanceof Sl.EditorRectangleSpace) x(r, "push", [c]);
                                  else if (St(c) instanceof _l.Editable && P(c, "selectedBy") !== void 0) {
                                      var p = P(e, P(c, "selectedBy"));
                                      p || ((p = ut([])), Q(e, P(c, "selectedBy"), p)), x(p, "push", [c]);
                                  }
                              },
                          ]);
                          for (var i = 0, A = St(r); i < A.length; i++) {
                              var a = A[i],
                                  o = P(a, "belongsToUserId"),
                                  s = P(e, o);
                              s && P(s, "length") > 0 ? x(a, "refreshWithIncludesComponents", [s]) : x(P(P(this, "context"), "scene"), "removeComponent", [a]), vo(e, o);
                          }
                          var l = x(je, "getAuthorId", []),
                              u = P(e, l);
                          if (u) {
                              var a = Pl(new Sl.EditorRectangleSpace(P(this, "context"), l));
                              x(a, "refreshWithIncludesComponents", [u]), x(P(P(this, "context"), "scene"), "addComponent", [a]);
                          }
                      }),
                      (t.prototype.moveSelectedComponentsToTop = function () {
                          var e = x(this, "allSelectedComponents", []),
                              r = P(P(P(this, "context"), "scene"), "componentsCount");
                          x(P(P(this, "context"), "scene"), "moveComponentsToIndex", [e, r]);
                      }),
                      (t.prototype.moveSelectedComponentsToBottom = function () {
                          x(P(P(this, "context"), "scene"), "moveComponentsToIndex", [x(this, "allSelectedComponents", []), 0]);
                      }),
                      (t.prototype.allSelectedComponents = function () {
                          var e = x(je, "getAuthorId", []);
                          return x(P(P(this, "context"), "scene"), "componentsWithFilter", [
                              function (r) {
                                  return St(r) instanceof _l.Editable ? P(r, "selectedBy") === e : !1;
                              },
                          ]);
                      }),
                      t
                  );
              })(Ar.wrapSuperClass(up.Gesture));
              ar.Selector = hp;
              var Cl = (function (n) {
                  lp(t, n);
                  function t(e, r) {
                      var i = n.call(this) || this;
                      return (
                          (i.originX = 0),
                          (i.originY = 0),
                          (i.width = 0),
                          (i.height = 0),
                          Q(i, "context", e),
                          Q(i, "beginPoint", r),
                          Q(i, "originX", P(r, "x")),
                          Q(i, "originY", P(r, "y")),
                          Q(i, "width", 0),
                          Q(i, "height", 0),
                          Q(i, "belongsToUserId", x(je, "getAuthorId", [])),
                          i
                      );
                  }
                  return (
                      Object.defineProperty(t.prototype, "hitTestingBoxMargin", {
                          get: function () {
                              return 0;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      (t.prototype.updateEndPoint = function (e, r) {
                          var i = this;
                          x(this, "refreshWithPoints", [
                              function (A) {
                                  A(e, r), A(P(P(i, "beginPoint"), "x"), P(P(i, "beginPoint"), "y"));
                              },
                          ]);
                      }),
                      (t.prototype.refreshWithPoints = function (e) {
                          var r = P(Number, "MIN_SAFE_INTEGER"),
                              i = P(Number, "MIN_SAFE_INTEGER"),
                              A = P(Number, "MAX_SAFE_INTEGER"),
                              a = P(Number, "MAX_SAFE_INTEGER");
                          e(function (o, s) {
                              (r = x(Math, "max", [r, o])), (A = x(Math, "min", [A, o])), (i = x(Math, "max", [i, s])), (a = x(Math, "min", [a, s]));
                          }),
                              Q(this, "originX", A),
                              Q(this, "originY", a),
                              Q(this, "width", r - A),
                              Q(this, "height", i - a);
                      }),
                      Rv([je.noEffects], t.prototype, "hitTestingBoxMargin", null),
                      t
                  );
              })(Ar.wrapSuperClass(cp.ApplianceComponent));
              ar.SelectedGroupRectangleSpace = Cl;
              Ar.declareClass({ classId: 29, clazz: hp, superClass: up.Gesture });
              Ar.declareClass({ classId: 28, clazz: Cl, superClass: cp.ApplianceComponent, memberDecorators: { hitTestingBoxMargin: [je.noEffects] } });
              Ar = null;
          });
          var Ra = C(function (Ee) {
              "use strict";
              var Tv =
                      (Ee && Ee.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  Ov =
                      (Ee && Ee.__exportStar) ||
                      function (n, t) {
                          for (var e in n) e !== "default" && !t.hasOwnProperty(e) && Tv(t, n, e);
                      };
              Object.defineProperty(Ee, "__esModule", { value: !0 });
              Ov(el(), Ee);
              var Ev = so();
              Object.defineProperty(Ee, "SceneNode", {
                  enumerable: !0,
                  get: function () {
                      return Ev.SceneNode;
                  },
              });
              var dp = ro();
              Object.defineProperty(Ee, "DeviceType", {
                  enumerable: !0,
                  get: function () {
                      return dp.DeviceType;
                  },
              });
              Object.defineProperty(Ee, "ViewMode", {
                  enumerable: !0,
                  get: function () {
                      return dp.ViewMode;
                  },
              });
              var Gv = Wn();
              Object.defineProperty(Ee, "ApplianceComponent", {
                  enumerable: !0,
                  get: function () {
                      return Gv.ApplianceComponent;
                  },
              });
              var jv = yt();
              Object.defineProperty(Ee, "Editable", {
                  enumerable: !0,
                  get: function () {
                      return jv.Editable;
                  },
              });
              var Wv = lo();
              Object.defineProperty(Ee, "EllipseShape", {
                  enumerable: !0,
                  get: function () {
                      return Wv.EllipseShape;
                  },
              });
              var Zv = hl();
              Object.defineProperty(Ee, "Shape", {
                  enumerable: !0,
                  get: function () {
                      return Zv.Shape;
                  },
              });
              var Vv = fl();
              Object.defineProperty(Ee, "RectangleShape", {
                  enumerable: !0,
                  get: function () {
                      return Vv.RectangleShape;
                  },
              });
              var Iv = vl();
              Object.defineProperty(Ee, "CurveShape", {
                  enumerable: !0,
                  get: function () {
                      return Iv.CurveShape;
                  },
              });
              var Xv = ua();
              Object.defineProperty(Ee, "BezierCurveShape", {
                  enumerable: !0,
                  get: function () {
                      return Xv.BezierCurveShape;
                  },
              });
              var kv = yl();
              Object.defineProperty(Ee, "EditorRectangleSpace", {
                  enumerable: !0,
                  get: function () {
                      return kv.EditorRectangleSpace;
                  },
              });
              var Nv = Bl();
              Object.defineProperty(Ee, "SelectedGroupRectangleSpace", {
                  enumerable: !0,
                  get: function () {
                      return Nv.SelectedGroupRectangleSpace;
                  },
              });
              var Hv = Ao();
              Object.defineProperty(Ee, "ImageShape", {
                  enumerable: !0,
                  get: function () {
                      return Hv.ImageShape;
                  },
              });
              var Dv = Zn();
              Object.defineProperty(Ee, "TextareaShape", {
                  enumerable: !0,
                  get: function () {
                      return Dv.TextareaShape;
                  },
              });
              var wl = ho();
              Object.defineProperty(Ee, "VectorShape", {
                  enumerable: !0,
                  get: function () {
                      return wl.VectorShape;
                  },
              });
              Object.defineProperty(Ee, "VectorKind", {
                  enumerable: !0,
                  get: function () {
                      return wl.VectorKind;
                  },
              });
              Object.defineProperty(Ee, "VectorDirection", {
                  enumerable: !0,
                  get: function () {
                      return wl.VectorDirection;
                  },
              });
              var Yv = oo();
              Object.defineProperty(Ee, "BackgroundImage", {
                  enumerable: !0,
                  get: function () {
                      return Yv.BackgroundImage;
                  },
              });
          });
          var Tl = C(function (SA) {
              "use strict";
              var Fv =
                  (SA && SA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(SA, "__esModule", { value: !0 });
              SA.ExecutorHub = void 0;
              var Bi = require("akko").__context("module"),
                  Zt = Bi.setter,
                  L = Bi.getter,
                  zv = Bi.wrapper,
                  Rl = Bi.creator,
                  Te = Bi.caller,
                  an = Bi.unwrapper,
                  yo = yt(),
                  xl = Zn(),
                  Ml = ua(),
                  fp = (function (n) {
                      Fv(t, n);
                      function t(e) {
                          var r = n.call(this) || this;
                          return (r.commiter = null), (r._enable = !1), Zt(r, "context", e), r;
                      }
                      return (
                          Object.defineProperty(t.prototype, "enable", {
                              get: function () {
                                  return L(this, "_enable");
                              },
                              set: function (e) {
                                  Zt(this, "_enable", e), e || Zt(this, "commiter", null);
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.commit = function (e, r, i) {
                              if (!L(this, "_enable")) throw zv(new Error("not enable exectuor hub"));
                              L(this, "commiter") || Zt(this, "commiter", Rl({ redo: Rl({}), undo: Rl({}) })),
                                  Zt(r, "path", Zt(i, "path", L(L(L(this, "context"), "scenes"), "currentPath"))),
                                  Zt(L(L(this, "commiter"), "redo"), e, r),
                                  Zt(L(L(this, "commiter"), "undo"), e, i);
                          }),
                          (t.prototype.takeCommit = function () {
                              var e = L(this, "commiter");
                              return L(this, "commiter") && Zt(this, "commiter", null), e;
                          }),
                          (t.prototype.execute = function (e) {
                              if (L(this, "_enable")) {
                                  for (var r in an(e)) Te(this, "executeOne", [r, L(e, r)]);
                                  Te(Te(L(this, "context"), "getAppliance", ["selector"]), "refreshAllUsersEditorRectangleSpace", []);
                              }
                          }),
                          (t.prototype.executeOne = function (e, r) {
                              var i = L(L(this, "context"), "scenes"),
                                  A = L(r, "path") || L(i, "currentPath"),
                                  a = Te(i, "getScene", [A]);
                              if (a) {
                                  if (L(r, "create")) {
                                      var o = Te(yo.Editable, "recover", [L(this, "context"), L(r, "create")]);
                                      Te(a, "addComponent", [o]), an(o) instanceof xl.TextareaShape && (Te(o, "completeEdit", []), Te(L(L(this, "context"), "textareaSet"), "registerTextarea", [a, o]));
                                  }
                                  if (L(r, "createCurve")) {
                                      var s = Te(Ml.BezierCurveShape, "createByUndoSnapshot", [L(this, "context"), L(r, "createCurve")]);
                                      Te(a, "addComponent", [s]);
                                  }
                                  if (L(r, "updateCurve")) {
                                      var l = Te(this, "findComponent", [e, a]);
                                      if (l && an(l) instanceof Ml.BezierCurveShape) Te(l, "appleUndoSnapshot", [L(r, "updateCurve")]);
                                      else {
                                          var s = Te(Ml.BezierCurveShape, "createByUndoSnapshot", [L(this, "context"), L(r, "updateCurve")]);
                                          Te(a, "addComponent", [s]);
                                      }
                                  }
                                  if (L(r, "delete")) {
                                      var o = Te(this, "findComponent", [e, a]);
                                      o && (Te(a, "removeComponent", [o]), Te(L(L(this, "context"), "textareaSet"), "fireRemoveComponent", [o]));
                                  }
                                  if (L(r, "updateRect")) {
                                      var o = Te(this, "findComponent", [e, a]);
                                      if (o && an(o) instanceof yo.Editable) {
                                          var u = L(r, "updateRect"),
                                              c = L(u, "x"),
                                              p = L(u, "y"),
                                              h = L(u, "width"),
                                              v = L(u, "height");
                                          Zt(o, "originX", c), Zt(o, "originY", p), Zt(o, "width", h), Zt(o, "height", v);
                                      }
                                  }
                                  if (L(r, "updateRotation") !== void 0) {
                                      var o = Te(this, "findComponent", [e, a]);
                                      o && an(o) instanceof yo.Editable && Zt(o, "displayRotation", L(r, "updateRotation"));
                                  }
                                  if (L(r, "updateTextarea")) {
                                      var o = Te(this, "findComponent", [e, a]);
                                      an(o) instanceof xl.TextareaShape && Te(o, "recoverTextareaBox", [L(r, "updateTextarea")]);
                                  }
                                  if (L(r, "updateTextareaFormat")) {
                                      var o = Te(this, "findComponent", [e, a]);
                                      an(o) instanceof xl.TextareaShape && Te(o, "recoverFormat", [L(r, "updateTextareaFormat")]);
                                  }
                                  L(r, "cleanPPT") && Te(a, "cleanPPT", [L(this, "context")]), L(r, "setPPT") && Te(a, "recoverPPT", [L(r, "setPPT")]);
                              }
                          }),
                          (t.prototype.findComponent = function (e, r) {
                              for (var i = 0; i < L(r, "componentsLength"); ++i) {
                                  var A = Te(r, "componentAt", [i]);
                                  if (A && an(A) instanceof yo.Editable && L(A, "protoKey") === e) return A;
                              }
                          }),
                          t
                      );
                  })(Bi.baseClass());
              SA.ExecutorHub = fp;
              Bi.declareClass({ classId: 5, clazz: fp });
              Bi = null;
          });
          var Ol = C(function (Hn) {
              "use strict";
              var Qv =
                      (Hn && Hn.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  qv =
                      (Hn && Hn.__exportStar) ||
                      function (n, t) {
                          for (var e in n) e !== "default" && !t.hasOwnProperty(e) && Qv(t, n, e);
                      };
              Object.defineProperty(Hn, "__esModule", { value: !0 });
              qv(Tl(), Hn);
          });
          var bo = C(function (on) {
              "use strict";
              var Uv =
                      (on && on.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  Lv =
                      (on && on.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(on, "__esModule", { value: !0 });
              on.PluginComponent = void 0;
              var xa = require("akko").__context("module"),
                  El = xa.getter,
                  gp = xa.setter,
                  vp = require("akko"),
                  mp = Ra(),
                  yp = (function (n) {
                      Uv(t, n);
                      function t(e, r) {
                          var i = n.call(this, El(e, "context")) || this;
                          return (i.hitTestingBoxMargin = 0), (i.originX = 0), (i.originY = 0), (i.width = 0), (i.height = 0), (i.selectable = !0), (i.locked = !1), (i.attributes = void 0), gp(i, "manager", e), gp(i, "kind", r), i;
                      }
                      return (
                          Object.defineProperty(t.prototype, "isPressed", {
                              get: function () {
                                  return El(El(this, "manager"), "isPressed");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Lv([vp.noEffects], t.prototype, "isPressed", null),
                          t
                      );
                  })(xa.wrapSuperClass(mp.Editable));
              on.PluginComponent = yp;
              xa.declareClass({ classId: 2, clazz: yp, superClass: mp.Editable, memberDecorators: { isPressed: [vp.noEffects] } });
              xa = null;
          });
          var So = C(function (BA) {
              "use strict";
              var Jv =
                  (BA && BA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(BA, "__esModule", { value: !0 });
              BA.PluginManager = void 0;
              var Lr = require("akko").__context("module"),
                  CA = Lr.creator,
                  wi = Lr.setter,
                  ie = Lr.getter,
                  Kv = Lr.remover,
                  $v = Lr.wrapper,
                  wr = Lr.caller,
                  Po = Lr.unwrapper,
                  Gl = require("akko"),
                  _o = bo(),
                  bp = (function (n) {
                      Jv(t, n);
                      function t(e) {
                          var r = n.call(this) || this;
                          return (r.pressedMembers = CA({})), wi(r, "context", e), r;
                      }
                      return (
                          Object.defineProperty(t.prototype, "isPressed", {
                              get: function () {
                                  return !!ie(ie(this, "pressedMembers"), Gl.getAuthorId());
                              },
                              set: function (e) {
                                  e ? wi(ie(this, "pressedMembers"), Gl.getAuthorId(), !0) : Kv(ie(this, "pressedMembers"), Gl.getAuthorId());
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.insert = function (e, r) {
                              var i = $v(new _o.PluginComponent(this, e));
                              r && wr(this, "updatePlugin", [i, r]);
                              var A = ie(ie(this, "context"), "executorHub");
                              if (A && ie(A, "enable")) {
                                  var a = CA({ create: wr(i, "snapshot", []) });
                                  wr(A, "commit", [ie(i, "protoKey"), a, CA({ delete: !0 })]);
                              }
                              return wr(ie(ie(this, "context"), "scene"), "addComponent", [i]), i;
                          }),
                          (t.prototype.get = function (e) {
                              return wr(ie(ie(this, "context"), "scene"), "findComponentFromTop", [
                                  function (r) {
                                      return Po(r) instanceof _o.PluginComponent ? ie(r, "key") === e : !1;
                                  },
                              ]);
                          }),
                          (t.prototype.list = function () {
                              for (var e = CA([]), r = 0, i = Po(ie(ie(ie(this, "context"), "scene"), "components")); r < i.length; r++) {
                                  var A = i[r];
                                  Po(A) instanceof _o.PluginComponent && wr(e, "push", [A]);
                              }
                              return e;
                          }),
                          (t.prototype.remove = function (e) {
                              for (var r = ie(ie(this, "context"), "scene"), i = ie(r, "components"), A = 0; A < ie(i, "length"); ++A) {
                                  var a = ie(i, A);
                                  if (ie(a, "key") === e && Po(a) instanceof _o.PluginComponent) {
                                      var o = ie(ie(this, "context"), "executorHub");
                                      return o && ie(o, "enable") && wr(o, "commit", [ie(a, "protoKey"), CA({ delete: !0 }), CA({ create: wr(a, "snapshot", []) })]), wr(r, "removeComponentAt", [A]), a;
                                  }
                              }
                          }),
                          (t.prototype.update = function (e, r) {
                              var i = wr(this, "get", [e]);
                              return i && wr(this, "updatePlugin", [i, r]), i;
                          }),
                          (t.prototype.updatePlugin = function (e, r) {
                              ie(r, "originX") !== void 0 && wi(e, "originX", ie(r, "originX")),
                                  ie(r, "originY") !== void 0 && wi(e, "originY", ie(r, "originY")),
                                  ie(r, "width") !== void 0 && wi(e, "width", ie(r, "width")),
                                  ie(r, "height") !== void 0 && wi(e, "height", ie(r, "height")),
                                  ie(r, "selectable") !== void 0 && wi(e, "selectable", ie(r, "selectable")),
                                  ie(r, "attributes") !== void 0 && wi(e, "attributes", ie(r, "attributes")),
                                  ie(r, "locked") !== void 0 && wi(e, "locked", ie(r, "locked"));
                          }),
                          t
                      );
                  })(Lr.baseClass());
              BA.PluginManager = bp;
              Lr.declareClass({ classId: 3, clazz: bp });
              Lr = null;
          });
          var Wl = C(function (ln) {
              "use strict";
              var em =
                      (ln && ln.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  Dn =
                      (ln && ln.__assign) ||
                      function () {
                          return (
                              (Dn =
                                  Object.assign ||
                                  function (n) {
                                      for (var t, e = 1, r = arguments.length; e < r; e++) {
                                          t = arguments[e];
                                          for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                      }
                                      return n;
                                  }),
                              Dn.apply(this, arguments)
                          );
                      };
              Object.defineProperty(ln, "__esModule", { value: !0 });
              ln.InvisiblePluginManager = void 0;
              var Jr = require("akko").__context("module"),
                  Kr = Jr.creator,
                  Ma = Jr.caller,
                  Xe = Jr.getter,
                  sn = Jr.unwrapper,
                  jl = Jr.wrapper,
                  Ri = Jr.setter,
                  Co = Jr.remover,
                  Bo = la(),
                  Pp = (function (n) {
                      em(t, n);
                      function t() {
                          var e = (n !== null && n.apply(this, arguments)) || this;
                          return (e.plugins = Kr({})), (e.memberPlugins = Kr({})), e;
                      }
                      return (
                          (t.prototype.getKinds = function () {
                              return Ma(Object, "keys", [Xe(this, "plugins")]);
                          }),
                          (t.prototype.hasKind = function (e) {
                              return e in sn(Xe(this, "plugins"));
                          }),
                          (t.prototype.put = function (e, r) {
                              if (Ma(this, "hasKind", [e])) throw jl(new Error('invisible plugin "' + e + '" exits'));
                              Ri(Xe(this, "plugins"), e, Kr(Dn({}, sn(r))));
                          }),
                          (t.prototype.remove = function (e) {
                              if (!Ma(this, "hasKind", [e])) throw jl(new Error('invisible plugin "' + e + '" not exits'));
                              Co(Xe(this, "plugins"), e);
                          }),
                          (t.prototype.getAttributes = function (e, r) {
                              var i = Xe(Xe(this, "plugins"), e);
                              if (!i) throw jl(new Error('invisible plugin "' + e + '" not exits'));
                              return Bo.getTreeValue(i, r);
                          }),
                          (t.prototype.updateAttributes = function (e, r) {
                              var i = Kr(Dn({}, sn(Ma(this, "getAttributes", [e]))));
                              for (var A in sn(r)) {
                                  var a = Xe(r, A);
                                  a === void 0 ? Co(i, A) : Ri(i, A, a);
                              }
                              Ri(Xe(this, "plugins"), e, i);
                          }),
                          (t.prototype.updateAttributesWithKeys = function (e, r, i) {
                              var A = Kr(Dn({}, sn(Ma(this, "getAttributes", [e]))));
                              Bo.updateTree(A, r, i), Ri(Xe(this, "plugins"), e, A);
                          }),
                          (t.prototype.getMemberAttributes = function (e, r, i) {
                              var A,
                                  a = Xe(Xe(this, "memberPlugins"), e);
                              return a && (A = Xe(a, r)), A || (A = Kr({})), Bo.getTreeValue(A, i);
                          }),
                          (t.prototype.updateMemberAttributes = function (e, r, i) {
                              var A = Xe(Xe(this, "memberPlugins"), e);
                              A || (A = Ri(Xe(this, "memberPlugins"), e, Kr({})));
                              var a = Kr(Dn({}, sn(Xe(A, r))));
                              for (var o in sn(i)) {
                                  var s = Xe(i, o);
                                  s === void 0 ? Co(a, o) : Ri(a, o, s);
                              }
                              Ri(A, r, a);
                          }),
                          (t.prototype.updateMemberAttributesWithKeys = function (e, r, i, A) {
                              var a = Xe(Xe(this, "memberPlugins"), e);
                              a || (a = Ri(Xe(this, "memberPlugins"), e, Kr({})));
                              var o = Kr(Dn({}, sn(Xe(a, r))));
                              Bo.updateTree(o, i, A), Ri(a, r, o);
                          }),
                          (t.prototype.removeMember = function (e) {
                              Co(Xe(this, "memberPlugins"), e);
                          }),
                          t
                      );
                  })(Jr.baseClass());
              ln.InvisiblePluginManager = Pp;
              Jr.declareClass({ classId: 1, clazz: Pp });
              Jr = null;
          });
          var Zl = C(function (wA) {
              "use strict";
              var tm =
                  (wA && wA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(wA, "__esModule", { value: !0 });
              wA.TextareaSet = void 0;
              var xi = require("akko").__context("module"),
                  wo = xi.creator,
                  rm = xi.setter,
                  Fe = xi.getter,
                  im = xi.remover,
                  un = xi.caller,
                  _p = xi.unwrapper,
                  Sp = (function (n) {
                      tm(t, n);
                      function t() {
                          var e = (n !== null && n.apply(this, arguments)) || this;
                          return (e.set = wo({})), e;
                      }
                      return (
                          (t.prototype.registerTextarea = function (e, r) {
                              rm(Fe(this, "set"), Fe(r, "identifier"), wo({ scene: e, textarea: r }));
                          }),
                          (t.prototype.fireRemoveComponent = function (e) {
                              im(Fe(this, "set"), Fe(e, "identifier"));
                          }),
                          (t.prototype.completeAllEditedBy = function (e) {
                              for (var r in _p(Fe(this, "set"))) {
                                  var i = Fe(Fe(this, "set"), r),
                                      A = Fe(i, "textarea"),
                                      a = Fe(i, "scene");
                                  Fe(A, "editedBy") === e && un(this, "complete", [a, A]);
                              }
                          }),
                          (t.prototype.completeAllOnScene = function (e) {
                              for (var r in _p(Fe(this, "set"))) {
                                  var i = Fe(Fe(this, "set"), r),
                                      A = Fe(i, "textarea"),
                                      a = Fe(i, "scene");
                                  e === a && un(this, "complete", [a, A]);
                              }
                          }),
                          (t.prototype.complete = function (e, r) {
                              if (Fe(r, "isTextEmpty")) {
                                  var i = Fe(Fe(r, "context"), "executorHub");
                                  i && Fe(i, "enable") && !Fe(r, "isWaitingFirstText") && (un(r, "undoPreviousEdit", []), un(i, "commit", [Fe(r, "protoKey"), wo({ delete: !0 }), wo({ create: un(r, "snapshot", []) })])),
                                      un(e, "removeComponent", [r]),
                                      un(this, "fireRemoveComponent", [r]);
                              } else un(r, "completeEdit", []);
                          }),
                          t
                      );
                  })(xi.baseClass());
              wA.TextareaSet = Sp;
              xi.declareClass({ classId: 0, clazz: Sp });
              xi = null;
          });
          var Hl = C(function (ti) {
              "use strict";
              var nm =
                      (ti && ti.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  $r =
                      (ti && ti.__assign) ||
                      function () {
                          return (
                              ($r =
                                  Object.assign ||
                                  function (n) {
                                      for (var t, e = 1, r = arguments.length; e < r; e++) {
                                          t = arguments[e];
                                          for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                      }
                                      return n;
                                  }),
                              $r.apply(this, arguments)
                          );
                      },
                  Vl =
                      (ti && ti.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(ti, "__esModule", { value: !0 });
              ti.AbstractApplianceManager = void 0;
              var ei = require("akko").__context("module"),
                  ce = ei.setter,
                  ke = ei.wrapper,
                  b = ei.getter,
                  f = ei.caller,
                  Ze = ei.creator,
                  ze = ei.unwrapper,
                  Am = ei.remover,
                  G = require("akko"),
                  Ro = eo(),
                  am = Ls(),
                  xo = Ao(),
                  Cp = ua(),
                  Yn = Ra(),
                  om = bl(),
                  Bp = eo(),
                  sm = Ol(),
                  Il = so(),
                  Xl = So(),
                  kl = Wl(),
                  wp = Zl(),
                  Nl = la(),
                  Rp = (function (n) {
                      nm(t, n);
                      function t(e) {
                          var r = n.call(this) || this;
                          return (
                              (r.overrideScene = null),
                              ce(r, "_globalState", e),
                              ce(r, "_textareaSet", ke(new wp.TextareaSet())),
                              ce(r, "scenes", ke(new Il.SceneManager())),
                              ce(r, "pluginManager", ke(new Xl.PluginManager(r))),
                              ce(r, "invisiblePluginManager", ke(new kl.InvisiblePluginManager())),
                              ce(r, "membersManager", ke(new am.MembersManager(b(r, "scenes")))),
                              ce(r, "adminObserverMemberState", f(r, "createMemberState", [Ze([0, 0, 0])])),
                              r
                          );
                      }
                      return (
                          Object.defineProperty(t.prototype, "deviceType", {
                              get: function () {
                                  return f(b(this, "membersManager"), "getDeviceType", [f(G, "getAuthorId", [])]);
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "textareaSet", {
                              get: function () {
                                  return b(this, "_textareaSet") || ce(this, "_textareaSet", ke(new wp.TextareaSet())), b(this, "_textareaSet");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "enableAssignScene", {
                              get: function () {
                                  return !0;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(t.prototype, "scene", {
                              get: function () {
                                  return b(this, "overrideScene") || b(b(this, "scenes"), "currentScene");
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.exportSceneSnapshot = function (e) {
                              var r = e === void 0 ? b(b(this, "scenes"), "currentScene") : f(b(this, "scenes"), "getScene", [e]);
                              if (r) return f(f(G, "getSnapshot", []), "createSnapshot", [r, !0]);
                          }),
                          (t.prototype.getSceneFromFile = function (e) {
                              if (b(e, "byteLength") > 4 && f(e, "getUint32", [0]) === 1869310817) {
                                  var r = f(e, "getUint32", [4]);
                                  e = f(e, "slice", [8 + r]);
                              }
                              var i = f(f(G, "getSnapshot", []), "recoverWithSnapshot", [e]);
                              return Ze({ name: b(i, "name"), ppt: b(i, "ppt") });
                          }),
                          (t.prototype.base64ToArrayBuffer = function (e) {
                              for (var r = atob(e), i = b(r, "length"), A = ke(new Uint8Array(i)), a = 0; a < i; a++) ce(A, a, f(r, "charCodeAt", [a]));
                              return b(A, "buffer");
                          }),
                          (t.prototype.importSceneSnapshot = function (e, r) {
                              if (typeof r == "string") {
                                  var i = f(this, "base64ToArrayBuffer", [r]);
                                  r = f(G, "wrapBuffer", [i]);
                              }
                              var A = f(f(G, "getSnapshot", []), "recoverWithSnapshot", [r]);
                              f(A, "updateContext", [ke(this)]), f(b(this, "scenes"), "putScene", [e, A]);
                          }),
                          Object.defineProperty(t.prototype, "executorHub", {
                              get: function () {
                                  return f(b(this, "membersManager"), "getExecutorHub", [f(G, "getAuthorId", [])]);
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.createAppliances = function () {
                              var e = Ze({}),
                                  r = f(this, "createConstructors", []);
                              for (var i in ze(r)) {
                                  var A = b(r, i);
                                  ce(e, i, ke(new A(this)));
                              }
                              return e;
                          }),
                          (t.prototype.onMemberEnterRoom = function (e, r) {
                              var i = f(G, "getAuthorId", []),
                                  A = f(b(this, "membersManager"), "initiativeColor", []),
                                  a = f(G, "getUser", [i]),
                                  o = Ze({ id: b(a, "userId"), session: b(a, "session"), payload: b(a, "payload") });
                              f(b(this, "membersManager"), "memberEnter", [
                                  Ze({ memberId: i, deviceType: r, information: o, appliances: f(this, "createAppliances", []), memberState: f(this, "createMemberState", [A]), executorHub: ke(new sm.ExecutorHub(this)) }),
                              ]);
                          }),
                          (t.prototype.onMemberLeaveRoom = function () {
                              var e = f(G, "getAuthorId", []);
                              f(b(this, "membersManager"), "memberLeave", [e]), ce(f(this, "getPluginManager", []), "isPressed", !1), f(f(this, "getInvisiblePluginManager", []), "removeMember", [e]);
                          }),
                          (t.prototype.onOthersEvent = function (e, r, i) {
                              var A = f(G, "getAuthorId", []);
                              i !== b(b(G, "EventScope"), "System") && f(b(this, "membersManager"), "isMemberExits", [A]) && f(b(this, "membersManager"), "dispatchMagixEvent", [A, e, r]);
                          }),
                          (t.prototype.checkPathKind = function (e) {
                              var r = f(b(this, "scenes"), "findSceneOrGroup", [e]);
                              return r ? (ze(r) instanceof Il.SceneNode ? 1 : 2) : 0;
                          }),
                          (t.prototype.collectNewPencilCurves = function (e, r, i, A, a) {
                              var o;
                              a !== void 0 && (o = f(b(this, "scenes"), "getSceneWithIdentifier", [a])), o === void 0 && (o = b(this, "scene"));
                              var s = f(this, "getAppliance", ["pencil"]);
                              return s ? f(s, "collectNewPencilCurves", [e, r, i, A, o]) : Ze([]);
                          }),
                          (t.prototype.updateNewPencilCurves = function (e, r, i, A, a) {
                              var o = this;
                              return f(this, "assignScene", [
                                  a,
                                  function () {
                                      var s = f(o, "getAppliance", ["pencil"]),
                                          l = Ze({ added: Ze({}), updated: Ze({}), removed: Ze({}) });
                                      return s && f(s, "updateNewPencilCurves", [e, b(o, "scene"), l]), f(b(o, "membersManager"), "setCursor", [f(G, "getAuthorId", []), r, i, !A]), l;
                                  },
                              ]);
                          }),
                          (t.prototype.notifyThatSceneChanged = function (e) {
                              f(b(this, "membersManager"), "notifyThatSceneChanged", [e]);
                          }),
                          (t.prototype.changeScene = function (e) {
                              var r = b(b(this, "scenes"), "currentPath");
                              ce(b(this, "scenes"), "currentPath", e), f(b(this, "scenes"), "isPathEquals", [r, b(b(this, "scenes"), "currentPath")]) || f(b(this, "membersManager"), "notifyAllThatSceneChanged", [r]);
                          }),
                          (t.prototype.putScenes = function (e, r, i) {
                              for (var A = 0; A < b(r, "length"); ++A) {
                                  var a = b(r, A),
                                      o = ke(new Il.SceneNode(b(a, "name"), b(a, "ppt"))),
                                      s = i === void 0 || i < 0 ? void 0 : i + A;
                                  f(b(this, "scenes"), "putScene", [e, o, s]);
                              }
                          }),
                          (t.prototype.removeScenes = function (e) {
                              var r = b(b(this, "scenes"), "currentPath");
                              f(b(this, "scenes"), "removePath", [e]), f(b(this, "scenes"), "isPathEquals", [r, b(b(this, "scenes"), "currentPath")]) || f(b(this, "membersManager"), "notifyAllThatSceneChanged", [r]);
                          }),
                          (t.prototype.moveScene = function (e, r) {
                              var i = b(b(this, "scenes"), "currentPath");
                              f(b(this, "scenes"), "moveScene", [e, r]), f(b(this, "scenes"), "isPathEquals", [i, b(b(this, "scenes"), "currentPath")]) || f(b(this, "membersManager"), "notifyAllThatSceneChanged", [i]);
                          }),
                          (t.prototype.insertImage = function (e, r) {
                              var i = this;
                              f(this, "assignScene", [
                                  r,
                                  function () {
                                      var A = ke(new xo.ImageShape(i, e));
                                      f(b(i, "scene"), "addComponent", [A]);
                                  },
                              ]);
                          }),
                          (t.prototype.lockImage = function (e, r, i) {
                              var A = this;
                              return f(this, "assignScene", [
                                  i,
                                  function () {
                                      ce(f(A, "getImageWith", [e]), "locked", r), f(f(A, "getAppliance", ["selector"]), "refreshAllUsersEditorRectangleSpace", []);
                                  },
                              ]);
                          }),
                          (t.prototype.lockImages = function (e, r) {
                              var i = this;
                              f(this, "assignScene", [
                                  r,
                                  function () {
                                      f(b(i, "scene"), "forEachComponents", [
                                          function (A) {
                                              var a = f(G, "getAuthorId", []);
                                              ze(A) instanceof xo.ImageShape && b(A, "selectedBy") === a && ce(A, "locked", e);
                                          },
                                      ]),
                                          f(f(i, "getAppliance", ["selector"]), "refreshAllUsersEditorRectangleSpace", []);
                                  },
                              ]);
                          }),
                          (t.prototype.updatePencilColor = function (e, r) {
                              var i = this;
                              f(this, "assignScene", [
                                  r,
                                  function () {
                                      f(b(i, "scene"), "forEachComponents", [
                                          function (A) {
                                              var a = f(G, "getAuthorId", []);
                                              ze(A) instanceof Cp.BezierCurveShape && b(A, "selectedBy") === a && ce(A, "state", Ze($r($r({}, ze(b(A, "state"))), { strokeColor: e })));
                                          },
                                      ]);
                                  },
                              ]);
                          }),
                          (t.prototype.updateShapeColor = function (e, r) {
                              var i = this;
                              f(this, "assignScene", [
                                  r,
                                  function () {
                                      f(b(i, "scene"), "forEachComponents", [
                                          function (A) {
                                              var a = f(G, "getAuthorId", []);
                                              (ze(A) instanceof Yn.RectangleShape || ze(A) instanceof Yn.EllipseShape || ze(A) instanceof Yn.VectorShape) && b(A, "selectedBy") === a
                                                  ? ce(A, "state", Ze($r($r({}, ze(b(A, "state"))), { strokeColor: e })))
                                                  : ze(A) instanceof Yn.Shape && b(A, "selectedBy") === a && ce(A, "strokeColor", e);
                                          },
                                      ]);
                                  },
                              ]);
                          }),
                          (t.prototype.updateShapeFillColor = function (e, r) {
                              var i = this;
                              f(this, "assignScene", [
                                  r,
                                  function () {
                                      f(b(i, "scene"), "forEachComponents", [
                                          function (A) {
                                              var a = f(G, "getAuthorId", []);
                                              (ze(A) instanceof Yn.RectangleShape || ze(A) instanceof Yn.EllipseShape) && b(A, "selectedBy") === a
                                                  ? ce(A, "state", Ze($r($r({}, ze(b(A, "state"))), { fillColor: e })))
                                                  : ze(A) instanceof Yn.Shape && b(A, "selectedBy") === a && ce(A, "fillColor", e);
                                          },
                                      ]);
                                  },
                              ]);
                          }),
                          (t.prototype.completeImageUpload = function (e, r, i) {
                              var A = this;
                              return f(this, "assignScene", [
                                  i,
                                  function () {
                                      var a = f(A, "getImageWith", [e]);
                                      f(a, "setImageSrc", [r]);
                                      var o = b(A, "executorHub");
                                      if (o && b(o, "enable")) {
                                          var s = Ze({ create: f(a, "snapshot", []) });
                                          f(o, "commit", [b(a, "protoKey"), s, Ze({ delete: !0 })]);
                                      }
                                      return f(A, "takeCommit", []);
                                  },
                              ]);
                          }),
                          (t.prototype.setImageLock = function (e, r, i) {
                              var A = this;
                              f(this, "assignScene", [
                                  i,
                                  function () {
                                      ce(f(A, "getImageWith", [e]), "locked", r);
                                  },
                              ]);
                          }),
                          (t.prototype.getImageWith = function (e) {
                              var r = f(b(this, "scene"), "findComponentFromTop", [
                                  function (i) {
                                      return ze(i) instanceof xo.ImageShape && b(i, "uuid") === e;
                                  },
                              ]);
                              if (!r) throw ke(new Error("uuid " + e + " not found"));
                              return r;
                          }),
                          (t.prototype.setGlobalState = function (e) {
                              var r = Ze($r({}, ze(b(this, "_globalState"))));
                              for (var i in ze(e)) {
                                  var A = b(e, i);
                                  A === void 0 ? Am(r, i) : ce(r, i, A);
                              }
                              return ce(this, "_globalState", r), b(this, "_globalState");
                          }),
                          (t.prototype.updateGlobalState = function (e, r) {
                              var i = Ze($r({}, ze(b(this, "_globalState"))));
                              return Nl.updateTree(i, e, r), ce(this, "_globalState", i), f(this, "takeCommit", []);
                          }),
                          (t.prototype.setMemberState = function (e) {
                              return f(b(this, "membersManager"), "setMemberState", [f(G, "getAuthorId", []), e]);
                          }),
                          (t.prototype.setMemberStateWithCommitter = function (e) {
                              var r = f(b(this, "membersManager"), "setMemberState", [f(G, "getAuthorId", []), e]),
                                  i = f(this, "takeCommit", []);
                              return Ze({ memberState: r, committer: i });
                          }),
                          (t.prototype.updateMemberState = function (e, r) {
                              return f(b(this, "membersManager"), "updateMemberState", [f(G, "getAuthorId", []), e, r]), f(this, "takeCommit", []);
                          }),
                          (t.prototype.setViewState = function (e) {
                              return f(b(this, "membersManager"), "setViewState", [f(G, "getAuthorId", []), e]);
                          }),
                          (t.prototype.updateTextareaFormat = function (e, r, i) {
                              var A = this;
                              return f(this, "assignScene", [
                                  i,
                                  function () {
                                      return Bp.setTextareaFormat(b(A, "scene"), e, r), f(f(A, "getAppliance", ["selector"]), "refreshMyEditorRectangleSpace", []), f(A, "takeCommit", []);
                                  },
                              ]);
                          }),
                          (t.prototype.updateTextareaScale = function (e) {
                              return f(Ro, "setTextareaScale", [b(this, "scene"), e]), f(f(this, "getAppliance", ["selector"]), "refreshMyEditorRectangleSpace", []), f(this, "takeCommit", []);
                          }),
                          (t.prototype.updateTextareaFontSize = function (e, r) {
                              var i = this;
                              return f(this, "assignScene", [
                                  r,
                                  function () {
                                      return Bp.setTextareaFontSize(b(i, "scene"), e), f(f(i, "getAppliance", ["selector"]), "refreshMyEditorRectangleSpace", []), f(i, "takeCommit", []);
                                  },
                              ]);
                          }),
                          (t.prototype.insertTextarea = function (e, r, i) {
                              var A = this;
                              return f(this, "assignScene", [
                                  i,
                                  function () {
                                      return f(Ro, "insertTextarea", [ke(A), e, r]);
                                  },
                              ]);
                          }),
                          (t.prototype.updateTextarea = function (e, r, i) {
                              var A = this;
                              f(this, "assignScene", [
                                  i,
                                  function () {
                                      f(Ro, "updateTextarea", [b(A, "scene"), e, r]);
                                  },
                              ]);
                          }),
                          (t.prototype.hasEditingTextarea = function () {
                              return f(Ro, "hasEditingTextarea", [b(this, "scene")]);
                          }),
                          (t.prototype.releaseAllTextarea = function (e, r) {
                              var i = this;
                              return f(this, "assignScene", [
                                  r,
                                  function () {
                                      f(b(i, "textareaSet"), "completeAllOnScene", [b(i, "scene")]);
                                      var A = f(i, "getMemberState", []);
                                      return A && b(A, "currentApplianceName") === "text" && b(A, "textCompleteToSelector") && f(i, "setMemberState", [Ze({ currentApplianceName: "selector" })]), f(i, "takeCommit", []);
                                  },
                              ]);
                          }),
                          (t.prototype.getScene = function (e) {
                              var r = e === void 0 ? b(b(this, "scenes"), "currentScene") : f(b(this, "scenes"), "getScene", [e]);
                              if (r) return Ze({ name: b(r, "name"), ppt: b(r, "ppt") });
                          }),
                          (t.prototype.getCurrentScenePath = function () {
                              return b(b(this, "scenes"), "currentPath");
                          }),
                          (t.prototype.getAllScenePaths = function () {
                              return f(b(this, "scenes"), "listAllScenes", []);
                          }),
                          (t.prototype.getSceneNames = function (e) {
                              return f(b(this, "scenes"), "listScenes", [e]);
                          }),
                          (t.prototype.getSceneGroupNames = function (e) {
                              return f(b(this, "scenes"), "listSceneGroups", [e]);
                          }),
                          (t.prototype.getInformationWithMemberId = function (e) {
                              return f(b(this, "membersManager"), "getInformationWithMemberId", [e]);
                          }),
                          (t.prototype.getAppliance = function (e, r) {
                              return r === void 0 && (r = f(G, "getAuthorId", [])), f(b(this, "membersManager"), "getAppliance", [e, r]);
                          }),
                          (t.prototype.getMemberState = function (e, r) {
                              e === void 0 && (e = f(G, "getAuthorId", []));
                              var i;
                              return e === b(G, "AdminObserverId") ? (i = b(this, "adminObserverMemberState")) : (i = f(b(this, "membersManager"), "getMemberState", [e])), i && Nl.getTreeValue(i, r);
                          }),
                          (t.prototype.getMemberIdWithUserId = function (e) {
                              return f(b(this, "membersManager"), "getMemberIdWithUserId", [e]);
                          }),
                          (t.prototype.getBroadcasterId = function () {
                              return f(b(this, "membersManager"), "getBroadcasterId", []);
                          }),
                          (t.prototype.getGlobalState = function (e) {
                              return Nl.getTreeValue(b(this, "_globalState"), e);
                          }),
                          (t.prototype.getMemberDisplayers = function () {
                              return f(b(this, "membersManager"), "getMemberDisplayers", []);
                          }),
                          (t.prototype.getMemberIds = function () {
                              return f(b(this, "membersManager"), "getMemberIds", []);
                          }),
                          (t.prototype.getCursorState = function (e) {
                              return e === void 0 && (e = f(G, "getAuthorId", [])), f(b(this, "membersManager"), "getCursorState", [e]);
                          }),
                          (t.prototype.getViewState = function (e) {
                              return e === void 0 && (e = f(G, "getAuthorId", [])), f(b(this, "membersManager"), "getViewState", [e]);
                          }),
                          (t.prototype.getMemberInformation = function (e) {
                              return e === void 0 && (e = f(G, "getAuthorId", [])), f(b(this, "membersManager"), "getMemberInformation", [e]);
                          }),
                          Object.defineProperty(t.prototype, "enableExecute", {
                              get: function () {
                                  var e = f(b(this, "membersManager"), "getExecutorHub", [f(G, "getAuthorId", [])]);
                                  return e ? b(e, "enable") : !1;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (t.prototype.searchPencilCurves = function (e, r) {
                              var i = r ? f(b(this, "scenes"), "getSceneWithIdentifier", [r]) : b(b(this, "scenes"), "currentScene"),
                                  A = f(e, "map", [
                                      function () {
                                          return null;
                                      },
                                  ]);
                              if (i) {
                                  for (var a = Ze({}), o = 0; o < b(e, "length"); ++o) ce(a, b(e, o), o);
                                  for (var s = 0, l = ze(b(i, "components")); s < l.length; s++) {
                                      var u = l[s];
                                      if (ze(u) instanceof Cp.BezierCurveShape) {
                                          var c = b(a, b(u, "protoKey"));
                                          c !== void 0 && ce(A, c, u);
                                      }
                                  }
                              }
                              return A;
                          }),
                          (t.prototype.getImagesInformation = function (e) {
                              var r = e === void 0 ? b(b(this, "scenes"), "currentScene") : f(b(this, "scenes"), "getScene", [e]);
                              if (r) {
                                  var i = f(r, "componentsWithFilter", [
                                      function (A) {
                                          return ze(A) instanceof xo.ImageShape;
                                      },
                                  ]);
                                  return f(i, "map", [
                                      function (A) {
                                          return Ze({
                                              src: b(A, "imageSrc"),
                                              uuid: b(A, "uuid"),
                                              centerX: b(A, "originX") + b(A, "width") / 2,
                                              centerY: b(A, "originY") + b(A, "height") / 2,
                                              width: b(A, "width"),
                                              height: b(A, "height"),
                                              locked: b(A, "locked"),
                                              uniformScale: b(A, "uniformScale"),
                                              crossOrigin: b(A, "crossOrigin"),
                                          });
                                      },
                                  ]);
                              } else return Ze([]);
                          }),
                          (t.prototype.setEnableExecute = function (e) {
                              var r = f(b(this, "membersManager"), "getExecutorHub", [f(G, "getAuthorId", [])]);
                              r && ce(r, "enable", e);
                          }),
                          (t.prototype.execute = function (e, r) {
                              var i = this;
                              f(this, "assignScene", [
                                  r,
                                  function () {
                                      var A = f(b(i, "membersManager"), "getExecutorHub", [f(G, "getAuthorId", [])]);
                                      A && (f(A, "execute", [e]), f(i, "takeCommit", []));
                                  },
                              ]);
                          }),
                          (t.prototype.onMouseDown = function (e, r) {
                              var i = this;
                              return f(this, "assignScene", [
                                  r,
                                  function () {
                                      var A = f(G, "getAuthorId", []),
                                          a = f(b(i, "membersManager"), "currentAppliance", [A]);
                                      return a && (f(a, "onMouseDown", [e]), f(b(i, "membersManager"), "setCursor", [A, b(e, "x"), b(e, "y"), !0, !0])), ce(f(i, "getPluginManager", []), "isPressed", !0), f(i, "takeCommit", []);
                                  },
                              ]);
                          }),
                          (t.prototype.onMouseMove = function (e, r) {
                              var i = this;
                              return f(this, "assignScene", [
                                  r,
                                  function () {
                                      var A = f(G, "getAuthorId", []),
                                          a = f(b(i, "membersManager"), "currentAppliance", [A]);
                                      return a && (f(a, "onMouseMove", [e]), f(b(i, "membersManager"), "setCursor", [A, b(e, "x"), b(e, "y"), !0])), f(i, "takeCommit", []);
                                  },
                              ]);
                          }),
                          (t.prototype.onMouseUp = function (e, r) {
                              var i = this;
                              return f(this, "assignScene", [
                                  r,
                                  function () {
                                      var A = f(G, "getAuthorId", []),
                                          a = f(b(i, "membersManager"), "currentAppliance", [A]);
                                      return a && (f(a, "onMouseUp", [e]), f(b(i, "membersManager"), "setCursor", [A, b(e, "x"), b(e, "y"), !0, !1])), ce(f(i, "getPluginManager", []), "isPressed", !1), f(i, "takeCommit", []);
                                  },
                              ]);
                          }),
                          (t.prototype.onMouseLeave = function (e, r) {
                              var i = this;
                              return f(this, "assignScene", [
                                  r,
                                  function () {
                                      var A = f(G, "getAuthorId", []),
                                          a = f(b(i, "membersManager"), "currentAppliance", [A]);
                                      return a && (f(a, "onMouseLeave", [e]), f(b(i, "membersManager"), "setCursor", [A, b(e, "x"), b(e, "y"), !1])), f(i, "takeCommit", []);
                                  },
                              ]);
                          }),
                          (t.prototype.onKeyDown = function (e, r) {
                              var i = this;
                              return f(this, "assignScene", [
                                  r,
                                  function () {
                                      var A = f(G, "getAuthorId", []),
                                          a = f(b(i, "membersManager"), "currentAppliance", [A]);
                                      return a && f(a, "onKeyDown", [e]), f(i, "takeCommit", []);
                                  },
                              ]);
                          }),
                          (t.prototype.onKeyUp = function (e, r) {
                              var i = this;
                              return f(this, "assignScene", [
                                  r,
                                  function () {
                                      var A = f(G, "getAuthorId", []),
                                          a = f(b(i, "membersManager"), "currentAppliance", [A]);
                                      return a && f(a, "onKeyUp", [e]), f(i, "takeCommit", []);
                                  },
                              ]);
                          }),
                          (t.prototype.delete = function (e, r) {
                              var i = this;
                              return f(this, "assignScene", [
                                  r,
                                  function () {
                                      return f(f(i, "getAppliance", ["selector"]), "delete", []), f(i, "takeCommit", []);
                                  },
                              ]);
                          }),
                          (t.prototype.duplicate = function (e, r, i) {
                              var A = this;
                              return f(this, "assignScene", [
                                  i,
                                  function () {
                                      var a = f(A, "getViewState", []),
                                          o = b(a, "originX"),
                                          s = b(a, "originY"),
                                          l = b(a, "width"),
                                          u = b(a, "height"),
                                          c = b(a, "pixelWidth"),
                                          p = o + l / 2 + c * e,
                                          h = s + u / 2 + c * r;
                                      return f(f(A, "getAppliance", ["selector"]), "duplicate", [p, h]), f(A, "takeCommit", []);
                                  },
                              ]);
                          }),
                          (t.prototype.copy = function (e, r) {
                              var i = this;
                              return f(this, "assignScene", [
                                  r,
                                  function () {
                                      var A = f(f(i, "getAppliance", ["selector"]), "copy", []);
                                      return A ? f(A, "snapshot", []) : null;
                                  },
                              ]);
                          }),
                          (t.prototype.paste = function (e, r, i, A) {
                              var a = this;
                              return f(this, "assignScene", [
                                  A,
                                  function () {
                                      var o = f(a, "getViewState", []),
                                          s = b(o, "originX"),
                                          l = b(o, "originY"),
                                          u = b(o, "width"),
                                          c = b(o, "height"),
                                          p = b(o, "pixelWidth"),
                                          h = s + u / 2 + p * r,
                                          v = l + c / 2 + p * i;
                                      return f(f(om.CopyBuffer, "recover", [ke(a), e]), "injectToScene", [ke(a), h, v]), f(a, "takeCommit", []);
                                  },
                              ]);
                          }),
                          (t.prototype.createBezierCurve = function (e, r) {
                              var i = this;
                              return f(this, "assignScene", [
                                  r,
                                  function () {
                                      var A = f(i, "getAppliance", ["pencil"]),
                                          a = null;
                                      return A && ((a = f(A, "createBezierCurve", [e])), f(b(i, "membersManager"), "setCursor", [f(G, "getAuthorId", []), b(e, "x"), b(e, "y"), !0, !0])), a;
                                  },
                              ]);
                          }),
                          (t.prototype.appendBezierCurveTail = function (e, r) {
                              var i = f(this, "getAppliance", ["pencil"]);
                              if (i) {
                                  var A = b(b(e, b(e, "length") - 1), "point3");
                                  f(i, "appendBezierCurveTail", [e, r]), f(b(this, "membersManager"), "setCursor", [f(G, "getAuthorId", []), b(A, "x"), b(A, "y"), !0]);
                              }
                          }),
                          (t.prototype.updateBezierCurveTail = function (e, r) {
                              var i = f(this, "getAppliance", ["pencil"]);
                              i && (f(i, "updateBezierCurveTail", [e, r]), f(b(this, "membersManager"), "setCursor", [f(G, "getAuthorId", []), b(b(e, "point3"), "x"), b(b(e, "point3"), "y"), !0]));
                          }),
                          (t.prototype.splitBezierCurveTail = function (e, r) {
                              var i = f(this, "getAppliance", ["pencil"]);
                              if (i) {
                                  var A = f(G, "getAuthorId", []),
                                      a = b(b(e, b(e, "length") - 1), "point3");
                                  f(i, "splitBezierCurveTail", [e, r]), f(b(this, "membersManager"), "setCursor", [A, b(a, "x"), b(a, "y"), !0]);
                              }
                          }),
                          (t.prototype.addBezierCurveExtraSteups = function () {
                              var e = f(this, "getAppliance", ["pencil"]);
                              e && f(e, "addBezierCurveExtraSteups", []);
                          }),
                          (t.prototype.completePencilPainting = function (e, r) {
                              var i = f(this, "getAppliance", ["pencil"]);
                              return i && (f(i, "completePainting", []), f(b(this, "membersManager"), "setCursor", [f(G, "getAuthorId", []), e, r, !0, !1])), f(this, "takeCommit", []);
                          }),
                          (t.prototype.cancelPencilPainting = function (e, r, i) {
                              var A = this;
                              f(this, "assignScene", [
                                  i,
                                  function () {
                                      var a = f(A, "getAppliance", ["pencil"]);
                                      a && (f(a, "cancelPainting", []), f(b(A, "membersManager"), "setCursor", [f(G, "getAuthorId", []), e, r, !0, !1]));
                                  },
                              ]);
                          }),
                          (t.prototype.beginPencilCircular = function (e, r, i) {
                              var A = f(this, "getAppliance", ["pencil"]);
                              return A && (f(A, "beginPencilCircular", [e, r, i]), f(b(this, "membersManager"), "setCursor", [f(G, "getAuthorId", []), e, r, !0, !1])), f(this, "takeCommit", []);
                          }),
                          (t.prototype.movePencilCircular = function (e, r) {
                              var i = f(this, "getAppliance", ["pencil"]);
                              return i && (f(i, "movePencilCircular", [e, r]), f(b(this, "membersManager"), "setCursor", [f(G, "getAuthorId", []), e, r, !0, !1])), f(this, "takeCommit", []);
                          }),
                          (t.prototype.completePencilCircular = function (e, r) {
                              var i = f(this, "getAppliance", ["pencil"]);
                              return i && (f(i, "completePencilCircular", [e, r]), f(b(this, "membersManager"), "setCursor", [f(G, "getAuthorId", []), e, r, !0, !1])), f(this, "takeCommit", []);
                          }),
                          (t.prototype.cleanCurrentScene = function (e, r) {
                              var i = this;
                              return f(this, "assignScene", [
                                  r,
                                  function () {
                                      return f(b(i, "scene"), "cleanComponents", [ke(i)]), e || f(b(i, "scene"), "cleanPPT", [ke(i)]), f(i, "takeCommit", []);
                                  },
                              ]);
                          }),
                          (t.prototype.getPlugin = function (e) {
                              return f(f(this, "getPluginManager", []), "get", [e]);
                          }),
                          (t.prototype.listPlugins = function () {
                              return f(f(this, "getPluginManager", []), "list", []);
                          }),
                          (t.prototype.getInvisiblePluginKinds = function () {
                              return f(f(this, "getInvisiblePluginManager", []), "getKinds", []);
                          }),
                          (t.prototype.hasInvisibilePluginKind = function (e) {
                              return f(f(this, "getInvisiblePluginManager", []), "hasKind", [e]);
                          }),
                          (t.prototype.insertPlugin = function (e, r, i) {
                              var A = this;
                              return f(this, "assignScene", [
                                  i,
                                  function () {
                                      return f(f(A, "getPluginManager", []), "insert", [e, r]);
                                  },
                              ]);
                          }),
                          (t.prototype.removePlugin = function (e, r) {
                              var i = this;
                              return f(this, "assignScene", [
                                  r,
                                  function () {
                                      var A = f(f(i, "getPluginManager", []), "remove", [e]);
                                      return f(f(i, "getAppliance", ["selector"]), "refreshAllUsersEditorRectangleSpace", []), A;
                                  },
                              ]);
                          }),
                          (t.prototype.updatePlugin = function (e, r, i) {
                              var A = this;
                              return f(this, "assignScene", [
                                  i,
                                  function () {
                                      return f(f(A, "getPluginManager", []), "update", [e, r]);
                                  },
                              ]);
                          }),
                          (t.prototype.putInvisiblePlugin = function (e, r) {
                              f(f(this, "getInvisiblePluginManager", []), "put", [e, r]);
                          }),
                          (t.prototype.removeInvisiblePlugin = function (e) {
                              f(f(this, "getInvisiblePluginManager", []), "remove", [e]);
                          }),
                          (t.prototype.getAttributesWithInvisiblePlugin = function (e, r) {
                              return f(f(this, "getInvisiblePluginManager", []), "getAttributes", [e, r]);
                          }),
                          (t.prototype.updateAttributesInvisiblePlugin = function (e, r) {
                              f(f(this, "getInvisiblePluginManager", []), "updateAttributes", [e, r]);
                          }),
                          (t.prototype.updateAttributesInvisiblePluginWithKeys = function (e, r, i) {
                              f(f(this, "getInvisiblePluginManager", []), "updateAttributesWithKeys", [e, r, i]);
                          }),
                          (t.prototype.getMemberAttributes = function (e, r, i) {
                              var A = i;
                              return A === void 0 && (A = f(G, "getAuthorId", [])), A !== b(G, "AdminObserverId") ? f(f(this, "getInvisiblePluginManager", []), "getMemberAttributes", [A, e, r]) : null;
                          }),
                          (t.prototype.updateMemberAttributes = function (e, r) {
                              var i = f(G, "getAuthorId", []);
                              f(f(this, "getInvisiblePluginManager", []), "updateMemberAttributes", [i, e, r]);
                          }),
                          (t.prototype.updateMemberAttrubtesWithKeys = function (e, r, i) {
                              var A = f(G, "getAuthorId", []);
                              f(f(this, "getInvisiblePluginManager", []), "updateMemberAttributesWithKeys", [A, e, r, i]);
                          }),
                          (t.prototype.moveSelectedComponentsToTop = function (e, r) {
                              var i = this;
                              f(this, "assignScene", [
                                  r,
                                  function () {
                                      f(f(i, "getAppliance", ["selector"]), "moveSelectedComponentsToTop", []);
                                  },
                              ]);
                          }),
                          (t.prototype.moveSelectedComponentsToBottom = function (e, r) {
                              var i = this;
                              f(this, "assignScene", [
                                  r,
                                  function () {
                                      f(f(i, "getAppliance", ["selector"]), "moveSelectedComponentsToBottom", []);
                                  },
                              ]);
                          }),
                          (t.prototype.getPluginManager = function () {
                              if (!b(this, "pluginManager")) {
                                  if (f(G, "getEnvironment", []) === b(b(G, "Environment"), "NoEffects")) return ke(new Xl.PluginManager(this));
                                  ce(this, "pluginManager", ke(new Xl.PluginManager(this)));
                              }
                              return b(this, "pluginManager");
                          }),
                          (t.prototype.getInvisiblePluginManager = function () {
                              if (!b(this, "invisiblePluginManager")) {
                                  if (f(G, "getEnvironment", []) === b(b(G, "Environment"), "NoEffects")) return ke(new kl.InvisiblePluginManager());
                                  ce(this, "invisiblePluginManager", ke(new kl.InvisiblePluginManager()));
                              }
                              return b(this, "invisiblePluginManager");
                          }),
                          (t.prototype.takeCommit = function () {
                              var e = f(b(this, "membersManager"), "getExecutorHub", [f(G, "getAuthorId", [])]);
                              return e ? f(e, "takeCommit", []) : null;
                          }),
                          (t.prototype.assignScene = function (e, r) {
                              try {
                                  if (e !== void 0) {
                                      var i = f(b(this, "scenes"), "getSceneWithIdentifier", [e]);
                                      i && ce(this, "overrideScene", i);
                                  }
                                  return r();
                              } finally {
                                  ce(this, "overrideScene", null);
                              }
                          }),
                          Vl([G.noEffects], t.prototype, "enableAssignScene", null),
                          Vl([G.noEffects], t.prototype, "scene", null),
                          Vl([G.noEffects], t.prototype, "enableExecute", null),
                          t
                      );
                  })(ei.baseClass());
              ti.AbstractApplianceManager = Rp;
              ei.declareClass({
                  classId: 4,
                  clazz: Rp,
                  memberDecorators: {
                      enableAssignScene: [G.noEffects],
                      scene: [G.noEffects],
                      enableExecute: [G.noEffects],
                      exportSceneSnapshot: [G.noEffects],
                      getSceneFromFile: [G.noEffects],
                      onMemberEnterRoom: [G.event("Enter")],
                      onMemberLeaveRoom: [G.event("Leave")],
                      onOthersEvent: [G.event(/./i)],
                      checkPathKind: [G.noEffects],
                      collectNewPencilCurves: [G.noEffects],
                      hasEditingTextarea: [G.noEffects],
                      getScene: [G.noEffects],
                      getCurrentScenePath: [G.noEffects],
                      getAllScenePaths: [G.noEffects],
                      getSceneNames: [G.noEffects],
                      getSceneGroupNames: [G.noEffects],
                      getInformationWithMemberId: [G.noEffects],
                      getMemberState: [G.noEffects],
                      getMemberIdWithUserId: [G.noEffects],
                      getBroadcasterId: [G.noEffects],
                      getGlobalState: [G.noEffects],
                      getMemberDisplayers: [G.noEffects],
                      getMemberIds: [G.noEffects],
                      getCursorState: [G.noEffects],
                      getViewState: [G.noEffects],
                      getMemberInformation: [G.noEffects],
                      searchPencilCurves: [G.noEffects],
                      getImagesInformation: [G.noEffects],
                      getPlugin: [G.noEffects],
                      listPlugins: [G.noEffects],
                      getInvisiblePluginKinds: [G.noEffects],
                      hasInvisibilePluginKind: [G.noEffects],
                      getAttributesWithInvisiblePlugin: [G.noEffects],
                      getMemberAttributes: [G.noEffects],
                  },
              });
              ei = null;
          });
          var Mp = C(function (xp) {
              "use strict";
              Object.defineProperty(xp, "__esModule", { value: !0 });
          });
          var Op = C(function (Tp) {
              "use strict";
              Object.defineProperty(Tp, "__esModule", { value: !0 });
          });
          var jp = C(function (RA) {
              "use strict";
              var lm =
                  (RA && RA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(RA, "__esModule", { value: !0 });
              RA.Clicker = void 0;
              var Dl = require("akko").__context("module"),
                  Ep = Ot(),
                  Gp = (function (n) {
                      lm(t, n);
                      function t() {
                          return (n !== null && n.apply(this, arguments)) || this;
                      }
                      return Object.defineProperty(t.prototype, "fixedCursorInScenePoint", { get: function () {}, enumerable: !1, configurable: !0 }), t;
                  })(Dl.wrapSuperClass(Ep.Gesture));
              RA.Clicker = Gp;
              Dl.declareClass({ classId: 15, clazz: Gp, superClass: Ep.Gesture });
              Dl = null;
          });
          var Vp = C(function (xA) {
              "use strict";
              var um =
                  (xA && xA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(xA, "__esModule", { value: !0 });
              xA.LaserPointer = void 0;
              var Mo = require("akko").__context("module"),
                  cm = Mo.setter,
                  Wp = Ot(),
                  Zp = (function (n) {
                      um(t, n);
                      function t(e) {
                          var r = n.call(this) || this;
                          return cm(r, "context", e), r;
                      }
                      return Object.defineProperty(t.prototype, "fixedCursorInScenePoint", { get: function () {}, enumerable: !1, configurable: !0 }), t;
                  })(Mo.wrapSuperClass(Wp.Gesture));
              xA.LaserPointer = Zp;
              Mo.declareClass({ classId: 22, clazz: Zp, superClass: Wp.Gesture });
              Mo = null;
          });
          var Np = C(function (MA) {
              "use strict";
              var pm =
                  (MA && MA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(MA, "__esModule", { value: !0 });
              MA.Eraser = void 0;
              var cn = require("akko").__context("module"),
                  hm = cn.setter,
                  fe = cn.getter,
                  Ct = cn.caller,
                  To = cn.creator,
                  dm = cn.unwrapper,
                  Ip = require("akko"),
                  fm = ga(),
                  Xp = Ot(),
                  kp = (function (n) {
                      pm(t, n);
                      function t(e) {
                          var r = n.call(this) || this;
                          return hm(r, "context", e), r;
                      }
                      return (
                          Object.defineProperty(t.prototype, "fixedCursorInScenePoint", { get: function () {}, enumerable: !1, configurable: !0 }),
                          (t.prototype.onHover = function (e) {
                              var r = fe(e, "hitTestIdentifies"),
                                  i = Ct(fe(fe(this, "context"), "scene"), "editableWithHitIdentifies", [r]);
                              Ct(fm, "setHighlightNothing", [fe(fe(this, "context"), "scene"), Ct(Ip, "getAuthorId", [])]), i && !fe(i, "locked") && Ct(i, "setHighlightBy", [!0, Ct(Ip, "getAuthorId", [])]);
                          }),
                          (t.prototype.onClick = function (e) {
                              var r = fe(e, "hitTestIdentifies"),
                                  i = fe(fe(this, "context"), "executorHub"),
                                  A = Ct(fe(fe(this, "context"), "scene"), "editableWithHitIdentifies", [r]);
                              A &&
                                  !fe(A, "locked") &&
                                  (i && fe(i, "enable") && Ct(i, "commit", [fe(A, "protoKey"), To({ delete: !0 }), To({ create: Ct(A, "snapshot", []) })]),
                                  Ct(fe(fe(this, "context"), "scene"), "removeComponent", [A]),
                                  Ct(fe(fe(this, "context"), "textareaSet"), "fireRemoveComponent", [A]));
                          }),
                          (t.prototype.onDrag = function (e) {
                              for (var r = fe(e, "hitTestIdentifies"), i = fe(fe(this, "context"), "executorHub"), A = 0, a = dm(Ct(fe(fe(this, "context"), "scene"), "editablesWithHitIdentifies", [r])); A < a.length; A++) {
                                  var o = a[A];
                                  fe(o, "locked") ||
                                      (i && fe(i, "enable") && Ct(i, "commit", [fe(o, "protoKey"), To({ delete: !0 }), To({ create: Ct(o, "snapshot", []) })]),
                                      Ct(fe(fe(this, "context"), "scene"), "removeComponent", [o]),
                                      Ct(fe(fe(this, "context"), "textareaSet"), "fireRemoveComponent", [o]));
                              }
                          }),
                          t
                      );
                  })(cn.wrapSuperClass(Xp.Gesture));
              MA.Eraser = kp;
              cn.declareClass({ classId: 19, clazz: kp, superClass: Xp.Gesture });
              cn = null;
          });
          var Yp = C(function (TA) {
              "use strict";
              var gm =
                  (TA && TA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(TA, "__esModule", { value: !0 });
              TA.TextAppliance = void 0;
              var pn = require("akko").__context("module"),
                  Ta = pn.setter,
                  Ae = pn.getter,
                  Oe = pn.caller,
                  Yl = pn.unwrapper,
                  vm = pn.creator,
                  Fn = require("akko"),
                  mm = ga(),
                  ym = eo(),
                  Hp = Ot(),
                  Fl = Ra(),
                  Dp = (function (n) {
                      gm(t, n);
                      function t(e) {
                          var r = n.call(this) || this;
                          return (r.waitFirstClick = !1), Ta(r, "context", e), r;
                      }
                      return (
                          Object.defineProperty(t.prototype, "fixedCursorInScenePoint", { get: function () {}, enumerable: !1, configurable: !0 }),
                          (t.prototype.onMemberStateChanged = function (e, r) {
                              var i = "text";
                              Ae(e, "currentApplianceName") !== i && Ae(r, "currentApplianceName") === i && Oe(Ae(Ae(this, "context"), "textareaSet"), "completeAllEditedBy", [Oe(Fn, "getAuthorId", [])]),
                                  Ae(e, "currentApplianceName") === i && Ta(this, "waitFirstClick", !0);
                          }),
                          (t.prototype.onClick = function (e) {
                              var r = Ae(e, "x"),
                                  i = Ae(e, "y"),
                                  A = Ae(e, "hitTestIdentifies"),
                                  a = Oe(Ae(Ae(this, "context"), "scene"), "editableWithHitIdentifies", [A]),
                                  o = Oe(Ae(this, "context"), "getMemberState", []),
                                  s = Oe(Fn, "getAuthorId", []);
                              !o || !Ae(o, "textCanSelectText") || !a || !(Yl(a) instanceof Fl.TextareaShape)
                                  ? (Oe(this, "cleanSelectedComponents", []),
                                    Ae(this, "waitFirstClick") || !o || !Ae(o, "textCompleteToSelector")
                                        ? (Oe(ym, "insertTextarea", [Ae(this, "context"), r, i]), Ta(this, "waitFirstClick", !1))
                                        : Oe(Ae(this, "context"), "setMemberState", [vm({ currentApplianceName: "selector" })]))
                                  : Ae(a, "editedBy") === void 0 &&
                                    (Oe(Ae(Ae(this, "context"), "textareaSet"), "completeAllEditedBy", [Oe(Fn, "getAuthorId", [])]),
                                    Ae(a, "selectedBy") === s
                                        ? (Oe(a, "editByUserId", [s]), Oe(this, "cleanSelectedComponents", []))
                                        : (Oe(this, "cleanSelectedComponents", []), Ae(a, "rotation") !== void 0 && Oe(a, "commitRotation", [Ae(a, "rotation")]), Ta(a, "selectedBy", s)));
                          }),
                          (t.prototype.onHover = function (e) {
                              var r = Ae(e, "hitTestIdentifies"),
                                  i = Oe(Ae(this, "context"), "getMemberState", []);
                              i && Ae(i, "textCanSelectText") && Oe(this, "setComponentHighlight", [r]);
                          }),
                          (t.prototype.onDestroy = function () {
                              Oe(Ae(Ae(this, "context"), "textareaSet"), "completeAllEditedBy", [Oe(Fn, "getAuthorId", [])]);
                          }),
                          (t.prototype.setComponentHighlight = function (e) {
                              var r = Oe(Ae(Ae(this, "context"), "scene"), "editableWithHitIdentifies", [e]);
                              Yl(r) instanceof Fl.TextareaShape &&
                                  (Oe(mm, "setHighlightNothing", [Ae(Ae(this, "context"), "scene"), Oe(Fn, "getAuthorId", [])]), r && !Ae(r, "locked") && Oe(r, "setHighlightBy", [!0, Oe(Fn, "getAuthorId", [])]));
                          }),
                          (t.prototype.cleanSelectedComponents = function () {
                              var e = Oe(Fn, "getAuthorId", []);
                              Oe(Ae(Ae(this, "context"), "scene"), "forEachComponents", [
                                  function (r) {
                                      Yl(r) instanceof Fl.Editable && Ae(r, "selectedBy") === e && (Ta(r, "selectedBy", void 0), Ae(r, "rotation") !== void 0 && Oe(r, "commitRotation", [Ae(r, "rotation")]));
                                  },
                              ]);
                          }),
                          t
                      );
                  })(pn.wrapSuperClass(Hp.Gesture));
              TA.TextAppliance = Dp;
              pn.declareClass({ classId: 32, clazz: Dp, superClass: Hp.Gesture });
              pn = null;
          });
          var qp = C(function (ri) {
              "use strict";
              var zl =
                  (ri && ri.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(ri, "__esModule", { value: !0 });
              ri.ArrowAppliance = ri.StraightAppliance = ri.VectorAppliance = void 0;
              var or = require("akko").__context("module"),
                  hn = or.setter,
                  se = or.getter,
                  Rr = or.caller,
                  Oa = or.creator,
                  bm = or.wrapper,
                  Fp = Ot(),
                  Ea = ho(),
                  OA = (function (n) {
                      zl(t, n);
                      function t(e, r) {
                          var i = n.call(this) || this;
                          return (i.paitingVectorShape = null), (i.beginPoint = null), hn(i, "context", e), hn(i, "kind", r), i;
                      }
                      return (
                          Object.defineProperty(t.prototype, "fixedCursorInScenePoint", { get: function () {}, enumerable: !1, configurable: !0 }),
                          (t.prototype.onSceneChanged = function () {
                              se(this, "paitingVectorShape") && Rr(se(this, "paitingVectorShape"), "completePainting", []), hn(this, "paitingVectorShape", null), hn(this, "beginPoint", null);
                          }),
                          (t.prototype.onDraggingStateChanged = function (e) {
                              var r = se(e, "x"),
                                  i = se(e, "y");
                              if (se(this, "isDragging"))
                                  hn(this, "beginPoint", Oa({ x: r, y: i })),
                                      hn(this, "paitingVectorShape", bm(new Ea.VectorShape(se(this, "context"), se(this, "kind"), se(this, "beginPoint")))),
                                      Rr(se(se(this, "context"), "scene"), "addComponent", [se(this, "paitingVectorShape")]);
                              else if (se(this, "paitingVectorShape")) {
                                  Rr(se(this, "paitingVectorShape"), "completePainting", []);
                                  var A = se(se(this, "context"), "executorHub");
                                  if (A && se(A, "enable")) {
                                      var a = Oa({ create: Rr(se(this, "paitingVectorShape"), "snapshot", []) });
                                      Rr(A, "commit", [se(se(this, "paitingVectorShape"), "protoKey"), a, Oa({ delete: !0 })]);
                                  }
                                  var o = Rr(se(this, "context"), "getMemberState", []);
                                  ((se(this, "kind") === se(Ea.VectorKind, "Straight") && o && se(o, "straightCompleteToSelector")) || (se(this, "kind") === se(Ea.VectorKind, "Arrow") && o && se(o, "arrowCompleteToSelector"))) &&
                                      (Rr(se(this, "context"), "setMemberState", [Oa({ currentApplianceName: "selector" })]),
                                      Rr(Rr(se(this, "context"), "getAppliance", ["selector"]), "selectComponents", [Oa([se(this, "paitingVectorShape")])])),
                                      hn(this, "paitingVectorShape", null),
                                      hn(this, "beginPoint", null);
                              }
                          }),
                          (t.prototype.onDrag = function (e) {
                              se(this, "paitingVectorShape") && Rr(se(this, "paitingVectorShape"), "setEndPoint", [e]);
                          }),
                          (t.prototype.onDestroy = function () {
                              se(this, "paitingVectorShape") && Rr(se(this, "paitingVectorShape"), "completePainting", []);
                          }),
                          t
                      );
                  })(or.wrapSuperClass(Fp.Gesture));
              ri.VectorAppliance = OA;
              var zp = (function (n) {
                  zl(t, n);
                  function t(e) {
                      return n.call(this, e, se(Ea.VectorKind, "Straight")) || this;
                  }
                  return t;
              })(or.wrapSuperClass(OA));
              ri.StraightAppliance = zp;
              var Qp = (function (n) {
                  zl(t, n);
                  function t(e) {
                      return n.call(this, e, se(Ea.VectorKind, "Arrow")) || this;
                  }
                  return t;
              })(or.wrapSuperClass(OA));
              ri.ArrowAppliance = Qp;
              or.declareClass({ classId: 36, clazz: OA, superClass: Fp.Gesture });
              or.declareClass({ classId: 35, clazz: zp, superClass: OA });
              or.declareClass({ classId: 34, clazz: Qp, superClass: OA });
              or = null;
          });
          var Jp = C(function (EA) {
              "use strict";
              var Pm =
                  (EA && EA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(EA, "__esModule", { value: !0 });
              EA.HandAppliance = void 0;
              var Oo = require("akko").__context("module"),
                  _m = Oo.setter,
                  Up = Ot(),
                  Lp = (function (n) {
                      Pm(t, n);
                      function t(e) {
                          var r = n.call(this) || this;
                          return _m(r, "context", e), r;
                      }
                      return Object.defineProperty(t.prototype, "fixedCursorInScenePoint", { get: function () {}, enumerable: !1, configurable: !0 }), t;
                  })(Oo.wrapSuperClass(Up.Gesture));
              EA.HandAppliance = Lp;
              Oo.declareClass({ classId: 20, clazz: Lp, superClass: Up.Gesture });
              Oo = null;
          });
          var eh = C(function (GA) {
              "use strict";
              var Sm =
                  (GA && GA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(GA, "__esModule", { value: !0 });
              GA.PencilEraser = void 0;
              var Eo = require("akko").__context("module"),
                  Cm = Eo.setter,
                  Kp = Ot(),
                  $p = (function (n) {
                      Sm(t, n);
                      function t(e) {
                          var r = n.call(this) || this;
                          return Cm(r, "context", e), r;
                      }
                      return Object.defineProperty(t.prototype, "fixedCursorInScenePoint", { get: function () {}, enumerable: !1, configurable: !0 }), t;
                  })(Eo.wrapSuperClass(Kp.Gesture));
              GA.PencilEraser = $p;
              Eo.declareClass({ classId: 25, clazz: $p, superClass: Kp.Gesture });
              Eo = null;
          });
          var pe = C(function (sr) {
              "use strict";
              var Bm =
                      (sr && sr.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) i.hasOwnProperty(A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  wm =
                      (sr && sr.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  Rm =
                      (sr && sr.__exportStar) ||
                      function (n, t) {
                          for (var e in n) e !== "default" && !t.hasOwnProperty(e) && wm(t, n, e);
                      };
              Object.defineProperty(sr, "__esModule", { value: !0 });
              var jA = require("akko").__context("index"),
                  Ql = jA.creator,
                  xm = jA.caller;
              Hl();
              Wl();
              bo();
              So();
              Qs();
              ro();
              qs();
              Tl();
              Ol();
              Wn();
              Ls();
              Vs();
              Qa();
              Ja();
              Gn();
              Hs();
              Ns();
              Mp();
              Op();
              nl();
              Ot();
              Ks();
              el();
              $s();
              so();
              il();
              Zl();
              la();
              var th = Hl(),
                  Mm = Bl(),
                  Tm = jp(),
                  Om = Vp(),
                  rh = vl(),
                  Em = fl(),
                  Gm = lo(),
                  jm = Np(),
                  Wm = Yp(),
                  ih = qp(),
                  Zm = Jp(),
                  Vm = hl(),
                  Im = eh(),
                  Xm = bo();
              Object.defineProperty(sr, "PluginComponent", {
                  enumerable: !0,
                  get: function () {
                      return Xm.PluginComponent;
                  },
              });
              var km = So();
              Object.defineProperty(sr, "PluginManager", {
                  enumerable: !0,
                  get: function () {
                      return km.PluginManager;
                  },
              });
              Rm(Ra(), sr);
              var Nm = "pencil",
                  nh = (function (n) {
                      Bm(t, n);
                      function t() {
                          return n.call(this, Ql({ currentSceneIndex: 0 })) || this;
                      }
                      return (
                          (t.prototype.createConstructors = function () {
                              return Ql({
                                  selector: Mm.Selector,
                                  clicker: Tm.Clicker,
                                  laserPointer: Om.LaserPointer,
                                  pencil: rh.PencilAppliance,
                                  rectangle: Em.RectangleAppliance,
                                  ellipse: Gm.EllipseAppliance,
                                  shape: Vm.ShapeAppliance,
                                  eraser: jm.Eraser,
                                  pencilEraser: Im.PencilEraser,
                                  text: Wm.TextAppliance,
                                  straight: ih.StraightAppliance,
                                  arrow: ih.ArrowAppliance,
                                  hand: Zm.HandAppliance,
                              });
                          }),
                          (t.prototype.createMemberState = function (e) {
                              return Ql({ currentApplianceName: Nm, strokeColor: e, strokeWidth: 4, textSize: 16, pencilOptions: xm(rh.PencilAppliance, "createPencilOptions", []) });
                          }),
                          t
                      );
                  })(jA.wrapSuperClass(th.AbstractApplianceManager));
              jA.declareClass({ classId: 44, clazz: nh, superClass: th.AbstractApplianceManager });
              sr.default = jA.createLibrary(nh, {
                  identifier: "com.herewhite.whiteboard",
                  version: "2.7.11",
                  akko: "1.4.4",
                  formatBase64:
                      "YQEAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAACAAAABQAAAHNjZW5lAgAAAAgAAAB0ZXh0YXJlYQYAAAACAAAAAAAAAAAAAAADAAAACgAAAGNvbXBvbmVudHMEAAAABAAAAG5hbWUAAAAAAwAAAHBwdAMAAAADAAAAAAAAAAAAAAAEAAAABgAAAGhlaWdodAAAAAAKAAAAcHJldmlld1VSTAAAAAADAAAAc3JjAAAAAAUAAAB3aWR0aAAAAAAEAAAAAAAAAAUAAAAAAAAABQAAAAAAAAAAAAAABgAAAAYAAABoZWlnaHQAAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACAAAAHJvdGF0aW9uAAAAAAUAAAB3aWR0aAAAAAAGAAAAAAAAAAAAAAATAAAAEAAAAF9kaXNwbGF5Um90YXRpb24AAAAACQAAAF9lZGl0ZWRCeQAAAAAHAAAAX2Zvcm1hdAwAAAATAAAAX2lzV2FpdGluZ0ZpcnN0VGV4dAAAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0DgAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAGAAAAbG9ja2VkAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAARAAAAc3RhdGVCZWZvcmVFZGl0ZWQKAAAACAAAAHRleHRTaXplAAAAAAsAAAB0ZXh0YXJlYUJveAcAAAAFAAAAd2lkdGgAAAAABwAAAAAAAAAAAAAABQAAAAYAAABoZWlnaHQAAAAADAAAAG9yaWdpbmFsVGV4dAAAAAAFAAAAc2NhbGUAAAAACQAAAHRleHRMaW5lcwgAAAAFAAAAd2lkdGgAAAAACAAAAAAAAAAJAAAAAAAAAAkAAAAAAAAAAAAAAAQAAAACAAAAZHgAAAAAAgAAAGR5AAAAAAQAAAB0ZXh0AAAAAAoAAAB0ZXh0TGVuZ3RoAAAAAAoAAAAAAAAAAAAAAAIAAAAJAAAAcmVjdGFuZ2xlCwAAAAsAAAB0ZXh0YXJlYUJveAcAAAALAAAAAAAAAAAAAAAEAAAABgAAAGhlaWdodAAAAAAFAAAAd2lkdGgAAAAAAQAAAHgAAAAAAQAAAHkAAAAADAAAAAAAAAAAAAAABQAAAAQAAABib2xkAAAAAAUAAABjb2xvcg0AAAAGAAAAaXRhbGljAAAAAAsAAABsaW5lVGhyb3VnaAAAAAAJAAAAdW5kZXJsaW5lAAAAAA0AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAFAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViHAAAAAUAAABzY2VuZQIAAAAGAAAAc2NlbmVzEgAAAAsAAAB0ZXh0YXJlYVNldA8AAAAPAAAAAAAAAAAAAAABAAAAAwAAAHNldBAAAAAQAAAAEQAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAgAAAAUAAABzY2VuZQIAAAAIAAAAdGV4dGFyZWEGAAAAEgAAAAAAAAAAAAAAAwAAAAwAAABfY3VycmVudFBhdGgbAAAADgAAAHJvb3RTY2VuZUdyb3VwFAAAAAoAAABzY2VuZU5vZGVzEwAAABMAAAACAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAFAAAACgAAAGdyb3Vwc0xpc3QVAAAACQAAAGdyb3Vwc01hcBcAAAAEAAAAbmFtZQAAAAAKAAAAc2NlbmVzTGlzdBkAAAAJAAAAc2NlbmVzTWFwGgAAABUAAAAAAAAAFgAAAAAAAAAWAAAAAAAAAAAAAAAFAAAACgAAAGdyb3Vwc0xpc3QVAAAACQAAAGdyb3Vwc01hcBcAAAAEAAAAbmFtZQAAAAAKAAAAc2NlbmVzTGlzdBkAAAAJAAAAc2NlbmVzTWFwGgAAABcAAAAYAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAFAAAACgAAAGdyb3Vwc0xpc3QVAAAACQAAAGdyb3Vwc01hcBcAAAAEAAAAbmFtZQAAAAAKAAAAc2NlbmVzTGlzdBkAAAAJAAAAc2NlbmVzTWFwGgAAABkAAAAAAAAAAgAAAAAAAAAaAAAAAgAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAAAMAAAAHAAAAX2VuYWJsZQAAAAAIAAAAY29tbWl0ZXIeAAAABwAAAGNvbnRleHQdAAAAHQAAAAAAAAAAAAAABQAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YhwAAAAFAAAAc2NlbmUCAAAABgAAAHNjZW5lcxIAAAALAAAAdGV4dGFyZWFTZXQPAAAAHgAAAAAAAAAAAAAAAgAAAAQAAAByZWRvHwAAAAQAAAB1bmRvJgAAAB8AAAAgAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAALAAAACAAAAGNsZWFuUFBUAAAAAAYAAABjcmVhdGUAAAAACwAAAGNyZWF0ZUN1cnZlAAAAAAYAAABkZWxldGUAAAAABAAAAHBhdGghAAAABgAAAHNldFBQVCUAAAALAAAAdXBkYXRlQ3VydmUAAAAACgAAAHVwZGF0ZVJlY3QiAAAADgAAAHVwZGF0ZVJvdGF0aW9uAAAAAA4AAAB1cGRhdGVUZXh0YXJlYSMAAAAUAAAAdXBkYXRlVGV4dGFyZWFGb3JtYXQkAAAAIQAAAAAAAAAAAAAAAAAAACIAAAAAAAAAAAAAAAQAAAAGAAAAaGVpZ2h0AAAAAAUAAAB3aWR0aAAAAAABAAAAeAAAAAABAAAAeQAAAAAjAAAAAAAAAAAAAAAFAAAABgAAAGhlaWdodAAAAAAMAAAAb3JpZ2luYWxUZXh0AAAAAAUAAABzY2FsZQAAAAAJAAAAdGV4dExpbmVzCAAAAAUAAAB3aWR0aAAAAAAkAAAAAAAAAAAAAAAFAAAABAAAAGJvbGQAAAAABQAAAGNvbG9yDQAAAAYAAABpdGFsaWMAAAAACwAAAGxpbmVUaHJvdWdoAAAAAAkAAAB1bmRlcmxpbmUAAAAAJQAAAAAAAAAAAAAABAAAAAYAAABoZWlnaHQAAAAACgAAAHByZXZpZXdVUkwAAAAAAwAAAHNyYwAAAAAFAAAAd2lkdGgAAAAAJgAAACAAAAAAAAAAAAAAACcAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAABAAAAAwAAAHNldBAAAAApAAAAAAAAAAAAAAATAAAAEAAAAF9kaXNwbGF5Um90YXRpb24AAAAACQAAAF9lZGl0ZWRCeQAAAAAHAAAAX2Zvcm1hdAwAAAATAAAAX2lzV2FpdGluZ0ZpcnN0VGV4dAAAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0DgAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAGAAAAbG9ja2VkAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAARAAAAc3RhdGVCZWZvcmVFZGl0ZWQKAAAACAAAAHRleHRTaXplAAAAAAsAAAB0ZXh0YXJlYUJveAcAAAAFAAAAd2lkdGgAAAAAKgAAAAAAAAAAAAAADQAAABAAAABfZGlzcGxheVJvdGF0aW9uAAAAAAkAAABfcHJvdG9LZXkAAAAABwAAAGNvbnRleHQOAAAABgAAAGhlaWdodAAAAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJwAAABMAAABoaXRUZXN0aW5nQm94TWFyZ2luAAAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACAAAAHJvdGF0aW9uAAAAAAoAAABzZWxlY3RhYmxlAAAAAAoAAABzZWxlY3RlZEJ5AAAAAAUAAAB3aWR0aAAAAAArAAAAAAAAAAAAAAATAAAAEAAAAF9kaXNwbGF5Um90YXRpb24AAAAACQAAAF9lZGl0ZWRCeQAAAAAHAAAAX2Zvcm1hdAwAAAATAAAAX2lzV2FpdGluZ0ZpcnN0VGV4dAAAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0DgAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAGAAAAbG9ja2VkAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAARAAAAc3RhdGVCZWZvcmVFZGl0ZWQKAAAACAAAAHRleHRTaXplAAAAAAsAAAB0ZXh0YXJlYUJveAcAAAAFAAAAd2lkdGgAAAAALAAAAAAAAAAAAAAAAgAAAA0AAABtZW1iZXJQbHVnaW5zLwAAAAcAAABwbHVnaW5zLQAAAC0AAAAuAAAAAAAAAAAAAAAuAAAAAAAAAAAAAAAAAAAALwAAAAAAAAAwAAAAAAAAADAAAAAxAAAAAAAAAAAAAAAxAAAAAAAAAAAAAAAAAAAAMgAAAAAAAAAAAAAAAAAAADMAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAAAAAANQAAAAAAAAAAAAAAAAAAADYAAAAAAAAAAAAAAAAAAAA3AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAADkAAAAAAAAAAAAAABAAAAAQAAAAX2Rpc3BsYXlSb3RhdGlvbgAAAAAJAAAAX3Byb3RvS2V5AAAAAAoAAABhdHRyaWJ1dGVzAAAAAAcAAABjb250ZXh0DgAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAEAAAAa2luZAAAAAAGAAAAbG9ja2VkAAAAAAcAAABtYW5hZ2VyOgAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAd2lkdGgAAAAAOgAAAAAAAAAAAAAAAgAAAAcAAABjb250ZXh0OwAAAA4AAABwcmVzc2VkTWVtYmVyczwAAAA7AAAAAAAAAAAAAAAFAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViHAAAAAUAAABzY2VuZQIAAAAGAAAAc2NlbmVzEgAAAAsAAAB0ZXh0YXJlYVNldA8AAAA8AAAAAAAAAAAAAAAAAAAAPQAAAAAAAAAAAAAABwAAAAoAAABhdHRyaWJ1dGVzAAAAAAYAAABoZWlnaHQAAAAABgAAAGxvY2tlZAAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAKAAAAc2VsZWN0YWJsZQAAAAAFAAAAd2lkdGgAAAAAPgAAAAAAAAAAAAAAAgAAAAcAAABjb250ZXh0OwAAAA4AAABwcmVzc2VkTWVtYmVyczwAAAA/AAAAAAAAAAAAAAAQAAAAEAAAAF9kaXNwbGF5Um90YXRpb24AAAAACQAAAF9wcm90b0tleQAAAAAKAAAAYXR0cmlidXRlcwAAAAAHAAAAY29udGV4dA4AAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMnAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAABAAAAGtpbmQAAAAABgAAAGxvY2tlZAAAAAAHAAAAbWFuYWdlcjoAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAIAAAAcm90YXRpb24AAAAACgAAAHNlbGVjdGFibGUAAAAACgAAAHNlbGVjdGVkQnkAAAAABQAAAHdpZHRoAAAAAEAAAAAAAAAAAAAAAAgAAAAMAAAAX2dsb2JhbFN0YXRlUgAAAAwAAABfdGV4dGFyZWFTZXRTAAAAGAAAAGFkbWluT2JzZXJ2ZXJNZW1iZXJTdGF0ZU0AAAAWAAAAaW52aXNpYmxlUGx1Z2luTWFuYWdlciwAAAAOAAAAbWVtYmVyc01hbmFnZXJDAAAADQAAAG92ZXJyaWRlU2NlbmVUAAAADQAAAHBsdWdpbk1hbmFnZXJCAAAABgAAAHNjZW5lc0EAAABBAAAAAAAAAAAAAAADAAAADAAAAF9jdXJyZW50UGF0aBsAAAAOAAAAcm9vdFNjZW5lR3JvdXAUAAAACgAAAHNjZW5lTm9kZXMTAAAAQgAAAAAAAAAAAAAAAgAAAAcAAABjb250ZXh0OwAAAA4AAABwcmVzc2VkTWVtYmVyczwAAABDAAAAAAAAAAAAAAAFAAAADQAAAGJyb2FkY2FzdGVySWQAAAAACgAAAGRpcmVjdG9ySWQAAAAAEAAAAGluaXRpYXRpdmVDb2xvcnNFAAAACgAAAG1lbWJlcnNNYXBGAAAABgAAAHNjZW5lc0QAAABEAAAAAAAAAAAAAAADAAAADAAAAF9jdXJyZW50UGF0aBsAAAAOAAAAcm9vdFNjZW5lR3JvdXAUAAAACgAAAHNjZW5lTm9kZXMTAAAARQAAAAAAAAANAAAAAAAAAEYAAAAAAAAARwAAAAAAAABHAAAAAAAAAAAAAAAMAAAACwAAAF9kZXZpY2VUeXBlAAAAAAwAAABfaW5mb3JtYXRpb25IAAAACQAAAF9tZW1iZXJJZAAAAAAKAAAAYXBwbGlhbmNlc0oAAAAHAAAAY3Vyc29yWAAAAAAHAAAAY3Vyc29yWQAAAAALAAAAZXhlY3V0b3JIdWJJAAAADwAAAGlzQ3Vyc29ySW5TY2VuZQAAAAAJAAAAaXNQcmVzc2VkAAAAAA4AAABpc1J0Y0Nvbm5lY3RlZAAAAAALAAAAbWVtYmVyU3RhdGVNAAAACQAAAHZpZXdTdGF0ZVEAAABIAAAAAAAAAAAAAAADAAAAAgAAAGlkAAAAAAcAAABwYXlsb2FkAAAAAAcAAABzZXNzaW9uAAAAAEkAAAAAAAAAAAAAAAMAAAAHAAAAX2VuYWJsZQAAAAAIAAAAY29tbWl0ZXIeAAAABwAAAGNvbnRleHQdAAAASgAAAEsAAAAAAAAAAAAAAEsAAAAAAAAAAAAAAAEAAAAXAAAAZml4ZWRDdXJzb3JJblNjZW5lUG9pbnRMAAAATAAAAAAAAAAAAAAAAgAAAAEAAAB4AAAAAAEAAAB5AAAAAE0AAAAAAAAAAAAAABgAAAAXAAAAYXJyb3dDb21wbGV0ZVRvU2VsZWN0b3IAAAAAEwAAAGF1dG9TZWxlY3REdXBsaWNhdGUAAAAADwAAAGF1dG9TZWxlY3RQYXN0ZQAAAAAEAAAAYm9sZAAAAAAUAAAAY3VycmVudEFwcGxpYW5jZU5hbWUAAAAACgAAAGRvdHRlZExpbmUAAAAAGQAAAGVsbGlwc2VDb21wbGV0ZVRvU2VsZWN0b3IAAAAACQAAAGZpbGxDb2xvclAAAAAGAAAAaXRhbGljAAAAAAsAAABsaW5lVGhyb3VnaAAAAAAQAAAAcGVuY2lsRXJhc2VyU2l6ZQAAAAANAAAAcGVuY2lsT3B0aW9uc08AAAAbAAAAcmVjdGFuZ2xlQ29tcGxldGVUb1NlbGVjdG9yAAAAABcAAABzaGFwZUNvbXBsZXRlVG9TZWxlY3RvcgAAAAAJAAAAc2hhcGVUeXBlAAAAABoAAABzdHJhaWdodENvbXBsZXRlVG9TZWxlY3RvcgAAAAALAAAAc3Ryb2tlQ29sb3INAAAACwAAAHN0cm9rZVdpZHRoAAAAABEAAAB0ZXh0Q2FuU2VsZWN0VGV4dAAAAAAJAAAAdGV4dENvbG9yTgAAABYAAAB0ZXh0Q29tcGxldGVUb1NlbGVjdG9yAAAAAAgAAAB0ZXh0U2l6ZQAAAAAQAAAAdGV4dFNpemVPdmVycmlkZQAAAAAJAAAAdW5kZXJsaW5lAAAAAE4AAAAAAAAAAAAAAAAAAABPAAAAAAAAAAAAAAAEAAAADQAAAGRpc2FibGVCZXppZXIAAAAADwAAAGVuYWJsZURyYXdQb2ludAAAAAAKAAAAc3BhcnNlSHVtcAAAAAALAAAAc3BhcnNlV2lkdGgAAAAAUAAAAAAAAAAAAAAAAAAAAFEAAAAAAAAAAAAAAAYAAAAGAAAAaGVpZ2h0AAAAAAQAAABtb2RlAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAoAAABwaXhlbFdpZHRoAAAAAAUAAAB3aWR0aAAAAABSAAAAAAAAAAAAAAAAAAAAUwAAAAAAAAAAAAAAAQAAAAMAAABzZXQQAAAAVAAAAAAAAAAAAAAAAwAAAAoAAABjb21wb25lbnRzBAAAAAQAAABuYW1lAAAAAAMAAABwcHQDAAAAVQAAAAAAAABWAAAAAAAAAFYAAAAAAAAAAAAAAAYAAAAFAAAAY3ViaWNYAAAACAAAAGRpc3RhbmNlAAAAAAwAAABoaWRkZW5Qb2ludHMAAAAABgAAAHBvaW50MVcAAAAGAAAAcG9pbnQyVwAAAAYAAABwb2ludDNXAAAAVwAAAAAAAAAAAAAAAgAAAAEAAAB4AAAAAAEAAAB5AAAAAFgAAAAAAAAAAAAAAAAAAABZAAAAAAAAAAAAAAAAAAAAWgAAAAAAAAAAAAAAAAAAAFsAAAAAAAAAAAAAAAIAAAABAAAAeAAAAAABAAAAeQAAAABcAAAAIAAAAAAAAAAAAAAAXQAAAAAAAAAAAAAAAAAAAF4AAAAAAAAAAAAAAAAAAABfAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAAAAAAGEAAAAAAAAAAAAAAAAAAABiAAAAAAAAAAAAAAAAAAAAYwAAAAAAAAAAAAAAAAAAAGQAAAAAAAAAAAAAAAAAAABlAAAAAAAAAAAAAAAAAAAAZgAAAAAAAAAAAAAAAAAAAGcAAAAAAAAAAAAAAAkAAAAHAAAAY2VudGVyWAAAAAAHAAAAY2VudGVyWQAAAAALAAAAY3Jvc3NPcmlnaW4AAAAABgAAAGhlaWdodAAAAAAGAAAAbG9ja2VkAAAAAAMAAABzcmMAAAAADAAAAHVuaWZvcm1TY2FsZQAAAAAEAAAAdXVpZAAAAAAFAAAAd2lkdGgAAAAAaAAAAAAAAAAAAAAAAAAAAGkAAAAAAAAAAAAAAAAAAABqAAAAAAAAAAAAAAAAAAAAawAAAAAAAAAAAAAAAQAAAAQAAABraW5kAAAAAGwAAAAAAAAAAAAAAAQAAAARAAAAaGl0VGVzdElkZW50aWZpZXNuAAAACgAAAHRhcmdldHNNYXBtAAAAAQAAAHgAAAAAAQAAAHkAAAAAbQAAAAAAAAAAAAAAAAAAAG4AAAAAAAAAAAAAAAAAAABvAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAHEAAAAAAAAAcgAAAAAAAAByAAAAAAAAAAAAAAACAAAABAAAAG5hbWUAAAAAAwAAAHBwdHMAAABzAAAAAAAAAAAAAAAEAAAABgAAAGhlaWdodAAAAAAKAAAAcHJldmlld1VSTAAAAAADAAAAc3JjAAAAAAUAAAB3aWR0aAAAAAB0AAAAAAAAAAAAAAAAAAAAdQAAAAAAAAAAAAAAAAAAAHYAAAAAAAAAVgAAAAAAAAB3AAAAAAAAAAAAAAAAAAAAeAAAAAAAAAAAAAAAAAAAAHkAAAAAAAAAAAAAAAAAAAB6AAAAAAAAAAAAAAAAAAAAewAAAAAAAAAAAAAAAAAAAHwAAAAAAAAAAAAAAAAAAAB9AAAAfgAAAAAAAAAAAAAAfgAAAAAAAAB/AAAAAAAAAH8AAAAAAAAAAAAAAAYAAAALAAAAZXh0cmFTdGV1cHMAAAAABQAAAGZpcnN0gAAAAAoAAABmaXJzdEluZGV4AAAAAAoAAABmaXJzdFBvaW50VwAAAAQAAABsYXN0gQAAAAkAAABsYXN0SW5kZXgAAAAAgAAAAAAAAABWAAAAAAAAAIEAAAAAAAAAVgAAAAAAAACCAAAAAAAAAAAAAAAAAAAAgwAAAIQAAAAAAAAAAAAAAIQAAAAAAAAAAAAAAAMAAAAGAAAAaGVpZ2h0AAAAAAUAAABzY2FsZQAAAAAFAAAAd2lkdGgAAAAAhQAAAAAAAAAAAAAAAAAAAIYAAAAAAAAAAAAAAAQAAAAGAAAAaGVpZ2h0AAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAUAAAB3aWR0aAAAAACHAAAAAAAAAAAAAAACAAAABAAAAHJlZG8fAAAABAAAAHVuZG8mAAAAiAAAAAAAAAAAAAAAAwAAAAcAAABfZW5hYmxlAAAAAAgAAABjb21taXRlch4AAAAHAAAAY29udGV4dB0AAACJAAAAIAAAAAAAAAAAAAAAigAAAAAAAAAAAAAAAQAAAAoAAABjb21wb25lbnRzBAAAAIsAAAAAAAAABQAAAAAAAACMAAAAAAAAAAAAAAAJAAAABQAAAGNvbG9yDQAAABQAAABjdXJyZW50QXBwbGlhbmNlTmFtZQAAAAAHAAAAY3Vyc29yWAAAAAAHAAAAY3Vyc29yWQAAAAAKAAAAZGV2aWNlVHlwZQAAAAAKAAAAZXJhc2VyU2l6ZQAAAAAKAAAAaXNBY3Rpdml0eQAAAAAPAAAAaXNDdXJzb3JJblNjZW5lAAAAAAkAAABpc1ByZXNzZWQAAAAAjQAAAAAAAAAAAAAADAAAAAsAAABfZGV2aWNlVHlwZQAAAAAMAAAAX2luZm9ybWF0aW9uSAAAAAkAAABfbWVtYmVySWQAAAAACgAAAGFwcGxpYW5jZXNKAAAABwAAAGN1cnNvclgAAAAABwAAAGN1cnNvclkAAAAACwAAAGV4ZWN1dG9ySHViSQAAAA8AAABpc0N1cnNvckluU2NlbmUAAAAACQAAAGlzUHJlc3NlZAAAAAAOAAAAaXNSdGNDb25uZWN0ZWQAAAAACwAAAG1lbWJlclN0YXRlTQAAAAkAAAB2aWV3U3RhdGVRAAAAjgAAAAAAAAAAAAAAAAAAAI8AAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAAAAAGAAAACgAAAGFwcGxpYW5jZXORAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHVikgAAAAsAAABpbmZvcm1hdGlvbkgAAAAIAAAAbWVtYmVySWQAAAAACwAAAG1lbWJlclN0YXRlTQAAAJEAAABLAAAAAAAAAAAAAACSAAAAAAAAAAAAAAADAAAABwAAAF9lbmFibGUAAAAACAAAAGNvbW1pdGVyHgAAAAcAAABjb250ZXh0HQAAAJMAAAAAAAAAAAAAABAAAAAFAAAAY29sb3INAAAAFAAAAGN1cnJlbnRBcHBsaWFuY2VOYW1lAAAAAAcAAABjdXJzb3JYAAAAAAcAAABjdXJzb3JZAAAAAAoAAABkZXZpY2VUeXBlAAAAAAYAAABoZWlnaHQAAAAACwAAAGluZm9ybWF0aW9ulAAAAAoAAABpc0FjdGl2aXR5AAAAAA8AAABpc0N1cnNvckluU2NlbmUAAAAACQAAAGlzUHJlc3NlZAAAAAAIAAAAbWVtYmVySWQAAAAABAAAAG1vZGUAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACgAAAHBpeGVsV2lkdGgAAAAABQAAAHdpZHRoAAAAAJQAAAAAAAAAAAAAAAMAAAACAAAAaWQAAAAABwAAAHBheWxvYWQAAAAABwAAAHNlc3Npb24AAAAAlQAAAAAAAAAAAAAABQAAAA0AAABicm9hZGNhc3RlcklkAAAAAAoAAABkaXJlY3RvcklkAAAAABAAAABpbml0aWF0aXZlQ29sb3JzRQAAAAoAAABtZW1iZXJzTWFwRgAAAAYAAABzY2VuZXNEAAAAlgAAAAAAAAAAAAAABgAAAAoAAABhcHBsaWFuY2VzkQAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YpIAAAALAAAAaW5mb3JtYXRpb25IAAAACAAAAG1lbWJlcklkAAAAAAsAAABtZW1iZXJTdGF0ZU0AAACXAAAAAAAAAAAAAAAAAAAAmAAAAAAAAAAAAAAAAAAAAJkAAAAAAAAAAAAAAAAAAACaAAAAAAAAAAAAAAAFAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViHAAAAAUAAABzY2VuZQIAAAAGAAAAc2NlbmVzEgAAAAsAAAB0ZXh0YXJlYVNldA8AAACbAAAAAAAAAAAAAAAAAAAAnAAAAAAAAAAAAAAAAAAAAJ0AAAAAAAAAAAAAAAQAAAAGAAAAaGVpZ2h0AAAAAAoAAABwcmV2aWV3VVJMAAAAAAMAAABzcmMAAAAABQAAAHdpZHRoAAAAAJ4AAAAAAAAAAAAAAAIAAAAEAAAAbmFtZQAAAAADAAAAcHB0nwAAAJ8AAAAAAAAAAAAAAAQAAAAGAAAAaGVpZ2h0AAAAAAoAAABwcmV2aWV3VVJMAAAAAAMAAABzcmMAAAAABQAAAHdpZHRoAAAAAKAAAAAAAAAAAAAAAAEAAAAGAAAAcG9pbnRzoQAAAKEAAAAAAAAAWwAAAAAAAACiAAAAAAAAAAAAAAAAAAAAowAAAAAAAAAAAAAAAQAAAAYAAABwb2ludHOkAAAApAAAAAAAAABbAAAAAAAAAKUAAAAAAAAAAAAAAAAAAACmAAAAAAAAAAAAAAACAAAACwAAAGJlZ2luVmVjdG9yWwAAAAkAAABlbmRWZWN0b3JbAAAApwAAAAAAAAAAAAAAAgAAAAYAAABoZWlnaHQAAAAABQAAAHdpZHRoAAAAAKgAAAAAAAAAAAAAAAoAAAAFAAAAYXJyb3fTAAAABwAAAGVsbGlwc2XGAAAABgAAAGVyYXNlcsoAAAAEAAAAaGFuZNQAAAAMAAAAbGFzZXJQb2ludGVysgAAAAYAAABwZW5jaWy1AAAACQAAAHJlY3RhbmdsZcIAAAAIAAAAc2VsZWN0b3KpAAAACAAAAHN0cmFpZ2h0zgAAAAQAAAB0ZXh0zAAAAKkAAAAAAAAAAAAAAAwAAAAPAAAAYmVnaW5QcmVzc1BvaW50rAAAAAcAAABjb250ZXh0qwAAABAAAABkcmFnRXZlbnRzQnVmZmVysQAAABwAAABkcmFnZ2VkQ29tcG9uZW50T3JpZ2luUG9pbnRzrQAAAA4AAABkcmFnZ2luZ1RhcmdldAAAAAAXAAAAZml4ZWRDdXJzb3JJblNjZW5lUG9pbnSqAAAACwAAAGlzQ3RybFByZXNzAAAAAAwAAABpc1NoaWZ0UHJlc3MAAAAADgAAAGxhdGVzdE9wZXJhdGVYAAAAAA4AAABsYXRlc3RPcGVyYXRlWQAAAAAMAAAAcHJlc3NlZFBvaW50sAAAAA0AAABzZWxlY3RlZEdyb3VwrgAAAKoAAAAAAAAAAAAAAAIAAAABAAAAeAAAAAABAAAAeQAAAACrAAAAAAAAAAAAAAAFAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViHAAAAAUAAABzY2VuZQIAAAAGAAAAc2NlbmVzEgAAAAsAAAB0ZXh0YXJlYVNldA8AAACsAAAAAAAAAAAAAAACAAAAAQAAAHgAAAAAAQAAAHkAAAAArQAAAFcAAAAAAAAAAAAAAK4AAAAAAAAAAAAAAAkAAAAKAAAAYmVnaW5Qb2ludFcAAAAPAAAAYmVsb25nc1RvVXNlcklkAAAAAAcAAABjb250ZXh0rwAAAAYAAABoZWlnaHQAAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACAAAAHJvdGF0aW9uAAAAAAUAAAB3aWR0aAAAAACvAAAAAAAAAAAAAAAFAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViHAAAAAUAAABzY2VuZQIAAAAGAAAAc2NlbmVzEgAAAAsAAAB0ZXh0YXJlYVNldA8AAACwAAAAAAAAAAAAAAACAAAAAQAAAHgAAAAAAQAAAHkAAAAAsQAAAAAAAABsAAAAAAAAALIAAAAAAAAAAAAAAAQAAAAHAAAAY29udGV4dLMAAAAQAAAAZHJhZ0V2ZW50c0J1ZmZlcrEAAAAXAAAAZml4ZWRDdXJzb3JJblNjZW5lUG9pbnS0AAAADAAAAHByZXNzZWRQb2ludLAAAACzAAAAAAAAAAAAAAAFAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViHAAAAAUAAABzY2VuZQIAAAAGAAAAc2NlbmVzEgAAAAsAAAB0ZXh0YXJlYVNldA8AAAC0AAAAAAAAAAAAAAACAAAAAQAAAHgAAAAAAQAAAHkAAAAAtQAAAAAAAAAAAAAACAAAAA0AAABjaXJjbHVhclN0YXRlwQAAAAcAAABjb250ZXh0tgAAABAAAABkcmFnRXZlbnRzQnVmZmVysQAAABcAAABmaXhlZEN1cnNvckluU2NlbmVQb2ludLQAAAAYAAAAcGFpbnRpbmdCZXppZXJDdXJ2ZVNoYXBlvAAAABIAAABwYWludGluZ0N1cnZlU2hhcGW3AAAAFAAAAHBhaW50aW5nRWxsaXBzZVNoYXBlwAAAAAwAAABwcmVzc2VkUG9pbnSwAAAAtgAAAAAAAAAAAAAABQAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YhwAAAAFAAAAc2NlbmUCAAAABgAAAHNjZW5lcxIAAAALAAAAdGV4dGFyZWFTZXQPAAAAtwAAAAAAAAAAAAAAFQAAABAAAABfZGlzcGxheVJvdGF0aW9uAAAAAAcAAABfaGVpZ2h0AAAAAAkAAABfcHJvdG9LZXkAAAAABgAAAF93aWR0aAAAAAAHAAAAY29udGV4dA4AAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMnAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAAEQAAAGluaXRpYWxpemVkSGVpZ2h0AAAAABAAAABpbml0aWFsaXplZFdpZHRoAAAAAAoAAABpc1BhaW50aW5nAAAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAABgAAAHBvaW50c7gAAAAIAAAAcm90YXRpb24AAAAACgAAAHNlbGVjdGFibGUAAAAACgAAAHNlbGVjdGVkQnkAAAAADAAAAHNwYXJzZVBvaW50c7kAAAAFAAAAc3RhdGVNAAAABQAAAHdpZHRoAAAAALgAAAAAAAAAVwAAAAAAAAC5AAAAAAAAAAAAAAAFAAAADAAAAF9wdXNoZWRDb3VudAAAAAANAAAAaHVtcFRocmVzaG9sZAAAAAAGAAAAcGxvdWdouwAAAAYAAABwb2ludHO6AAAADgAAAHdpZHRoVGhyZXNob2xkAAAAALoAAAAAAAAAVwAAAAAAAAC7AAAAAAAAAAAAAAAGAAAABQAAAGJlZ2luAAAAAAMAAABlbmQAAAAABAAAAGVuZFgAAAAABAAAAGVuZFkAAAAABQAAAHVuaXRYAAAAAAUAAAB1bml0WQAAAAC8AAAAAAAAAAAAAAAZAAAAEAAAAF9kaXNwbGF5Um90YXRpb24AAAAABwAAAF9oZWlnaHQAAAAACAAAAF9vcmlnaW5YAAAAAAgAAABfb3JpZ2luWQAAAAAJAAAAX3Byb3RvS2V5AAAAAAYAAABfd2lkdGgAAAAACAAAAGF1dGhvcklkAAAAAAcAAABjb250ZXh0DgAAAA8AAABjdXJyZW50Qm91bmRhcnm+AAAABgAAAGN1cnZlc70AAAALAAAAZXh0cmFTdGV1cHMAAAAADQAAAGZpeGVkQm91bmRhcnm/AAAACQAAAGhlYWRQb2ludFcAAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMnAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAADwAAAGluaXRpYWxpemVkU2l6ZacAAAAGAAAAbG9ja2VkAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAc3RhdGVNAAAABQAAAHdpZHRoAAAAAL0AAAAAAAAAVgAAAAAAAAC+AAAAAAAAAAAAAAAEAAAABgAAAGJvdHRvbQAAAAAEAAAAbGVmdAAAAAAFAAAAcmlnaHQAAAAAAwAAAHRvcAAAAAC/AAAAAAAAAAAAAAAEAAAABgAAAGJvdHRvbQAAAAAEAAAAbGVmdAAAAAAFAAAAcmlnaHQAAAAAAwAAAHRvcAAAAADAAAAAAAAAAAAAAAAPAAAAEAAAAF9kaXNwbGF5Um90YXRpb24AAAAACQAAAF9wcm90b0tleQAAAAAHAAAAY29udGV4dA4AAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMnAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAACgAAAGlzUGFpbnRpbmcAAAAABgAAAGxvY2tlZAAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAIAAAAcm90YXRpb24AAAAACgAAAHNlbGVjdGFibGUAAAAACgAAAHNlbGVjdGVkQnkAAAAABQAAAHN0YXRlTQAAAAUAAAB3aWR0aAAAAADBAAAAAAAAAAAAAAADAAAADAAAAGlzQ2VudGVyTW9kZQAAAAABAAAAeAAAAAABAAAAeQAAAADCAAAAAAAAAAAAAAAJAAAACgAAAGJlZ2luUG9pbnTFAAAABwAAAGNvbnRleHTDAAAAEAAAAGRyYWdFdmVudHNCdWZmZXKxAAAAFwAAAGZpeGVkQ3Vyc29ySW5TY2VuZVBvaW50tAAAAAwAAABpc1NoaWZ0UHJlc3MAAAAACwAAAGxhdGVzdERyYWdYAAAAAAsAAABsYXRlc3REcmFnWQAAAAAWAAAAcGFpbnRpbmdSZWN0YW5nbGVTaGFwZcQAAAAMAAAAcHJlc3NlZFBvaW50sAAAAMMAAAAAAAAAAAAAAAUAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIcAAAABQAAAHNjZW5lAgAAAAYAAABzY2VuZXMSAAAACwAAAHRleHRhcmVhU2V0DwAAAMQAAAAAAAAAAAAAAA8AAAAQAAAAX2Rpc3BsYXlSb3RhdGlvbgAAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0DgAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAKAAAAaXNQYWludGluZwAAAAAGAAAAbG9ja2VkAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAc3RhdGVNAAAABQAAAHdpZHRoAAAAAMUAAAAAAAAAAAAAAAIAAAABAAAAeAAAAAABAAAAeQAAAADGAAAAAAAAAAAAAAALAAAACgAAAGJlZ2luUG9pbnTJAAAABwAAAGNvbnRleHTHAAAAEAAAAGRyYWdFdmVudHNCdWZmZXKxAAAAFwAAAGZpeGVkQ3Vyc29ySW5TY2VuZVBvaW50tAAAAAwAAABpc0NlbnRlck1vZGUAAAAADgAAAGlzQ29tbWFuZFByZXNzAAAAAAwAAABpc1NoaWZ0UHJlc3MAAAAACwAAAGxhdGVzdERyYWdYAAAAAAsAAABsYXRlc3REcmFnWQAAAAAUAAAAcGFpbnRpbmdFbGxpcHNlU2hhcGXIAAAADAAAAHByZXNzZWRQb2ludLAAAADHAAAAAAAAAAAAAAAFAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViHAAAAAUAAABzY2VuZQIAAAAGAAAAc2NlbmVzEgAAAAsAAAB0ZXh0YXJlYVNldA8AAADIAAAAAAAAAAAAAAAPAAAAEAAAAF9kaXNwbGF5Um90YXRpb24AAAAACQAAAF9wcm90b0tleQAAAAAHAAAAY29udGV4dA4AAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMnAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAACgAAAGlzUGFpbnRpbmcAAAAABgAAAGxvY2tlZAAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAIAAAAcm90YXRpb24AAAAACgAAAHNlbGVjdGFibGUAAAAACgAAAHNlbGVjdGVkQnkAAAAABQAAAHN0YXRlTQAAAAUAAAB3aWR0aAAAAADJAAAAAAAAAAAAAAACAAAAAQAAAHgAAAAAAQAAAHkAAAAAygAAAAAAAAAAAAAABAAAAAcAAABjb250ZXh0ywAAABAAAABkcmFnRXZlbnRzQnVmZmVysQAAABcAAABmaXhlZEN1cnNvckluU2NlbmVQb2ludLQAAAAMAAAAcHJlc3NlZFBvaW50sAAAAMsAAAAAAAAAAAAAAAUAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIcAAAABQAAAHNjZW5lAgAAAAYAAABzY2VuZXMSAAAACwAAAHRleHRhcmVhU2V0DwAAAMwAAAAAAAAAAAAAAAUAAAAHAAAAY29udGV4dM0AAAAQAAAAZHJhZ0V2ZW50c0J1ZmZlcrEAAAAXAAAAZml4ZWRDdXJzb3JJblNjZW5lUG9pbnS0AAAADAAAAHByZXNzZWRQb2ludLAAAAAOAAAAd2FpdEZpcnN0Q2xpY2sAAAAAzQAAAAAAAAAAAAAABQAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YhwAAAAFAAAAc2NlbmUCAAAABgAAAHNjZW5lcxIAAAALAAAAdGV4dGFyZWFTZXQPAAAAzgAAAAAAAAAAAAAABwAAAAoAAABiZWdpblBvaW500gAAAAcAAABjb250ZXh0zwAAABAAAABkcmFnRXZlbnRzQnVmZmVysQAAABcAAABmaXhlZEN1cnNvckluU2NlbmVQb2ludLQAAAAEAAAAa2luZAAAAAASAAAAcGFpdGluZ1ZlY3RvclNoYXBl0AAAAAwAAABwcmVzc2VkUG9pbnSwAAAAzwAAAAAAAAAAAAAABQAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YhwAAAAFAAAAc2NlbmUCAAAABgAAAHNjZW5lcxIAAAALAAAAdGV4dGFyZWFTZXQPAAAA0AAAAAAAAAAAAAAAEgAAAAoAAABfZGlyZWN0aW9uAAAAABAAAABfZGlzcGxheVJvdGF0aW9uAAAAAAkAAABfcHJvdG9LZXkAAAAACwAAAGFuY2hvclBvaW500QAAAAcAAABjb250ZXh0DgAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAKAAAAaXNQYWludGluZwAAAAAEAAAAa2luZAAAAAAGAAAAbG9ja2VkAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAc3RhdGVNAAAABQAAAHdpZHRoAAAAANEAAAAAAAAAAAAAAAIAAAABAAAAeAAAAAABAAAAeQAAAADSAAAAAAAAAAAAAAACAAAAAQAAAHgAAAAAAQAAAHkAAAAA0wAAAAAAAAAAAAAABwAAAAoAAABiZWdpblBvaW500gAAAAcAAABjb250ZXh0zwAAABAAAABkcmFnRXZlbnRzQnVmZmVysQAAABcAAABmaXhlZEN1cnNvckluU2NlbmVQb2ludLQAAAAEAAAAa2luZAAAAAASAAAAcGFpdGluZ1ZlY3RvclNoYXBl0AAAAAwAAABwcmVzc2VkUG9pbnSwAAAA1AAAAAAAAAAAAAAABAAAAAcAAABjb250ZXh01QAAABAAAABkcmFnRXZlbnRzQnVmZmVysQAAABcAAABmaXhlZEN1cnNvckluU2NlbmVQb2ludLQAAAAMAAAAcHJlc3NlZFBvaW50sAAAANUAAAAAAAAAAAAAAAUAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIcAAAABQAAAHNjZW5lAgAAAAYAAABzY2VuZXMSAAAACwAAAHRleHRhcmVhU2V0DwAAANYAAAAAAAAAAAAAAAIAAAAQAAAAZHJhZ0V2ZW50c0J1ZmZlcrEAAAAMAAAAcHJlc3NlZFBvaW50sAAAANcAAAAAAAAAAAAAAAYAAAANAAAAYmVnaW5IaXRQb2ludFcAAAAKAAAAZGVsdGFQb2ludFcAAAALAAAAb25zaWRlUG9pbnTYAAAAFQAAAG9yaWVudGF0aW9uVW5pdFZlY3RvctkAAAAOAAAAc3RhcnRSZWN0YW5nbGULAAAACAAAAHRhcmdldElkAAAAANgAAAAAAAAAAAAAAAIAAAABAAAAeAAAAAABAAAAeQAAAADZAAAAAAAAAAAAAAACAAAAAQAAAHgAAAAAAQAAAHkAAAAA2gAAAAAAAAAAAAAACwAAAAkAAABfaXNMb2NrZWQAAAAADwAAAGJlbG9uZ3NUb1VzZXJJZAAAAAAHAAAAY29udGV4dNwAAAAPAAAAZHJhZ2dpbmdDb250ZXh02wAAABUAAABpbmNsdWRlQ29tcG9uZW50Tm9kZXPdAAAAGgAAAGlzT25seUhhc1VuaWZvcm1TY2FsZVNoYXBlAAAAAAwAAABpc1NoaWZ0UHJlc3MAAAAADAAAAG9wZXJhdGVQb2ludAAAAAAJAAAAcmVjdGFuZ2xlCwAAABYAAAByZWN0YW5nbGVXaXRoSGl0TWFyZ2luCwAAAAgAAAByb3RhdGlvbgAAAADbAAAAAAAAAAAAAAAGAAAADQAAAGJlZ2luSGl0UG9pbnRXAAAACgAAAGRlbHRhUG9pbnRXAAAACwAAAG9uc2lkZVBvaW502AAAABUAAABvcmllbnRhdGlvblVuaXRWZWN0b3LZAAAADgAAAHN0YXJ0UmVjdGFuZ2xlCwAAAAgAAAB0YXJnZXRJZAAAAADcAAAAAAAAAAAAAAAFAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViHAAAAAUAAABzY2VuZQIAAAAGAAAAc2NlbmVzEgAAAAsAAAB0ZXh0YXJlYVNldA8AAADdAAAAAAAAAN4AAAAAAAAA3gAAAAAAAAAAAAAABgAAAAkAAABjb21wb25lbnTfAAAAAgAAAGR4AAAAAAIAAABkeQAAAAAGAAAAaGVpZ2h0AAAAAAoAAABvcmlnaW5SZWN0CwAAAAUAAAB3aWR0aAAAAADfAAAAAAAAAAAAAAANAAAAEAAAAF9kaXNwbGF5Um90YXRpb24AAAAACQAAAF9wcm90b0tleQAAAAAHAAAAY29udGV4dA4AAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMnAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAABgAAAGxvY2tlZAAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAIAAAAcm90YXRpb24AAAAACgAAAHNlbGVjdGFibGUAAAAACgAAAHNlbGVjdGVkQnkAAAAABQAAAHdpZHRoAAAAAOAAAAAAAAAAAAAAAAMAAAAHAAAAX2VuYWJsZQAAAAAIAAAAY29tbWl0ZXIeAAAABwAAAGNvbnRleHQdAAAA4QAAAAAAAADiAAAAAAAAAOIAAAAAAAAAAAAAAA0AAAAQAAAAX2Rpc3BsYXlSb3RhdGlvbgAAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0DgAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAGAAAAbG9ja2VkAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAd2lkdGgAAAAA4wAAAAAAAAAAAAAAAAAAAOQAAAAAAAAAAAAAAA0AAAAQAAAAX2Rpc3BsYXlSb3RhdGlvbgAAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0DgAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAGAAAAbG9ja2VkAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAd2lkdGgAAAAA5QAAAAAAAADmAAAAAAAAAOYAAAAAAAAAAAAAAA0AAAAQAAAAX2Rpc3BsYXlSb3RhdGlvbgAAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0DgAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAGAAAAbG9ja2VkAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAd2lkdGgAAAAA5wAAAAAAAAAAAAAABgAAAAkAAABjb21wb25lbnTfAAAAAgAAAGR4AAAAAAIAAABkeQAAAAAGAAAAaGVpZ2h0AAAAAAoAAABvcmlnaW5SZWN0CwAAAAUAAAB3aWR0aAAAAADoAAAAAAAAAAAAAAADAAAACwAAAGRyYWdlZFBvaW50VwAAAAsAAABvbnNpZGVQb2ludOkAAAAMAAAAb3BlcmF0ZVBvaW50AAAAAOkAAAAAAAAAAAAAAAIAAAABAAAAeAAAAAABAAAAeQAAAADqAAAAAAAAAAAAAAAKAAAACgAAAGJlZ2luUG9pbnTJAAAABwAAAGNvbnRleHTHAAAAEAAAAGRyYWdFdmVudHNCdWZmZXKxAAAADAAAAGlzQ2VudGVyTW9kZQAAAAAOAAAAaXNDb21tYW5kUHJlc3MAAAAADAAAAGlzU2hpZnRQcmVzcwAAAAALAAAAbGF0ZXN0RHJhZ1gAAAAACwAAAGxhdGVzdERyYWdZAAAAABQAAABwYWludGluZ0VsbGlwc2VTaGFwZcgAAAAMAAAAcHJlc3NlZFBvaW50sAAAAOsAAAAAAAAAAAAAAAwAAAAQAAAAX2Rpc3BsYXlSb3RhdGlvbgAAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0DgAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAAKAAAAaXNQYWludGluZwAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAIAAAAcm90YXRpb24AAAAACgAAAHNlbGVjdGVkQnkAAAAABQAAAHN0YXRlTQAAAAUAAAB3aWR0aAAAAADsAAAAAAAAAAAAAAADAAAABwAAAGNvbnRleHTLAAAAEAAAAGRyYWdFdmVudHNCdWZmZXKxAAAADAAAAHByZXNzZWRQb2ludLAAAADtAAAAAAAAAAAAAAADAAAABwAAAGNvbnRleHTVAAAAEAAAAGRyYWdFdmVudHNCdWZmZXKxAAAADAAAAHByZXNzZWRQb2ludLAAAADuAAAAAAAAAAAAAAASAAAAEAAAAF9kaXNwbGF5Um90YXRpb24AAAAADgAAAF9kaXNwbGF5U2NhbGVYAAAAAA4AAABfZGlzcGxheVNjYWxlWQAAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0DgAAAAsAAABjcm9zc09yaWdpbgAAAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMnAAAACQAAAGltYWdlU2l6ZacAAAAIAAAAaW1hZ2VTcmMAAAAABgAAAGxvY2tlZAAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAIAAAAcm90YXRpb24AAAAACgAAAHNlbGVjdGVkQnkAAAAADAAAAHVuaWZvcm1TY2FsZQAAAAAEAAAAdXVpZAAAAAAFAAAAd2lkdGgAAAAA7wAAAAAAAAAAAAAAAwAAAAcAAABjb250ZXh0swAAABAAAABkcmFnRXZlbnRzQnVmZmVysQAAAAwAAABwcmVzc2VkUG9pbnSwAAAA8AAAAAAAAAAAAAAAAwAAAAwAAABpc0NlbnRlck1vZGUAAAAAAQAAAHgAAAAAAQAAAHkAAAAA8QAAAAAAAAAAAAAAEAAAABAAAABfZGlzcGxheVJvdGF0aW9uAAAAAAcAAABfaGVpZ2h0AAAAAAkAAABfcHJvdG9LZXkAAAAABgAAAF93aWR0aAAAAAAHAAAAY29udGV4dA4AAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJwAAABEAAABpbml0aWFsaXplZEhlaWdodAAAAAAQAAAAaW5pdGlhbGl6ZWRXaWR0aAAAAAAKAAAAaXNQYWludGluZwAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAGAAAAcG9pbnRzuAAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAMAAAAc3BhcnNlUG9pbnRzuQAAAAUAAABzdGF0ZU0AAADyAAAAAAAAAAAAAAADAAAABQAAAGluZGV4AAAAAAUAAABzaGFwZfMAAAAIAAAAdXBkYXRlcnP0AAAA8wAAAAAAAAAAAAAAGQAAABAAAABfZGlzcGxheVJvdGF0aW9uAAAAAAcAAABfaGVpZ2h0AAAAAAgAAABfb3JpZ2luWAAAAAAIAAAAX29yaWdpblkAAAAACQAAAF9wcm90b0tleQAAAAAGAAAAX3dpZHRoAAAAAAgAAABhdXRob3JJZAAAAAAHAAAAY29udGV4dA4AAAAPAAAAY3VycmVudEJvdW5kYXJ5vgAAAAYAAABjdXJ2ZXO9AAAACwAAAGV4dHJhU3RldXBzAAAAAA0AAABmaXhlZEJvdW5kYXJ5vwAAAAkAAABoZWFkUG9pbnRXAAAABgAAAGhlaWdodAAAAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJwAAABMAAABoaXRUZXN0aW5nQm94TWFyZ2luAAAAAA8AAABpbml0aWFsaXplZFNpemWnAAAABgAAAGxvY2tlZAAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAIAAAAcm90YXRpb24AAAAACgAAAHNlbGVjdGFibGUAAAAACgAAAHNlbGVjdGVkQnkAAAAABQAAAHN0YXRlTQAAAAUAAAB3aWR0aAAAAAD0AAAAAAAAAH8AAAAAAAAA9QAAAAAAAAAAAAAABwAAAA0AAABjaXJjbHVhclN0YXRlwQAAAAcAAABjb250ZXh0tgAAABAAAABkcmFnRXZlbnRzQnVmZmVysQAAABgAAABwYWludGluZ0JlemllckN1cnZlU2hhcGW8AAAAEgAAAHBhaW50aW5nQ3VydmVTaGFwZbcAAAAUAAAAcGFpbnRpbmdFbGxpcHNlU2hhcGXAAAAADAAAAHByZXNzZWRQb2ludLAAAAD2AAAAAAAAAFYAAAAAAAAA9wAAAAAAAAAAAAAAFQAAABAAAABfZGlzcGxheVJvdGF0aW9uAAAAAAcAAABfaGVpZ2h0AAAAAAkAAABfcHJvdG9LZXkAAAAABgAAAF93aWR0aAAAAAAHAAAAY29udGV4dA4AAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMnAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAAEQAAAGluaXRpYWxpemVkSGVpZ2h0AAAAABAAAABpbml0aWFsaXplZFdpZHRoAAAAAAoAAABpc1BhaW50aW5nAAAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAABgAAAHBvaW50c7gAAAAIAAAAcm90YXRpb24AAAAACgAAAHNlbGVjdGFibGUAAAAACgAAAHNlbGVjdGVkQnkAAAAADAAAAHNwYXJzZVBvaW50c7kAAAAFAAAAc3RhdGVNAAAABQAAAHdpZHRoAAAAAPgAAAAAAAAAAAAAABkAAAAQAAAAX2Rpc3BsYXlSb3RhdGlvbgAAAAAHAAAAX2hlaWdodAAAAAAIAAAAX29yaWdpblgAAAAACAAAAF9vcmlnaW5ZAAAAAAkAAABfcHJvdG9LZXkAAAAABgAAAF93aWR0aAAAAAAIAAAAYXV0aG9ySWQAAAAABwAAAGNvbnRleHQOAAAADwAAAGN1cnJlbnRCb3VuZGFyeb4AAAAGAAAAY3VydmVzvQAAAAsAAABleHRyYVN0ZXVwcwAAAAANAAAAZml4ZWRCb3VuZGFyeb8AAAAJAAAAaGVhZFBvaW50VwAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAPAAAAaW5pdGlhbGl6ZWRTaXplpwAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACAAAAHJvdGF0aW9uAAAAAAoAAABzZWxlY3RhYmxlAAAAAAoAAABzZWxlY3RlZEJ5AAAAAAUAAABzdGF0ZU0AAAAFAAAAd2lkdGgAAAAA+QAAAAAAAAAAAAAAFQAAABAAAABfZGlzcGxheVJvdGF0aW9uAAAAAAcAAABfaGVpZ2h0AAAAAAkAAABfcHJvdG9LZXkAAAAABgAAAF93aWR0aAAAAAAHAAAAY29udGV4dA4AAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMnAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAAEQAAAGluaXRpYWxpemVkSGVpZ2h0AAAAABAAAABpbml0aWFsaXplZFdpZHRoAAAAAAoAAABpc1BhaW50aW5nAAAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAABgAAAHBvaW50c7gAAAAIAAAAcm90YXRpb24AAAAACgAAAHNlbGVjdGFibGUAAAAACgAAAHNlbGVjdGVkQnkAAAAADAAAAHNwYXJzZVBvaW50c7kAAAAFAAAAc3RhdGVNAAAABQAAAHdpZHRoAAAAAPoAAAAAAAAAVgAAAAAAAAD7AAAAAAAAAAAAAAADAAAABQAAAGFkZGVk/AAAAAcAAAByZW1vdmVk/QAAAAcAAAB1cGRhdGVk/gAAAPwAAAAAAAAAAAAAAAAAAAD9AAAAAAAAAAAAAAAAAAAA/gAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAAAAAAMAAAAHAAAAY29udGV4dAABAAAQAAAAZHJhZ0V2ZW50c0J1ZmZlcrEAAAAMAAAAcHJlc3NlZFBvaW50sAAAAAABAAAAAAAAAAAAAAUAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIcAAAABQAAAHNjZW5lAgAAAAYAAABzY2VuZXMSAAAACwAAAHRleHRhcmVhU2V0DwAAAAEBAAAAAAAAAAAAAAgAAAAKAAAAYmVnaW5Qb2ludMUAAAAHAAAAY29udGV4dMMAAAAQAAAAZHJhZ0V2ZW50c0J1ZmZlcrEAAAAMAAAAaXNTaGlmdFByZXNzAAAAAAsAAABsYXRlc3REcmFnWAAAAAALAAAAbGF0ZXN0RHJhZ1kAAAAAFgAAAHBhaW50aW5nUmVjdGFuZ2xlU2hhcGXEAAAADAAAAHByZXNzZWRQb2ludLAAAAACAQAAAAAAAAAAAAAMAAAAEAAAAF9kaXNwbGF5Um90YXRpb24AAAAACQAAAF9wcm90b0tleQAAAAAHAAAAY29udGV4dA4AAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMnAAAACgAAAGlzUGFpbnRpbmcAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACAAAAHJvdGF0aW9uAAAAAAoAAABzZWxlY3RlZEJ5AAAAAAUAAABzdGF0ZU0AAAAFAAAAd2lkdGgAAAAAAwEAAAAAAAAAAAAACAAAAAoAAABiZWdpblBvaW50VwAAAA8AAABiZWxvbmdzVG9Vc2VySWQAAAAABwAAAGNvbnRleHSvAAAABgAAAGhlaWdodAAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAIAAAAcm90YXRpb24AAAAABQAAAHdpZHRoAAAAAAQBAAAAAAAAAAAAAAwAAAAPAAAAYmVnaW5QcmVzc1BvaW50rAAAAAcAAABjb250ZXh0qwAAABAAAABkcmFnRXZlbnRzQnVmZmVysQAAABwAAABkcmFnZ2VkQ29tcG9uZW50T3JpZ2luUG9pbnRzrQAAAA4AAABkcmFnZ2luZ1RhcmdldAAAAAAXAAAAZml4ZWRDdXJzb3JJblNjZW5lUG9pbnSqAAAACwAAAGlzQ3RybFByZXNzAAAAAAwAAABpc1NoaWZ0UHJlc3MAAAAADgAAAGxhdGVzdE9wZXJhdGVYAAAAAA4AAABsYXRlc3RPcGVyYXRlWQAAAAAMAAAAcHJlc3NlZFBvaW50sAAAAA0AAABzZWxlY3RlZEdyb3VwrgAAAAUBAAAAAAAABgEAAAAAAAAGAQAAAAAAAAAAAAANAAAAEAAAAF9kaXNwbGF5Um90YXRpb24AAAAACQAAAF9wcm90b0tleQAAAAAHAAAAY29udGV4dA4AAAAGAAAAaGVpZ2h0AAAAABIAAABoaWdobGlnaHRBdXRob3JJZHMnAAAAEwAAAGhpdFRlc3RpbmdCb3hNYXJnaW4AAAAABgAAAGxvY2tlZAAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAIAAAAcm90YXRpb24AAAAACgAAAHNlbGVjdGFibGUAAAAACgAAAHNlbGVjdGVkQnkAAAAABQAAAHdpZHRoAAAAAAcBAAAAAAAAAAAAAAAAAAAIAQAAAAAAAAkBAAAAAAAACQEAAAAAAAAAAAAADQAAABAAAABfZGlzcGxheVJvdGF0aW9uAAAAAAkAAABfcHJvdG9LZXkAAAAABwAAAGNvbnRleHQOAAAABgAAAGhlaWdodAAAAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJwAAABMAAABoaXRUZXN0aW5nQm94TWFyZ2luAAAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACAAAAHJvdGF0aW9uAAAAAAoAAABzZWxlY3RhYmxlAAAAAAoAAABzZWxlY3RlZEJ5AAAAAAUAAAB3aWR0aAAAAAAKAQAAAAAAAAAAAAAAAAAACwEAAAAAAAAAAAAADQAAABAAAABfZGlzcGxheVJvdGF0aW9uAAAAAAkAAABfcHJvdG9LZXkAAAAABwAAAGNvbnRleHQOAAAABgAAAGhlaWdodAAAAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJwAAABMAAABoaXRUZXN0aW5nQm94TWFyZ2luAAAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACAAAAHJvdGF0aW9uAAAAAAoAAABzZWxlY3RhYmxlAAAAAAoAAABzZWxlY3RlZEJ5AAAAAAUAAAB3aWR0aAAAAAAMAQAAAAAAAAAAAAAQAAAAEAAAAF9kaXNwbGF5Um90YXRpb24AAAAACQAAAF9wcm90b0tleQAAAAAHAAAAY29udGV4dA4AAAAKAAAAZG90dGVkTGluZQAAAAAJAAAAZmlsbENvbG9yDQEAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAAKAAAAaXNQYWludGluZwAAAAAHAAAAb3JpZ2luWAAAAAAHAAAAb3JpZ2luWQAAAAAIAAAAcm90YXRpb24AAAAACgAAAHNlbGVjdGVkQnkAAAAACQAAAHNoYXBlVHlwZQAAAAALAAAAc3Ryb2tlQ29sb3INAAAACwAAAHN0cm9rZVdpZHRoAAAAAAUAAAB3aWR0aAAAAAANAQAAAAAAAAAAAAAAAAAADgEAAAAAAAAAAAAACAAAAAoAAABiZWdpblBvaW50EQEAAAcAAABjb250ZXh0DwEAABAAAABkcmFnRXZlbnRzQnVmZmVysQAAAAwAAABpc1NoaWZ0UHJlc3MAAAAACwAAAGxhdGVzdERyYWdYAAAAAAsAAABsYXRlc3REcmFnWQAAAAANAAAAcGFpbnRpbmdTaGFwZRABAAAMAAAAcHJlc3NlZFBvaW50sAAAAA8BAAAAAAAAAAAAAAUAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIcAAAABQAAAHNjZW5lAgAAAAYAAABzY2VuZXMSAAAACwAAAHRleHRhcmVhU2V0DwAAABABAAAAAAAAAAAAABMAAAAQAAAAX2Rpc3BsYXlSb3RhdGlvbgAAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0DgAAAAoAAABkb3R0ZWRMaW5lAAAAAAkAAABmaWxsQ29sb3INAQAABgAAAGhlaWdodAAAAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJwAAABMAAABoaXRUZXN0aW5nQm94TWFyZ2luAAAAAAoAAABpc1BhaW50aW5nAAAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACAAAAHJvdGF0aW9uAAAAAAoAAABzZWxlY3RhYmxlAAAAAAoAAABzZWxlY3RlZEJ5AAAAAAkAAABzaGFwZVR5cGUAAAAACwAAAHN0cm9rZUNvbG9yDQAAAAsAAABzdHJva2VXaWR0aAAAAAAFAAAAd2lkdGgAAAAAEQEAAAAAAAAAAAAAAgAAAAEAAAB4AAAAAAEAAAB5AAAAABIBAAAAAAAAAAAAAAQAAAAHAAAAY29udGV4dM0AAAAQAAAAZHJhZ0V2ZW50c0J1ZmZlcrEAAAAMAAAAcHJlc3NlZFBvaW50sAAAAA4AAAB3YWl0Rmlyc3RDbGljawAAAAATAQAAAAAAAAAAAAAAAAAAFAEAAAAAAAAAAAAAAgAAAAkAAAByZWN0YW5nbGULAAAACwAAAHRleHRhcmVhQm94BwAAABUBAAAAAAAAAAAAABAAAAAQAAAAX2Rpc3BsYXlSb3RhdGlvbgAAAAAJAAAAX2VkaXRlZEJ5AAAAAAcAAABfZm9ybWF0DAAAABMAAABfaXNXYWl0aW5nRmlyc3RUZXh0AAAAAAkAAABfcHJvdG9LZXkAAAAABwAAAGNvbnRleHQOAAAABgAAAGhlaWdodAAAAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJwAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0ZWRCeQAAAAARAAAAc3RhdGVCZWZvcmVFZGl0ZWQKAAAACAAAAHRleHRTaXplAAAAAAsAAAB0ZXh0YXJlYUJveAcAAAAFAAAAd2lkdGgAAAAAFgEAAAAAAAAAAAAABwAAAAoAAABiZWdpblBvaW500gAAAAcAAABjb250ZXh0zwAAABAAAABkcmFnRXZlbnRzQnVmZmVysQAAABcAAABmaXhlZEN1cnNvckluU2NlbmVQb2ludLQAAAAEAAAAa2luZAAAAAASAAAAcGFpdGluZ1ZlY3RvclNoYXBl0AAAAAwAAABwcmVzc2VkUG9pbnSwAAAAFwEAAAAAAAAAAAAABwAAAAoAAABiZWdpblBvaW500gAAAAcAAABjb250ZXh0zwAAABAAAABkcmFnRXZlbnRzQnVmZmVysQAAABcAAABmaXhlZEN1cnNvckluU2NlbmVQb2ludLQAAAAEAAAAa2luZAAAAAASAAAAcGFpdGluZ1ZlY3RvclNoYXBl0AAAAAwAAABwcmVzc2VkUG9pbnSwAAAAGAEAAAAAAAAAAAAABgAAAAoAAABiZWdpblBvaW500gAAAAcAAABjb250ZXh0zwAAABAAAABkcmFnRXZlbnRzQnVmZmVysQAAAAQAAABraW5kAAAAABIAAABwYWl0aW5nVmVjdG9yU2hhcGXQAAAADAAAAHByZXNzZWRQb2ludLAAAAAZAQAAAAAAAAAAAAAPAAAACgAAAF9kaXJlY3Rpb24AAAAAEAAAAF9kaXNwbGF5Um90YXRpb24AAAAACQAAAF9wcm90b0tleQAAAAALAAAAYW5jaG9yUG9pbnTRAAAABwAAAGNvbnRleHQOAAAABgAAAGhlaWdodAAAAAASAAAAaGlnaGxpZ2h0QXV0aG9ySWRzJwAAAAoAAABpc1BhaW50aW5nAAAAAAQAAABraW5kAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAc3RhdGVNAAAABQAAAHdpZHRoAAAAABoBAAAAAAAAAAAAAA0AAAAQAAAAX2Rpc3BsYXlSb3RhdGlvbgAAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0DgAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAGAAAAbG9ja2VkAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAd2lkdGgAAAAAGwEAAAAAAAAAAAAAAAAAABwBAAAAAAAAAAAAAAUAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIcAAAABQAAAHNjZW5lAgAAAAYAAABzY2VuZXMSAAAACwAAAHRleHRhcmVhU2V0DwAAAB0BAAAAAAAAAAAAAAQAAAAIAAAAYm91bmRhcnkeAQAABgAAAGN1cnZlcx8BAAALAAAAZXh0cmFTdGV1cHMAAAAACQAAAGhlYWRQb2ludFcAAAAeAQAAAAAAAAAAAAAEAAAABgAAAGJvdHRvbQAAAAAEAAAAbGVmdAAAAAAFAAAAcmlnaHQAAAAAAwAAAHRvcAAAAAAfAQAAAAAAAFYAAAAAAAAAIAEAAAAAAAAAAAAAEgAAABAAAABfZGlzcGxheVJvdGF0aW9uAAAAAAcAAABfaGVpZ2h0AAAAAAgAAABfb3JpZ2luWAAAAAAIAAAAX29yaWdpblkAAAAACQAAAF9wcm90b0tleQAAAAAGAAAAX3dpZHRoAAAAAAgAAABhdXRob3JJZAAAAAAHAAAAY29udGV4dA4AAAAPAAAAY3VycmVudEJvdW5kYXJ5vgAAAAYAAABjdXJ2ZXO9AAAACwAAAGV4dHJhU3RldXBzAAAAAA0AAABmaXhlZEJvdW5kYXJ5vwAAAAkAAABoZWFkUG9pbnRXAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAAPAAAAaW5pdGlhbGl6ZWRTaXplpwAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAc3RhdGVNAAAAIQEAAAAAAABWAAAAAAAAACIBAAAAAAAAAAAAABkAAAAQAAAAX2Rpc3BsYXlSb3RhdGlvbgAAAAAHAAAAX2hlaWdodAAAAAAIAAAAX29yaWdpblgAAAAACAAAAF9vcmlnaW5ZAAAAAAkAAABfcHJvdG9LZXkAAAAABgAAAF93aWR0aAAAAAAIAAAAYXV0aG9ySWQAAAAABwAAAGNvbnRleHQOAAAADwAAAGN1cnJlbnRCb3VuZGFyeb4AAAAGAAAAY3VydmVzvQAAAAsAAABleHRyYVN0ZXVwcwAAAAANAAAAZml4ZWRCb3VuZGFyeb8AAAAJAAAAaGVhZFBvaW50VwAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAPAAAAaW5pdGlhbGl6ZWRTaXplpwAAAAYAAABsb2NrZWQAAAAABwAAAG9yaWdpblgAAAAABwAAAG9yaWdpblkAAAAACAAAAHJvdGF0aW9uAAAAAAoAAABzZWxlY3RhYmxlAAAAAAoAAABzZWxlY3RlZEJ5AAAAAAUAAABzdGF0ZU0AAAAFAAAAd2lkdGgAAAAAIwEAAAAAAABWAAAAAAAAACQBAAAAAAAAAAAAAAUAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIcAAAABQAAAHNjZW5lAgAAAAYAAABzY2VuZXMSAAAACwAAAHRleHRhcmVhU2V0DwAAACUBAAAAAAAAAAAAAAQAAAAGAAAAYm90dG9tAAAAAAQAAABsZWZ0AAAAAAUAAAByaWdodAAAAAADAAAAdG9wAAAAACYBAAAAAAAAVgAAAAAAAAAnAQAAAAAAAH8AAAAAAAAAKAEAAAAAAAAAAAAACgAAAAYAAABjdXJ2ZXMpAQAACwAAAGV4dHJhU3RldXBzAAAAAAkAAABoZWFkUG9pbnRXAAAABgAAAGhlaWdodAAAAAAPAAAAaW5pdGlhbGl6ZWRTaXplpwAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAgAAABwcm90b0tleQAAAAAFAAAAc3RhdGVNAAAABQAAAHdpZHRoAAAAACkBAAAAAAAAVgAAAAAAAAAqAQAAAAAAAAAAAAAGAAAABQAAAGJlZ2luAAAAAAMAAABlbmQAAAAABAAAAGVuZFgAAAAABAAAAGVuZFkAAAAABQAAAHVuaXRYAAAAAAUAAAB1bml0WQAAAAArAQAAAAAAAAAAAAAFAAAADAAAAF9wdXNoZWRDb3VudAAAAAANAAAAaHVtcFRocmVzaG9sZAAAAAAGAAAAcGxvdWdouwAAAAYAAABwb2ludHO6AAAADgAAAHdpZHRoVGhyZXNob2xkAAAAACwBAAAAAAAAVwAAAAAAAAAtAQAAAAAAAAAAAAABAAAACgAAAGNvbXBvbmVudHMuAQAALgEAAAAAAAAvAQAAAAAAAC8BAAAAAAAAAAAAAA0AAAAQAAAAX2Rpc3BsYXlSb3RhdGlvbgAAAAAJAAAAX3Byb3RvS2V5AAAAAAcAAABjb250ZXh0DgAAAAYAAABoZWlnaHQAAAAAEgAAAGhpZ2hsaWdodEF1dGhvcklkcycAAAATAAAAaGl0VGVzdGluZ0JveE1hcmdpbgAAAAAGAAAAbG9ja2VkAAAAAAcAAABvcmlnaW5YAAAAAAcAAABvcmlnaW5ZAAAAAAgAAAByb3RhdGlvbgAAAAAKAAAAc2VsZWN0YWJsZQAAAAAKAAAAc2VsZWN0ZWRCeQAAAAAFAAAAd2lkdGgAAAAAMAEAAAAAAAAAAAAABQAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YhwAAAAFAAAAc2NlbmUCAAAABgAAAHNjZW5lcxIAAAALAAAAdGV4dGFyZWFTZXQPAAAAMQEAAAAAAAAAAAAABQAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YhwAAAAFAAAAc2NlbmUCAAAABgAAAHNjZW5lcxIAAAALAAAAdGV4dGFyZWFTZXQPAAAAMgEAAAAAAAAAAAAAAwAAAAcAAABjb250ZXh0MwEAABIAAABoaWdobGlnaHRBdXRob3JJZHM0AQAACgAAAHNlbGVjdGVkQnkAAAAAMwEAAAAAAAAAAAAABQAAAAoAAABkZXZpY2VUeXBlAAAAAAsAAABleGVjdXRvckh1YhwAAAAFAAAAc2NlbmUCAAAABgAAAHNjZW5lcxIAAAALAAAAdGV4dGFyZWFTZXQPAAAANAEAAAAAAAAAAAAAAAAAADUBAAAAAAAAAAAAAAMAAAAQAAAAZHJhZ0V2ZW50c0J1ZmZlcrEAAAAXAAAAZml4ZWRDdXJzb3JJblNjZW5lUG9pbnS0AAAADAAAAHByZXNzZWRQb2ludLAAAAA2AQAAAAAAAAAAAAAAAAAANwEAAAAAAAAAAAAAAwAAAAUAAABjb2xvcg0AAAAJAAAAaGlnaGxpZ2h0AAAAAAoAAABzZWxlY3RlZEJ5AAAAADgBAAAAAAAAAAAAAAQAAAAHAAAAYmVsb25ncwAAAAAFAAAAY29sb3INAAAACgAAAGlzRHJhZ2dpbmcAAAAADgAAAGlzVW5pZm9ybVNjYWxlAAAAADkBAAAAAAAAAAAAAAIAAAAHAAAAYmVsb25ncwAAAAAFAAAAY29sb3INAAAAOgEAAAAAAAAAAAAABgAAAAUAAABjb2xvcg0AAAAGAAAAbWFyZ2luAAAAAAwAAABvcmlnaW5hbFRleHQAAAAABQAAAHNjYWxlAAAAAAkAAAB0ZXh0Q29sb3INAAAACAAAAHRleHRTaXplAAAAADsBAAAAAAAAAAAAAAUAAAAFAAAAY29sb3INAAAACAAAAGVkaXRvcklkAAAAAAsAAABpbmZvcm1hdGlvbjwBAAAGAAAAbWFyZ2luAAAAAAgAAAB0ZXh0U2l6ZQAAAAA8AQAAAAAAAAAAAAADAAAAAgAAAGlkAAAAAAcAAABwYXlsb2FkAAAAAAcAAABzZXNzaW9uAAAAAD0BAAAAAAAAAAAAAAUAAAAIAAAAZWRpdGFibGU3AQAABgAAAGVkaXRvcjgBAAAGAAAAbXlUZXh0OgEAAAkAAABvdGhlclRleHQ7AQAADQAAAHNlbGVjdGVkR3JvdXA5AQAAPgEAAAAAAAAAAAAACAAAAAwAAABfZ2xvYmFsU3RhdGVSAAAADAAAAF90ZXh0YXJlYVNldFMAAAAYAAAAYWRtaW5PYnNlcnZlck1lbWJlclN0YXRlTQAAABYAAABpbnZpc2libGVQbHVnaW5NYW5hZ2VyLAAAAA4AAABtZW1iZXJzTWFuYWdlckMAAAANAAAAb3ZlcnJpZGVTY2VuZVQAAAANAAAAcGx1Z2luTWFuYWdlckIAAAAGAAAAc2NlbmVzQQAAAD8BAAAAAAAAAAAAAAUAAAAKAAAAZ3JvdXBzTGlzdBUAAAAJAAAAZ3JvdXBzTWFwFwAAAAQAAABuYW1lAAAAAAoAAABzY2VuZXNMaXN0GQAAAAkAAABzY2VuZXNNYXAaAAAAQAEAAAAAAAAAAAAAAwAAAAwAAABfY3VycmVudFBhdGgbAAAADgAAAHJvb3RTY2VuZUdyb3VwFAAAAAoAAABzY2VuZU5vZGVzEwAAAEEBAAAAAAAAAAAAAAAAAABCAQAAAAAAAAAAAAAAAAAAQwEAAAAAAAAAAAAAAAAAAEQBAAAAAAAAAAAAAAUAAAAKAAAAZ3JvdXBzTGlzdBUAAAAJAAAAZ3JvdXBzTWFwFwAAAAQAAABuYW1lAAAAAAoAAABzY2VuZXNMaXN0GQAAAAkAAABzY2VuZXNNYXAaAAAARQEAAAAAAAAAAAAAAAAAAEYBAAAAAAAARwEAAAAAAABHAQAAAAAAAAAAAAAAAAAASAEAAAAAAAAAAAAABQAAAAoAAABncm91cHNMaXN0FQAAAAkAAABncm91cHNNYXAXAAAABAAAAG5hbWUAAAAACgAAAHNjZW5lc0xpc3QZAAAACQAAAHNjZW5lc01hcBoAAABJAQAAAAAAAAAAAAAAAAAASgEAAAAAAAAAAAAABQAAAAoAAABncm91cHNMaXN0FQAAAAkAAABncm91cHNNYXAXAAAABAAAAG5hbWUAAAAACgAAAHNjZW5lc0xpc3QZAAAACQAAAHNjZW5lc01hcBoAAABLAQAAAAAAAAAAAAAAAAAATAEAAAAAAAAAAAAAAAAAAE0BAAAAAAAAAAAAAAAAAABOAQAAAAAAAAAAAAAAAAAATwEAAAAAAAAAAAAABQAAAAoAAABncm91cHNMaXN0FQAAAAkAAABncm91cHNNYXAXAAAABAAAAG5hbWUAAAAACgAAAHNjZW5lc0xpc3QZAAAACQAAAHNjZW5lc01hcBoAAABQAQAAAAAAAAAAAAAAAAAAUQEAAAAAAAAAAAAAAAAAAFIBAAAAAAAAAAAAAAUAAAAKAAAAZ3JvdXBzTGlzdBUAAAAJAAAAZ3JvdXBzTWFwFwAAAAQAAABuYW1lAAAAAAoAAABzY2VuZXNMaXN0GQAAAAkAAABzY2VuZXNNYXAaAAAAUwEAAAAAAAAAAAAAAAAAAFQBAAAAAAAAAAAAAAAAAABVAQAAAAAAAAAAAAAAAAAAVgEAAAAAAAAAAAAAAAAAAFcBAAAAAAAAAAAAAAAAAABYAQAAAAAAAAAAAAAAAAAAWQEAAAAAAAAAAAAABQAAAAoAAABncm91cHNMaXN0FQAAAAkAAABncm91cHNNYXAXAAAABAAAAG5hbWUAAAAACgAAAHNjZW5lc0xpc3QZAAAACQAAAHNjZW5lc01hcBoAAABaAQAAAAAAAAAAAAAAAAAAWwEAAAAAAAAAAAAABQAAAAQAAABfc3JjAAAAAAYAAABoZWlnaHQAAAAACgAAAHByZXZpZXdVUkwAAAAACAAAAHJvdGF0aW9uAAAAAAUAAAB3aWR0aAAAAABcAQAAAAAAAAAAAAAFAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViHAAAAAUAAABzY2VuZQIAAAAGAAAAc2NlbmVzEgAAAAsAAAB0ZXh0YXJlYVNldA8AAABdAQAAAAAAAAAAAAAFAAAACgAAAGRldmljZVR5cGUAAAAACwAAAGV4ZWN1dG9ySHViHAAAAAUAAABzY2VuZQIAAAAGAAAAc2NlbmVzEgAAAAsAAAB0ZXh0YXJlYVNldA8AAABeAQAAAAAAAAAAAAAAAAAAXwEAAAAAAAAAAAAAAAAAAGABAAAAAAAAAAAAAAUAAAAKAAAAZGV2aWNlVHlwZQAAAAALAAAAZXhlY3V0b3JIdWIcAAAABQAAAHNjZW5lAgAAAAYAAABzY2VuZXMSAAAACwAAAHRleHRhcmVhU2V0DwAAAA==",
                  formatHash: "9518d807f69fe23d2e1d5f02a97a0b22",
                  classes: {
                      0: {
                          objectFormatId: 40,
                          members: [
                              { name: "set", mode: "value", type: "property", isPublic: !1 },
                              { name: "registerTextarea", type: "method", isPublic: !0, parameters: [2, 43] },
                              { name: "fireRemoveComponent", type: "method", isPublic: !0, parameters: [42] },
                              { name: "completeAllEditedBy", type: "method", isPublic: !0, parameters: [0] },
                              { name: "completeAllOnScene", type: "method", isPublic: !0, parameters: [2] },
                              { name: "complete", type: "method", isPublic: !1, parameters: [2, 41] },
                          ],
                      },
                      1: {
                          objectFormatId: 44,
                          members: [
                              { name: "plugins", mode: "value", type: "property", isPublic: !1 },
                              { name: "memberPlugins", mode: "value", type: "property", isPublic: !1 },
                              { name: "getKinds", type: "method", isPublic: !0, parameters: [] },
                              { name: "hasKind", type: "method", isPublic: !0, parameters: [0] },
                              { name: "put", type: "method", isPublic: !0, parameters: [0, 52] },
                              { name: "remove", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getAttributes", type: "method", isPublic: !0, parameters: [0, 50] },
                              { name: "updateAttributes", type: "method", isPublic: !0, parameters: [0, 54] },
                              { name: "updateAttributesWithKeys", type: "method", isPublic: !0, parameters: [0, 53, 0] },
                              { name: "getMemberAttributes", type: "method", isPublic: !0, parameters: [0, 0, 51] },
                              { name: "updateMemberAttributes", type: "method", isPublic: !0, parameters: [0, 0, 56] },
                              { name: "updateMemberAttributesWithKeys", type: "method", isPublic: !0, parameters: [0, 0, 55, 0] },
                              { name: "removeMember", type: "method", isPublic: !0, parameters: [0] },
                          ],
                      },
                      2: {
                          objectFormatId: 57,
                          members: [
                              { name: "hitTestingBoxMargin", mode: "value", type: "property", isPublic: !0 },
                              { name: "kind", mode: "value", type: "property", isPublic: !0 },
                              { name: "originX", mode: "value", type: "property", isPublic: !0 },
                              { name: "originY", mode: "value", type: "property", isPublic: !0 },
                              { name: "width", mode: "value", type: "property", isPublic: !0 },
                              { name: "height", mode: "value", type: "property", isPublic: !0 },
                              { name: "selectable", mode: "value", type: "property", isPublic: !0 },
                              { name: "locked", mode: "value", type: "property", isPublic: !0 },
                              { name: "attributes", mode: "value", type: "property", isPublic: !0 },
                              { name: "manager", mode: "value", type: "property", isPublic: !1 },
                              { name: "isPressed", mode: "readonly", type: "property", isPublic: !0 },
                          ],
                      },
                      3: {
                          objectFormatId: 62,
                          members: [
                              { name: "context", mode: "value", type: "property", isPublic: !0 },
                              { name: "pressedMembers", mode: "value", type: "property", isPublic: !1 },
                              { name: "isPressed", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "isPressed", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "insert", type: "method", isPublic: !0, parameters: [0, 61] },
                              { name: "get", type: "method", isPublic: !0, parameters: [0] },
                              { name: "list", type: "method", isPublic: !0, parameters: [] },
                              { name: "remove", type: "method", isPublic: !0, parameters: [0] },
                              { name: "update", type: "method", isPublic: !0, parameters: [0, 61] },
                              { name: "updatePlugin", type: "method", isPublic: !1, parameters: [63, 61] },
                          ],
                      },
                      4: {
                          objectFormatId: 64,
                          members: [
                              { name: "scenes", mode: "value", type: "property", isPublic: !0 },
                              { name: "pluginManager", mode: "value", type: "property", isPublic: !1 },
                              { name: "invisiblePluginManager", mode: "value", type: "property", isPublic: !1 },
                              { name: "membersManager", mode: "value", type: "property", isPublic: !1 },
                              { name: "adminObserverMemberState", mode: "value", type: "property", isPublic: !1 },
                              { name: "_globalState", mode: "value", type: "property", isPublic: !1 },
                              { name: "_textareaSet", mode: "value", type: "property", isPublic: !1 },
                              { name: "overrideScene", mode: "value", type: "property", isPublic: !1 },
                              { name: "deviceType", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "textareaSet", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "enableAssignScene", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "scene", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "executorHub", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "enableExecute", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "createConstructors", type: "method", isPublic: !1, parameters: [] },
                              { name: "createMemberState", type: "method", isPublic: !1, parameters: [13] },
                              { name: "exportSceneSnapshot", type: "method", isPublic: !0, parameters: [93] },
                              { name: "getSceneFromFile", type: "method", isPublic: !0, parameters: [0] },
                              { name: "base64ToArrayBuffer", type: "method", isPublic: !1, parameters: [0] },
                              { name: "importSceneSnapshot", type: "method", isPublic: !0, parameters: [102, 0] },
                              { name: "createAppliances", type: "method", isPublic: !1, parameters: [] },
                              { name: "onMemberEnterRoom", type: "method", isPublic: !1, parameters: [0, 0] },
                              { name: "onMemberLeaveRoom", type: "method", isPublic: !1, parameters: [] },
                              { name: "onOthersEvent", type: "method", isPublic: !1, parameters: [0, 0, 0] },
                              { name: "checkPathKind", type: "method", isPublic: !0, parameters: [90] },
                              { name: "collectNewPencilCurves", type: "method", isPublic: !0, parameters: [0, 0, 0, 0, 0] },
                              { name: "updateNewPencilCurves", type: "method", isPublic: !0, parameters: [125, 0, 0, 0, 0] },
                              { name: "notifyThatSceneChanged", type: "method", isPublic: !0, parameters: [106] },
                              { name: "changeScene", type: "method", isPublic: !0, parameters: [89] },
                              { name: "putScenes", type: "method", isPublic: !0, parameters: [112, 113, 0] },
                              { name: "removeScenes", type: "method", isPublic: !0, parameters: [116] },
                              { name: "moveScene", type: "method", isPublic: !0, parameters: [104, 105] },
                              { name: "insertImage", type: "method", isPublic: !0, parameters: [103, 0] },
                              { name: "lockImage", type: "method", isPublic: !0, parameters: [0, 0, 0] },
                              { name: "lockImages", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "updatePencilColor", type: "method", isPublic: !0, parameters: [13, 0] },
                              { name: "updateShapeColor", type: "method", isPublic: !0, parameters: [13, 0] },
                              { name: "updateShapeFillColor", type: "method", isPublic: !0, parameters: [130, 0] },
                              { name: "completeImageUpload", type: "method", isPublic: !0, parameters: [0, 0, 0] },
                              { name: "setImageLock", type: "method", isPublic: !0, parameters: [0, 0, 0] },
                              { name: "getImageWith", type: "method", isPublic: !1, parameters: [0] },
                              { name: "setGlobalState", type: "method", isPublic: !0, parameters: [0] },
                              { name: "updateGlobalState", type: "method", isPublic: !0, parameters: [121, 0] },
                              { name: "setMemberState", type: "method", isPublic: !0, parameters: [0] },
                              { name: "setMemberStateWithCommitter", type: "method", isPublic: !0, parameters: [0] },
                              { name: "updateMemberState", type: "method", isPublic: !0, parameters: [124, 0] },
                              { name: "setViewState", type: "method", isPublic: !0, parameters: [0] },
                              { name: "updateTextareaFormat", type: "method", isPublic: !0, parameters: [0, 131, 0] },
                              { name: "updateTextareaScale", type: "method", isPublic: !0, parameters: [0] },
                              { name: "updateTextareaFontSize", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "insertTextarea", type: "method", isPublic: !0, parameters: [0, 0, 0] },
                              { name: "updateTextarea", type: "method", isPublic: !0, parameters: [7, 0, 0] },
                              { name: "hasEditingTextarea", type: "method", isPublic: !0, parameters: [] },
                              { name: "releaseAllTextarea", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "getScene", type: "method", isPublic: !0, parameters: [101] },
                              { name: "getCurrentScenePath", type: "method", isPublic: !0, parameters: [] },
                              { name: "getAllScenePaths", type: "method", isPublic: !0, parameters: [] },
                              { name: "getSceneNames", type: "method", isPublic: !0, parameters: [100] },
                              { name: "getSceneGroupNames", type: "method", isPublic: !0, parameters: [99] },
                              { name: "getInformationWithMemberId", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getAppliance", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "getMemberState", type: "method", isPublic: !0, parameters: [0, 98] },
                              { name: "getMemberIdWithUserId", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getBroadcasterId", type: "method", isPublic: !0, parameters: [] },
                              { name: "getGlobalState", type: "method", isPublic: !0, parameters: [95] },
                              { name: "getMemberDisplayers", type: "method", isPublic: !0, parameters: [] },
                              { name: "getMemberIds", type: "method", isPublic: !0, parameters: [] },
                              { name: "getCursorState", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getViewState", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getMemberInformation", type: "method", isPublic: !0, parameters: [0] },
                              { name: "searchPencilCurves", type: "method", isPublic: !0, parameters: [117, 0] },
                              { name: "getImagesInformation", type: "method", isPublic: !0, parameters: [96] },
                              { name: "setEnableExecute", type: "method", isPublic: !0, parameters: [0] },
                              { name: "execute", type: "method", isPublic: !0, parameters: [92, 0] },
                              { name: "onMouseDown", type: "method", isPublic: !0, parameters: [108, 0] },
                              { name: "onMouseMove", type: "method", isPublic: !0, parameters: [108, 0] },
                              { name: "onMouseUp", type: "method", isPublic: !0, parameters: [108, 0] },
                              { name: "onMouseLeave", type: "method", isPublic: !0, parameters: [108, 0] },
                              { name: "onKeyDown", type: "method", isPublic: !0, parameters: [107, 0] },
                              { name: "onKeyUp", type: "method", isPublic: !0, parameters: [107, 0] },
                              { name: "delete", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "duplicate", type: "method", isPublic: !0, parameters: [0, 0, 0] },
                              { name: "copy", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "paste", type: "method", isPublic: !0, parameters: [0, 0, 0, 0] },
                              { name: "createBezierCurve", type: "method", isPublic: !0, parameters: [91, 0] },
                              { name: "appendBezierCurveTail", type: "method", isPublic: !0, parameters: [85, 0] },
                              { name: "updateBezierCurveTail", type: "method", isPublic: !0, parameters: [86, 0] },
                              { name: "splitBezierCurveTail", type: "method", isPublic: !0, parameters: [118, 0] },
                              { name: "addBezierCurveExtraSteups", type: "method", isPublic: !0, parameters: [] },
                              { name: "completePencilPainting", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "cancelPencilPainting", type: "method", isPublic: !0, parameters: [0, 0, 0] },
                              { name: "beginPencilCircular", type: "method", isPublic: !0, parameters: [0, 0, 0] },
                              { name: "movePencilCircular", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "completePencilCircular", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "cleanCurrentScene", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "getPlugin", type: "method", isPublic: !0, parameters: [0] },
                              { name: "listPlugins", type: "method", isPublic: !0, parameters: [] },
                              { name: "getInvisiblePluginKinds", type: "method", isPublic: !0, parameters: [] },
                              { name: "hasInvisibilePluginKind", type: "method", isPublic: !0, parameters: [0] },
                              { name: "insertPlugin", type: "method", isPublic: !0, parameters: [0, 61, 0] },
                              { name: "removePlugin", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "updatePlugin", type: "method", isPublic: !0, parameters: [0, 61, 0] },
                              { name: "putInvisiblePlugin", type: "method", isPublic: !0, parameters: [0, 111] },
                              { name: "removeInvisiblePlugin", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getAttributesWithInvisiblePlugin", type: "method", isPublic: !0, parameters: [0, 94] },
                              { name: "updateAttributesInvisiblePlugin", type: "method", isPublic: !0, parameters: [0, 120] },
                              { name: "updateAttributesInvisiblePluginWithKeys", type: "method", isPublic: !0, parameters: [0, 119, 0] },
                              { name: "getMemberAttributes", type: "method", isPublic: !0, parameters: [0, 97, 0] },
                              { name: "updateMemberAttributes", type: "method", isPublic: !0, parameters: [0, 122] },
                              { name: "updateMemberAttrubtesWithKeys", type: "method", isPublic: !0, parameters: [0, 123, 0] },
                              { name: "moveSelectedComponentsToTop", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "moveSelectedComponentsToBottom", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "getPluginManager", type: "method", isPublic: !1, parameters: [] },
                              { name: "getInvisiblePluginManager", type: "method", isPublic: !1, parameters: [] },
                              { name: "takeCommit", type: "method", isPublic: !1, parameters: [] },
                              { name: "assignScene", type: "method", isPublic: !1, parameters: [0, 0] },
                          ],
                      },
                      5: {
                          objectFormatId: 136,
                          members: [
                              { name: "context", mode: "value", type: "property", isPublic: !1 },
                              { name: "commiter", mode: "value", type: "property", isPublic: !1 },
                              { name: "_enable", mode: "value", type: "property", isPublic: !1 },
                              { name: "enable", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "enable", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "commit", type: "method", isPublic: !0, parameters: [0, 32, 32] },
                              { name: "takeCommit", type: "method", isPublic: !0, parameters: [] },
                              { name: "execute", type: "method", isPublic: !0, parameters: [137] },
                              { name: "executeOne", type: "method", isPublic: !1, parameters: [0, 32] },
                              { name: "findComponent", type: "method", isPublic: !1, parameters: [0, 2] },
                          ],
                      },
                      6: {
                          objectFormatId: 5,
                          members: [
                              { name: "hitTestingBoxMargin", mode: "value", type: "property", isPublic: !0 },
                              { name: "originX", mode: "value", type: "property", isPublic: !0 },
                              { name: "originY", mode: "value", type: "property", isPublic: !0 },
                              { name: "width", mode: "value", type: "property", isPublic: !0 },
                              { name: "height", mode: "value", type: "property", isPublic: !0 },
                              { name: "rotation", mode: "value", type: "property", isPublic: !0 },
                              { name: "key", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "identifier", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "rectHitTestContent", type: "method", isPublic: !1, parameters: [0, 0, 0, 0, 0, 0] },
                              { name: "rectHitTest", type: "method", isPublic: !0, parameters: [0, 0, 0, 0] },
                              { name: "rectangleTester", type: "method", isPublic: !1, parameters: [0] },
                          ],
                      },
                      7: {
                          objectFormatId: 138,
                          members: [
                              { name: "components", mode: "value", type: "property", isPublic: !0 },
                              { name: "componentsLength", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "componentAt", type: "method", isPublic: !0, parameters: [0] },
                              { name: "addComponent", type: "method", isPublic: !0, parameters: [5] },
                              { name: "addComponentAt", type: "method", isPublic: !0, parameters: [5, 0] },
                              { name: "indexOfComponent", type: "method", isPublic: !0, parameters: [5] },
                              { name: "removeComponent", type: "method", isPublic: !0, parameters: [5] },
                              { name: "forEachComponents", type: "method", isPublic: !0, parameters: [0] },
                              { name: "componentsWithFilter", type: "method", isPublic: !0, parameters: [0] },
                              { name: "findComponentFromBottom", type: "method", isPublic: !0, parameters: [0] },
                              { name: "findComponentFromTop", type: "method", isPublic: !0, parameters: [0] },
                              { name: "removeComponentAt", type: "method", isPublic: !0, parameters: [0] },
                              { name: "moveComponentsToIndex", type: "method", isPublic: !0, parameters: [139, 0] },
                          ],
                      },
                      8: {
                          objectFormatId: 141,
                          members: [
                              { name: "isRtcConnected", mode: "value", type: "property", isPublic: !0 },
                              { name: "_memberId", mode: "value", type: "property", isPublic: !1 },
                              { name: "_deviceType", mode: "value", type: "property", isPublic: !1 },
                              { name: "_information", mode: "value", type: "property", isPublic: !1 },
                              { name: "executorHub", mode: "value", type: "property", isPublic: !1 },
                              { name: "appliances", mode: "value", type: "property", isPublic: !1 },
                              { name: "cursorX", mode: "value", type: "property", isPublic: !1 },
                              { name: "cursorY", mode: "value", type: "property", isPublic: !1 },
                              { name: "memberState", mode: "value", type: "property", isPublic: !1 },
                              { name: "viewState", mode: "value", type: "property", isPublic: !1 },
                              { name: "isPressed", mode: "value", type: "property", isPublic: !1 },
                              { name: "isCursorInScene", mode: "value", type: "property", isPublic: !1 },
                              { name: "information", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "memberId", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "deviceType", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "currentAppliance", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "getViewState", type: "method", isPublic: !0, parameters: [] },
                              { name: "getCursorState", type: "method", isPublic: !0, parameters: [] },
                              { name: "getAppliance", type: "method", isPublic: !0, parameters: [0] },
                              { name: "setViewMode", type: "method", isPublic: !0, parameters: [0] },
                              { name: "notifyThatSceneChanged", type: "method", isPublic: !0, parameters: [142] },
                              { name: "getMemberState", type: "method", isPublic: !0, parameters: [] },
                              { name: "getExecutorHub", type: "method", isPublic: !0, parameters: [] },
                              { name: "setCursor", type: "method", isPublic: !0, parameters: [0, 0, 0, 0] },
                              { name: "changeToFollower", type: "method", isPublic: !0, parameters: [134] },
                              { name: "setMemberState", type: "method", isPublic: !0, parameters: [0] },
                              { name: "updateMemberState", type: "method", isPublic: !0, parameters: [143, 0] },
                              { name: "setViewState", type: "method", isPublic: !0, parameters: [0] },
                              { name: "dispatchMagixEvent", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "destroy", type: "method", isPublic: !0, parameters: [] },
                          ],
                      },
                      9: {
                          objectFormatId: 149,
                          members: [
                              { name: "scenes", mode: "value", type: "property", isPublic: !1 },
                              { name: "initiativeColors", mode: "value", type: "property", isPublic: !1 },
                              { name: "membersMap", mode: "value", type: "property", isPublic: !1 },
                              { name: "directorId", mode: "value", type: "property", isPublic: !1 },
                              { name: "broadcasterId", mode: "value", type: "property", isPublic: !1 },
                              { name: "isMemberExits", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getBroadcasterId", type: "method", isPublic: !0, parameters: [] },
                              { name: "findMemberIdWithUserId", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getInformationWithMemberId", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getMemberDisplayers", type: "method", isPublic: !0, parameters: [] },
                              { name: "getMemberIds", type: "method", isPublic: !0, parameters: [] },
                              { name: "getCursorState", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getMemberInformation", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getViewState", type: "method", isPublic: !0, parameters: [0] },
                              { name: "memberEnter", type: "method", isPublic: !0, parameters: [150] },
                              { name: "enterMemberViewState", type: "method", isPublic: !1, parameters: [] },
                              { name: "memberLeave", type: "method", isPublic: !0, parameters: [0] },
                              { name: "updateDirector", type: "method", isPublic: !1, parameters: [] },
                              { name: "getDeviceType", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getMemberState", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getExecutorHub", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getMemberIdWithUserId", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getDefaultViewState", type: "method", isPublic: !1, parameters: [] },
                              { name: "setMemberState", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "updateMemberState", type: "method", isPublic: !0, parameters: [0, 153, 0] },
                              { name: "setViewState", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "setCursor", type: "method", isPublic: !0, parameters: [0, 0, 0, 0, 0] },
                              { name: "setRtcState", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "dispatchMagixEvent", type: "method", isPublic: !0, parameters: [0, 0, 0] },
                              { name: "notifyAllThatSceneChanged", type: "method", isPublic: !0, parameters: [151] },
                              { name: "notifyThatSceneChanged", type: "method", isPublic: !0, parameters: [152] },
                              { name: "getAppliance", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "currentAppliance", type: "method", isPublic: !0, parameters: [0] },
                              { name: "cancelBroadcaster", type: "method", isPublic: !1, parameters: [] },
                              { name: "becomeNewBroadcast", type: "method", isPublic: !1, parameters: [0] },
                              { name: "broadcastViewToAllRoom", type: "method", isPublic: !1, parameters: [] },
                              { name: "initiativeColor", type: "method", isPublic: !0, parameters: [] },
                              { name: "anyMemberHasColor", type: "method", isPublic: !1, parameters: [13] },
                              { name: "isColorEquals", type: "method", isPublic: !1, parameters: [13, 13] },
                              { name: "compareDirector", type: "method", isPublic: !1, parameters: [0, 0] },
                          ],
                      },
                      10: {
                          objectFormatId: 160,
                          members: [
                              { name: "points", mode: "value", type: "property", isPublic: !1 },
                              { name: "pushPoint", type: "method", isPublic: !0, parameters: [91] },
                              { name: "pointHitTest", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "rectHitTest", type: "method", isPublic: !0, parameters: [0, 0, 0, 0] },
                              { name: "findCrossPoint", type: "method", isPublic: !1, parameters: [91, 91, 91, 91] },
                              { name: "isCrossPointBetweenSegment", type: "method", isPublic: !1, parameters: [91, 91, 91] },
                          ],
                      },
                      11: {
                          objectFormatId: 162,
                          members: [
                              { name: "pointHitTest", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "rectHitTest", type: "method", isPublic: !0, parameters: [0, 0, 0, 0] },
                              { name: "checkCrossVertical", type: "method", isPublic: !1, parameters: [0, 0, 0] },
                              { name: "checkCrossHorizontal", type: "method", isPublic: !1, parameters: [0, 0, 0] },
                              { name: "checkCrossGeometrical", type: "method", isPublic: !1, parameters: [0, 0, 0] },
                          ],
                      },
                      12: {
                          objectFormatId: 163,
                          members: [
                              { name: "points", mode: "value", type: "property", isPublic: !1 },
                              { name: "pushPoint", type: "method", isPublic: !0, parameters: [91] },
                              { name: "hitTest", type: "method", isPublic: !0, parameters: [0, 0, 0] },
                              { name: "hitAnySegments", type: "method", isPublic: !1, parameters: [0, 0, 0] },
                              { name: "hitAnyNodeCircles", type: "method", isPublic: !1, parameters: [0, 0, 0] },
                          ],
                      },
                      13: {
                          objectFormatId: 165,
                          members: [
                              { name: "testPoint", type: "method", isPublic: !0, parameters: [0, 0, 0, 0, 0, 0] },
                              { name: "iterate", type: "method", isPublic: !0, parameters: [0, 0, 0, 0, 0] },
                              { name: "allPoints", type: "method", isPublic: !0, parameters: [0, 0, 0, 0] },
                              { name: "testRect", type: "method", isPublic: !0, parameters: [0, 0, 0, 0, 0, 0, 0, 0] },
                              { name: "testSegment", type: "method", isPublic: !1, parameters: [0, 0, 0, 0] },
                          ],
                      },
                      14: {
                          objectFormatId: 166,
                          members: [
                              { name: "beginVector", mode: "value", type: "property", isPublic: !1 },
                              { name: "endVector", mode: "value", type: "property", isPublic: !1 },
                              { name: "hitTest", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "radiusIncrement", type: "method", isPublic: !1, parameters: [0, 0] },
                          ],
                      },
                      15: { objectFormatId: 214, members: [{ name: "fixedCursorInScenePoint", mode: "readonly", type: "property", isPublic: !0 }] },
                      16: {
                          objectFormatId: 218,
                          members: [
                              { name: "belongsToUserId", mode: "value", type: "property", isPublic: !0 },
                              { name: "isShiftPress", mode: "value", type: "property", isPublic: !0 },
                              { name: "draggingContext", mode: "value", type: "property", isPublic: !0 },
                              { name: "context", mode: "value", type: "property", isPublic: !0 },
                              { name: "rectangle", mode: "value", type: "property", isPublic: !1 },
                              { name: "rectangleWithHitMargin", mode: "value", type: "property", isPublic: !1 },
                              { name: "operatePoint", mode: "value", type: "property", isPublic: !1 },
                              { name: "_isLocked", mode: "value", type: "property", isPublic: !1 },
                              { name: "isOnlyHasUniformScaleShape", mode: "value", type: "property", isPublic: !1 },
                              { name: "includeComponentNodes", mode: "value", type: "property", isPublic: !1 },
                              { name: "isLocked", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "isRotable", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "onlyOneVector", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "hitTestingBoxMargin", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "originX", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "originY", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "width", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "height", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "isUniformScale", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "includeComponents", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "tryToStartEdit", type: "method", isPublic: !0, parameters: [0, 0, 109] },
                              { name: "hitTest", type: "method", isPublic: !0, parameters: [0, 0, 227] },
                              { name: "findOperationPointWithTargetId", type: "method", isPublic: !1, parameters: [0] },
                              { name: "dragToPoint", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "dragToPointByRotation", type: "method", isPublic: !1, parameters: [0, 0] },
                              { name: "dragVectorPoint", type: "method", isPublic: !1, parameters: [0, 0] },
                              { name: "dragToPointByScale", type: "method", isPublic: !1, parameters: [0, 0] },
                              { name: "findDraggingTargetPoint", type: "method", isPublic: !1, parameters: [0, 0] },
                              { name: "updateRectangleWithDraggingTargetPoint", type: "method", isPublic: !1, parameters: [87] },
                              { name: "refreshIncludesComponentsPositionAndSize", type: "method", isPublic: !1, parameters: [] },
                              { name: "completeEdit", type: "method", isPublic: !0, parameters: [] },
                              { name: "completeRotation", type: "method", isPublic: !1, parameters: [0] },
                              { name: "commitUpdateRectangle", type: "method", isPublic: !0, parameters: [224] },
                              { name: "refreshRectangleByIncludesComponents", type: "method", isPublic: !0, parameters: [] },
                              { name: "refreshWithIncludesComponents", type: "method", isPublic: !0, parameters: [229] },
                              { name: "findLockedComponent", type: "method", isPublic: !1, parameters: [225] },
                              { name: "refreshRectangleWithHitMargin", type: "method", isPublic: !1, parameters: [] },
                              { name: "findRectangleIncludePoints", type: "method", isPublic: !1, parameters: [0] },
                              { name: "isEnableProportionalScaling", type: "method", isPublic: !1, parameters: [228] },
                          ],
                      },
                      17: {
                          objectFormatId: 234,
                          members: [
                              { name: "context", mode: "value", type: "property", isPublic: !1 },
                              { name: "paintingEllipseShape", mode: "value", type: "property", isPublic: !1 },
                              { name: "beginPoint", mode: "value", type: "property", isPublic: !1 },
                              { name: "isCenterMode", mode: "value", type: "property", isPublic: !1 },
                              { name: "isShiftPress", mode: "value", type: "property", isPublic: !1 },
                              { name: "isCommandPress", mode: "value", type: "property", isPublic: !1 },
                              { name: "latestDragX", mode: "value", type: "property", isPublic: !1 },
                              { name: "latestDragY", mode: "value", type: "property", isPublic: !1 },
                              { name: "fixedCursorInScenePoint", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "onKeyUp", type: "method", isPublic: !0, parameters: [107] },
                              { name: "onKeyDown", type: "method", isPublic: !0, parameters: [107] },
                              { name: "onSceneChanged", type: "method", isPublic: !0, parameters: [] },
                              { name: "onDraggingStateChanged", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onDrag", type: "method", isPublic: !1, parameters: [108] },
                              { name: "refreshPaintingEllipseShape", type: "method", isPublic: !1, parameters: [] },
                              { name: "refreshCenterMode", type: "method", isPublic: !1, parameters: [] },
                              { name: "refreshLeftTopMode", type: "method", isPublic: !1, parameters: [] },
                              { name: "onDestroy", type: "method", isPublic: !0, parameters: [] },
                          ],
                      },
                      18: {
                          objectFormatId: 235,
                          members: [
                              { name: "originX", mode: "value", type: "property", isPublic: !0 },
                              { name: "originY", mode: "value", type: "property", isPublic: !0 },
                              { name: "width", mode: "value", type: "property", isPublic: !0 },
                              { name: "height", mode: "value", type: "property", isPublic: !0 },
                              { name: "state", mode: "value", type: "property", isPublic: !0 },
                              { name: "isPainting", mode: "value", type: "property", isPublic: !1 },
                              { name: "dottedLine", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "selectable", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "showCenter", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "hitTestingBoxMargin", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "locked", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "completePainting", type: "method", isPublic: !0, parameters: [] },
                              { name: "rectHitTestContent", type: "method", isPublic: !1, parameters: [0, 0, 0, 0, 0, 0] },
                              { name: "outerEllipseTester", type: "method", isPublic: !1, parameters: [0] },
                              { name: "innerEllipseTester", type: "method", isPublic: !1, parameters: [0] },
                          ],
                      },
                      19: {
                          objectFormatId: 236,
                          members: [
                              { name: "context", mode: "value", type: "property", isPublic: !1 },
                              { name: "fixedCursorInScenePoint", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "onHover", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onClick", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onDrag", type: "method", isPublic: !1, parameters: [108] },
                          ],
                      },
                      20: {
                          objectFormatId: 237,
                          members: [
                              { name: "context", mode: "value", type: "property", isPublic: !0 },
                              { name: "fixedCursorInScenePoint", mode: "readonly", type: "property", isPublic: !0 },
                          ],
                      },
                      21: {
                          objectFormatId: 238,
                          members: [
                              { name: "uuid", mode: "value", type: "property", isPublic: !0 },
                              { name: "originX", mode: "value", type: "property", isPublic: !0 },
                              { name: "originY", mode: "value", type: "property", isPublic: !0 },
                              { name: "width", mode: "value", type: "property", isPublic: !0 },
                              { name: "height", mode: "value", type: "property", isPublic: !0 },
                              { name: "imageSrc", mode: "value", type: "property", isPublic: !0 },
                              { name: "locked", mode: "value", type: "property", isPublic: !0 },
                              { name: "uniformScale", mode: "value", type: "property", isPublic: !0 },
                              { name: "crossOrigin", mode: "value", type: "property", isPublic: !0 },
                              { name: "imageSize", mode: "value", type: "property", isPublic: !0 },
                              { name: "_displayScaleX", mode: "value", type: "property", isPublic: !1 },
                              { name: "_displayScaleY", mode: "value", type: "property", isPublic: !1 },
                              { name: "isRotable", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "hitTestingBoxMargin", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "displayScaleX", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "displayScaleY", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "selectable", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "setImageSrc", type: "method", isPublic: !0, parameters: [0] },
                              { name: "adjustToKeepUniformScale", type: "method", isPublic: !0, parameters: [] },
                              { name: "commitRotation", type: "method", isPublic: !0, parameters: [0] },
                              { name: "rotateRectangle", type: "method", isPublic: !1, parameters: [0, 11] },
                          ],
                      },
                      22: {
                          objectFormatId: 239,
                          members: [
                              { name: "context", mode: "value", type: "property", isPublic: !0 },
                              { name: "fixedCursorInScenePoint", mode: "readonly", type: "property", isPublic: !0 },
                          ],
                      },
                      23: {
                          objectFormatId: 241,
                          members: [
                              { name: "state", mode: "value", type: "property", isPublic: !0 },
                              { name: "originX", mode: "value", type: "property", isPublic: !0 },
                              { name: "originY", mode: "value", type: "property", isPublic: !0 },
                              { name: "isPainting", mode: "value", type: "property", isPublic: !1 },
                              { name: "_width", mode: "value", type: "property", isPublic: !1 },
                              { name: "_height", mode: "value", type: "property", isPublic: !1 },
                              { name: "initializedWidth", mode: "value", type: "property", isPublic: !1 },
                              { name: "initializedHeight", mode: "value", type: "property", isPublic: !1 },
                              { name: "points", mode: "value", type: "property", isPublic: !1 },
                              { name: "sparsePoints", mode: "value", type: "property", isPublic: !1 },
                              { name: "width", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "height", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "width", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "height", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "selectable", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "hitTestingBoxMargin", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "locked", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "pushPoint", type: "method", isPublic: !0, parameters: [0, 0, 0, 0] },
                              { name: "completePainting", type: "method", isPublic: !0, parameters: [] },
                              { name: "displayPoints", type: "method", isPublic: !0, parameters: [] },
                              { name: "enableBezier", type: "method", isPublic: !0, parameters: [] },
                          ],
                      },
                      24: {
                          objectFormatId: 245,
                          members: [
                              { name: "context", mode: "value", type: "property", isPublic: !1 },
                              { name: "paintingCurveShape", mode: "value", type: "property", isPublic: !1 },
                              { name: "paintingBezierCurveShape", mode: "value", type: "property", isPublic: !1 },
                              { name: "paintingEllipseShape", mode: "value", type: "property", isPublic: !1 },
                              { name: "circluarState", mode: "value", type: "property", isPublic: !1 },
                              { name: "fixedCursorInScenePoint", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "onSceneChanged", type: "method", isPublic: !0, parameters: [] },
                              { name: "onClick", type: "method", isPublic: !1, parameters: [108] },
                              { name: "pushPointToCurveShape", type: "method", isPublic: !1, parameters: [249, 0, 0] },
                              { name: "onDraggingStateChanged", type: "method", isPublic: !1, parameters: [] },
                              { name: "commitCreateLegacyShape", type: "method", isPublic: !1, parameters: [247] },
                              { name: "commitCreateShape", type: "method", isPublic: !1, parameters: [248] },
                              { name: "onDrag", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onDestroy", type: "method", isPublic: !0, parameters: [] },
                              { name: "createBezierCurve", type: "method", isPublic: !0, parameters: [87] },
                              { name: "appendBezierCurveTail", type: "method", isPublic: !0, parameters: [246, 0] },
                              { name: "updateBezierCurveTail", type: "method", isPublic: !0, parameters: [86, 0] },
                              { name: "splitBezierCurveTail", type: "method", isPublic: !0, parameters: [250, 0] },
                              { name: "addBezierCurveExtraSteups", type: "method", isPublic: !0, parameters: [] },
                              { name: "completePainting", type: "method", isPublic: !0, parameters: [] },
                              { name: "cancelPainting", type: "method", isPublic: !0, parameters: [] },
                              { name: "beginPencilCircular", type: "method", isPublic: !0, parameters: [0, 0, 0] },
                              { name: "movePencilCircular", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "completePencilCircular", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "collectNewPencilCurves", type: "method", isPublic: !0, parameters: [0, 0, 0, 0, 2] },
                              { name: "updateNewPencilCurves", type: "method", isPublic: !0, parameters: [125, 2, 251] },
                              { name: "createPencilOptions", type: "method", isPublic: !0, parameters: [] },
                          ],
                      },
                      25: {
                          objectFormatId: 255,
                          members: [
                              { name: "context", mode: "value", type: "property", isPublic: !1 },
                              { name: "fixedCursorInScenePoint", mode: "readonly", type: "property", isPublic: !0 },
                          ],
                      },
                      26: {
                          objectFormatId: 257,
                          members: [
                              { name: "context", mode: "value", type: "property", isPublic: !1 },
                              { name: "paintingRectangleShape", mode: "value", type: "property", isPublic: !1 },
                              { name: "beginPoint", mode: "value", type: "property", isPublic: !1 },
                              { name: "isShiftPress", mode: "value", type: "property", isPublic: !1 },
                              { name: "latestDragX", mode: "value", type: "property", isPublic: !1 },
                              { name: "latestDragY", mode: "value", type: "property", isPublic: !1 },
                              { name: "fixedCursorInScenePoint", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "onKeyUp", type: "method", isPublic: !0, parameters: [107] },
                              { name: "onKeyDown", type: "method", isPublic: !0, parameters: [107] },
                              { name: "onSceneChanged", type: "method", isPublic: !0, parameters: [] },
                              { name: "onDraggingStateChanged", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onDrag", type: "method", isPublic: !1, parameters: [108] },
                              { name: "refreshPaintingRectangleShape", type: "method", isPublic: !1, parameters: [] },
                              { name: "onDestroy", type: "method", isPublic: !0, parameters: [] },
                          ],
                      },
                      27: {
                          objectFormatId: 258,
                          members: [
                              { name: "originX", mode: "value", type: "property", isPublic: !0 },
                              { name: "originY", mode: "value", type: "property", isPublic: !0 },
                              { name: "width", mode: "value", type: "property", isPublic: !0 },
                              { name: "height", mode: "value", type: "property", isPublic: !0 },
                              { name: "state", mode: "value", type: "property", isPublic: !0 },
                              { name: "isPainting", mode: "value", type: "property", isPublic: !1 },
                              { name: "dottedLine", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "selectable", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "hitTestingBoxMargin", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "locked", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "completePainting", type: "method", isPublic: !0, parameters: [] },
                              { name: "rectHitTestContent", type: "method", isPublic: !1, parameters: [0, 0, 0, 0, 0, 0] },
                              { name: "innerRectangleTester", type: "method", isPublic: !1, parameters: [0] },
                          ],
                      },
                      28: {
                          objectFormatId: 259,
                          members: [
                              { name: "originX", mode: "value", type: "property", isPublic: !0 },
                              { name: "originY", mode: "value", type: "property", isPublic: !0 },
                              { name: "width", mode: "value", type: "property", isPublic: !0 },
                              { name: "height", mode: "value", type: "property", isPublic: !0 },
                              { name: "context", mode: "value", type: "property", isPublic: !0 },
                              { name: "beginPoint", mode: "value", type: "property", isPublic: !1 },
                              { name: "belongsToUserId", mode: "value", type: "property", isPublic: !0 },
                              { name: "hitTestingBoxMargin", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "updateEndPoint", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "refreshWithPoints", type: "method", isPublic: !0, parameters: [0] },
                          ],
                      },
                      29: {
                          objectFormatId: 260,
                          members: [
                              { name: "context", mode: "value", type: "property", isPublic: !0 },
                              { name: "fixedCursorInScenePoint", mode: "value", type: "property", isPublic: !0 },
                              { name: "beginPressPoint", mode: "value", type: "property", isPublic: !1 },
                              { name: "draggingTarget", mode: "value", type: "property", isPublic: !1 },
                              { name: "draggedComponentOriginPoints", mode: "value", type: "property", isPublic: !1 },
                              { name: "selectedGroup", mode: "value", type: "property", isPublic: !1 },
                              { name: "isCtrlPress", mode: "value", type: "property", isPublic: !1 },
                              { name: "isShiftPress", mode: "value", type: "property", isPublic: !1 },
                              { name: "latestOperateX", mode: "value", type: "property", isPublic: !1 },
                              { name: "latestOperateY", mode: "value", type: "property", isPublic: !1 },
                              { name: "onKeyUp", type: "method", isPublic: !0, parameters: [107] },
                              { name: "onKeyDown", type: "method", isPublic: !0, parameters: [107] },
                              { name: "onMemberStateChanged", type: "method", isPublic: !0, parameters: [77, 77] },
                              { name: "onSceneChanged", type: "method", isPublic: !0, parameters: [263] },
                              { name: "delete", type: "method", isPublic: !0, parameters: [] },
                              { name: "copy", type: "method", isPublic: !0, parameters: [] },
                              { name: "duplicate", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "selectComponents", type: "method", isPublic: !0, parameters: [264] },
                              { name: "onDestroy", type: "method", isPublic: !0, parameters: [] },
                              { name: "cleanAllSelectingInformation", type: "method", isPublic: !1, parameters: [] },
                              { name: "makeSureItsDraggingEvent", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onDraggingStateChanged", type: "method", isPublic: !1, parameters: [108] },
                              { name: "commitUpdateRectangle", type: "method", isPublic: !1, parameters: [] },
                              { name: "startDragWithSelectedMode", type: "method", isPublic: !1, parameters: [] },
                              { name: "startDragWithHighlightMode", type: "method", isPublic: !1, parameters: [267] },
                              { name: "onDrag", type: "method", isPublic: !1, parameters: [108] },
                              { name: "refreshMyEditorRectangleSpaceDragToPoint", type: "method", isPublic: !1, parameters: [] },
                              { name: "dragComponents", type: "method", isPublic: !1, parameters: [0, 0, 261] },
                              { name: "onHover", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onClick", type: "method", isPublic: !1, parameters: [108] },
                              { name: "setComponentHighlight", type: "method", isPublic: !1, parameters: [266] },
                              { name: "cleanSelectedComponents", type: "method", isPublic: !1, parameters: [] },
                              { name: "findMyEditorRectangleSpace", type: "method", isPublic: !1, parameters: [] },
                              { name: "refreshMyEditorRectangleSpace", type: "method", isPublic: !0, parameters: [] },
                              { name: "refreshAllUsersEditorRectangleSpace", type: "method", isPublic: !0, parameters: [] },
                              { name: "moveSelectedComponentsToTop", type: "method", isPublic: !0, parameters: [] },
                              { name: "moveSelectedComponentsToBottom", type: "method", isPublic: !0, parameters: [] },
                              { name: "allSelectedComponents", type: "method", isPublic: !1, parameters: [] },
                          ],
                      },
                      30: {
                          objectFormatId: 268,
                          members: [
                              { name: "originX", mode: "value", type: "property", isPublic: !0 },
                              { name: "originY", mode: "value", type: "property", isPublic: !0 },
                              { name: "width", mode: "value", type: "property", isPublic: !0 },
                              { name: "height", mode: "value", type: "property", isPublic: !0 },
                              { name: "strokeColor", mode: "value", type: "property", isPublic: !0 },
                              { name: "fillColor", mode: "value", type: "property", isPublic: !0 },
                              { name: "strokeWidth", mode: "value", type: "property", isPublic: !0 },
                              { name: "shapeType", mode: "value", type: "property", isPublic: !0 },
                              { name: "dottedLine", mode: "value", type: "property", isPublic: !0 },
                              { name: "isPainting", mode: "value", type: "property", isPublic: !1 },
                              { name: "selectable", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "hitTestingBoxMargin", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "locked", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "completePainting", type: "method", isPublic: !0, parameters: [] },
                          ],
                      },
                      31: {
                          objectFormatId: 270,
                          members: [
                              { name: "context", mode: "value", type: "property", isPublic: !1 },
                              { name: "paintingShape", mode: "value", type: "property", isPublic: !1 },
                              { name: "beginPoint", mode: "value", type: "property", isPublic: !1 },
                              { name: "isShiftPress", mode: "value", type: "property", isPublic: !1 },
                              { name: "latestDragX", mode: "value", type: "property", isPublic: !1 },
                              { name: "latestDragY", mode: "value", type: "property", isPublic: !1 },
                              { name: "fixedCursorInScenePoint", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "onKeyUp", type: "method", isPublic: !0, parameters: [107] },
                              { name: "onKeyDown", type: "method", isPublic: !0, parameters: [107] },
                              { name: "onSceneChanged", type: "method", isPublic: !0, parameters: [] },
                              { name: "onDraggingStateChanged", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onDrag", type: "method", isPublic: !1, parameters: [108] },
                              { name: "refreshPaintingShape", type: "method", isPublic: !1, parameters: [] },
                              { name: "onDestroy", type: "method", isPublic: !0, parameters: [] },
                          ],
                      },
                      32: {
                          objectFormatId: 274,
                          members: [
                              { name: "context", mode: "value", type: "property", isPublic: !1 },
                              { name: "waitFirstClick", mode: "value", type: "property", isPublic: !1 },
                              { name: "fixedCursorInScenePoint", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "onMemberStateChanged", type: "method", isPublic: !0, parameters: [77, 77] },
                              { name: "onClick", type: "method", isPublic: !0, parameters: [108] },
                              { name: "onHover", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onDestroy", type: "method", isPublic: !0, parameters: [] },
                              { name: "setComponentHighlight", type: "method", isPublic: !1, parameters: [275] },
                              { name: "cleanSelectedComponents", type: "method", isPublic: !1, parameters: [] },
                          ],
                      },
                      33: {
                          objectFormatId: 277,
                          members: [
                              { name: "originX", mode: "value", type: "property", isPublic: !0 },
                              { name: "originY", mode: "value", type: "property", isPublic: !0 },
                              { name: "width", mode: "value", type: "property", isPublic: !0 },
                              { name: "height", mode: "value", type: "property", isPublic: !0 },
                              { name: "textSize", mode: "value", type: "property", isPublic: !0 },
                              { name: "textareaBox", mode: "value", type: "property", isPublic: !0 },
                              { name: "stateBeforeEdited", mode: "value", type: "property", isPublic: !1 },
                              { name: "_editedBy", mode: "value", type: "property", isPublic: !1 },
                              { name: "_isWaitingFirstText", mode: "value", type: "property", isPublic: !1 },
                              { name: "_format", mode: "value", type: "property", isPublic: !1 },
                              { name: "editedBy", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "isWaitingFirstText", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "isTextEmpty", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "selectable", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "color", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "locked", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "format", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "hitTestingBoxMargin", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "currentScale", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "editByUserId", type: "method", isPublic: !0, parameters: [0] },
                              { name: "undoPreviousEdit", type: "method", isPublic: !0, parameters: [] },
                              { name: "updateScale", type: "method", isPublic: !0, parameters: [0] },
                              { name: "updateFormat", type: "method", isPublic: !0, parameters: [0, 132] },
                              { name: "completeEdit", type: "method", isPublic: !0, parameters: [] },
                              { name: "setTextareaBox", type: "method", isPublic: !0, parameters: [7] },
                              { name: "recoverTextareaBox", type: "method", isPublic: !0, parameters: [7] },
                              { name: "recoverFormat", type: "method", isPublic: !0, parameters: [12] },
                              { name: "adjustToKeepUniformScale", type: "method", isPublic: !0, parameters: [] },
                              { name: "copyTextareaBox", type: "method", isPublic: !1, parameters: [7] },
                          ],
                      },
                      34: { objectFormatId: 278, members: [] },
                      35: { objectFormatId: 279, members: [] },
                      36: {
                          objectFormatId: 280,
                          members: [
                              { name: "context", mode: "value", type: "property", isPublic: !1 },
                              { name: "kind", mode: "value", type: "property", isPublic: !1 },
                              { name: "paitingVectorShape", mode: "value", type: "property", isPublic: !1 },
                              { name: "beginPoint", mode: "value", type: "property", isPublic: !1 },
                              { name: "fixedCursorInScenePoint", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "onSceneChanged", type: "method", isPublic: !0, parameters: [] },
                              { name: "onDraggingStateChanged", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onDrag", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onDestroy", type: "method", isPublic: !0, parameters: [] },
                          ],
                      },
                      37: {
                          objectFormatId: 281,
                          members: [
                              { name: "originX", mode: "value", type: "property", isPublic: !0 },
                              { name: "originY", mode: "value", type: "property", isPublic: !0 },
                              { name: "width", mode: "value", type: "property", isPublic: !0 },
                              { name: "height", mode: "value", type: "property", isPublic: !0 },
                              { name: "kind", mode: "value", type: "property", isPublic: !0 },
                              { name: "state", mode: "value", type: "property", isPublic: !0 },
                              { name: "isPainting", mode: "value", type: "property", isPublic: !1 },
                              { name: "anchorPoint", mode: "value", type: "property", isPublic: !1 },
                              { name: "_direction", mode: "value", type: "property", isPublic: !1 },
                              { name: "dottedLine", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "selectable", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "hitTestingBoxMargin", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "direction", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "locked", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "setEndPoint", type: "method", isPublic: !0, parameters: [87] },
                              { name: "reset", type: "method", isPublic: !0, parameters: [0, 0, 0, 0] },
                              { name: "completePainting", type: "method", isPublic: !0, parameters: [] },
                              { name: "rectHitTestContent", type: "method", isPublic: !1, parameters: [0, 0, 0, 0, 0, 0] },
                              { name: "getBeginPoint", type: "method", isPublic: !1, parameters: [] },
                              { name: "getEndPoint", type: "method", isPublic: !1, parameters: [] },
                          ],
                      },
                      38: {
                          objectFormatId: 282,
                          members: [
                              { name: "locked", mode: "value", type: "property", isPublic: !0 },
                              { name: "selectable", mode: "value", type: "property", isPublic: !0 },
                              { name: "originX", mode: "value", type: "property", isPublic: !0 },
                              { name: "originY", mode: "value", type: "property", isPublic: !0 },
                              { name: "width", mode: "value", type: "property", isPublic: !0 },
                              { name: "height", mode: "value", type: "property", isPublic: !0 },
                              { name: "context", mode: "value", type: "property", isPublic: !0 },
                              { name: "selectedBy", mode: "value", type: "property", isPublic: !0 },
                              { name: "_displayRotation", mode: "value", type: "property", isPublic: !1 },
                              { name: "_protoKey", mode: "value", type: "property", isPublic: !1 },
                              { name: "highlightAuthorIds", mode: "value", type: "property", isPublic: !1 },
                              { name: "isRotable", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "protoKey", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "protoKey", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "displayRotation", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "displayRotation", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "isNotRotating", mode: "readonly", type: "property", isPublic: !1 },
                              { name: "isHighlightBy", type: "method", isPublic: !0, parameters: [0] },
                              { name: "setHighlightBy", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "commitRotation", type: "method", isPublic: !0, parameters: [0] },
                              { name: "snapshot", type: "method", isPublic: !0, parameters: [] },
                              { name: "recover", type: "method", isPublic: !0, parameters: [284, 0] },
                              { name: "keepUniformScale", type: "method", isPublic: !1, parameters: [167] },
                              { name: "authorsPropertySetValue", type: "method", isPublic: !1, parameters: [283, 0, 0] },
                          ],
                      },
                      39: {
                          objectFormatId: 288,
                          members: [
                              { name: "state", mode: "value", type: "property", isPublic: !0 },
                              { name: "authorId", mode: "value", type: "property", isPublic: !0 },
                              { name: "headPoint", mode: "value", type: "property", isPublic: !1 },
                              { name: "curves", mode: "value", type: "property", isPublic: !1 },
                              { name: "currentBoundary", mode: "value", type: "property", isPublic: !1 },
                              { name: "fixedBoundary", mode: "value", type: "property", isPublic: !1 },
                              { name: "extraSteups", mode: "value", type: "property", isPublic: !1 },
                              { name: "initializedSize", mode: "value", type: "property", isPublic: !1 },
                              { name: "_originX", mode: "value", type: "property", isPublic: !1 },
                              { name: "_originY", mode: "value", type: "property", isPublic: !1 },
                              { name: "_width", mode: "value", type: "property", isPublic: !1 },
                              { name: "_height", mode: "value", type: "property", isPublic: !1 },
                              { name: "isRotable", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "originX", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "originY", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "width", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "height", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "originX", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "originY", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "width", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "height", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "dottedLine", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "selectable", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "hitTestingBoxMargin", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "locked", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "isCompleted", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "color", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "isLikePoint", type: "method", isPublic: !0, parameters: [] },
                              { name: "createByUndoSnapshot", type: "method", isPublic: !0, parameters: [292, 0] },
                              { name: "appleUndoSnapshot", type: "method", isPublic: !0, parameters: [0] },
                              { name: "snapshotUndo", type: "method", isPublic: !0, parameters: [] },
                              { name: "addExtraSteups", type: "method", isPublic: !0, parameters: [] },
                              { name: "appendTail", type: "method", isPublic: !0, parameters: [289, 0] },
                              { name: "updateTail", type: "method", isPublic: !0, parameters: [86, 0] },
                              { name: "splitTail", type: "method", isPublic: !0, parameters: [294, 0] },
                              { name: "completePainting", type: "method", isPublic: !0, parameters: [] },
                              { name: "update", type: "method", isPublic: !0, parameters: [295, 2, 0, 251] },
                              { name: "applyUpdate", type: "method", isPublic: !1, parameters: [290, 87, 291, 0, 0, 0, 0, 0, 0] },
                              { name: "refreshTailCurve", type: "method", isPublic: !1, parameters: [86] },
                              { name: "receiveCurve", type: "method", isPublic: !1, parameters: [293, 86] },
                              { name: "receivePoint", type: "method", isPublic: !1, parameters: [293, 87] },
                              { name: "commitRotation", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getCurveVertices", type: "method", isPublic: !1, parameters: [0, 0, 0, 0] },
                              { name: "forEachCurves", type: "method", isPublic: !1, parameters: [0] },
                              { name: "forEachPoints", type: "method", isPublic: !1, parameters: [0] },
                              { name: "getExtraSteups", type: "method", isPublic: !0, parameters: [] },
                              { name: "getInitializedSize", type: "method", isPublic: !0, parameters: [] },
                              { name: "getHeadPoint", type: "method", isPublic: !0, parameters: [] },
                              { name: "getCurves", type: "method", isPublic: !0, parameters: [] },
                              { name: "displayer", type: "method", isPublic: !0, parameters: [] },
                              { name: "newDisplayer", type: "method", isPublic: !0, parameters: [] },
                              { name: "scaleCurve", type: "method", isPublic: !1, parameters: [86, 0, 0, 0] },
                              { name: "translatePoint", type: "method", isPublic: !1, parameters: [87, 0, 0] },
                              { name: "scalePoint", type: "method", isPublic: !1, parameters: [87, 0, 0] },
                          ],
                      },
                      40: {
                          objectFormatId: 296,
                          members: [
                              { name: "state", mode: "value", type: "property", isPublic: !0 },
                              { name: "protoKey", mode: "value", type: "property", isPublic: !0 },
                              { name: "originX", mode: "value", type: "property", isPublic: !0 },
                              { name: "originY", mode: "value", type: "property", isPublic: !0 },
                              { name: "width", mode: "value", type: "property", isPublic: !0 },
                              { name: "height", mode: "value", type: "property", isPublic: !0 },
                              { name: "extraSteups", mode: "value", type: "property", isPublic: !0 },
                              { name: "headPoint", mode: "value", type: "property", isPublic: !0 },
                              { name: "curves", mode: "value", type: "property", isPublic: !0 },
                              { name: "initializedSize", mode: "value", type: "property", isPublic: !0 },
                          ],
                      },
                      41: {
                          objectFormatId: 299,
                          members: [
                              { name: "widthThreshold", mode: "value", type: "property", isPublic: !0 },
                              { name: "humpThreshold", mode: "value", type: "property", isPublic: !0 },
                              { name: "points", mode: "value", type: "property", isPublic: !1 },
                              { name: "plough", mode: "value", type: "property", isPublic: !1 },
                              { name: "_pushedCount", mode: "value", type: "property", isPublic: !1 },
                              { name: "is2DGraphic", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "pushedCount", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "displayPoints", type: "method", isPublic: !0, parameters: [] },
                              { name: "complete", type: "method", isPublic: !0, parameters: [] },
                              { name: "pushPoint", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "createPlough", type: "method", isPublic: !1, parameters: [0, 0] },
                              { name: "appendToPlough", type: "method", isPublic: !1, parameters: [0, 0] },
                              { name: "fillPloughPoints", type: "method", isPublic: !1, parameters: [300] },
                          ],
                      },
                      42: {
                          objectFormatId: 301,
                          members: [
                              { name: "components", mode: "value", type: "property", isPublic: !0 },
                              { name: "snapshot", type: "method", isPublic: !0, parameters: [] },
                              { name: "recover", type: "method", isPublic: !0, parameters: [305, 0] },
                              { name: "injectToScene", type: "method", isPublic: !0, parameters: [304, 0, 0] },
                          ],
                      },
                      43: {
                          objectFormatId: 309,
                          members: [
                              { name: "pressedPoint", mode: "value", type: "property", isPublic: !0 },
                              { name: "dragEventsBuffer", mode: "value", type: "property", isPublic: !0 },
                              { name: "fixedCursorInScenePoint", mode: "value", type: "property", isPublic: !0 },
                              { name: "isDragging", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "needBufferDragEvent", mode: "readonly", type: "property", isPublic: !1 },
                              { name: "isPressDown", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "onKeyUp", type: "method", isPublic: !0, parameters: [107] },
                              { name: "onKeyDown", type: "method", isPublic: !0, parameters: [107] },
                              { name: "onDestroy", type: "method", isPublic: !0, parameters: [] },
                              { name: "onMouseLeave", type: "method", isPublic: !0, parameters: [108] },
                              { name: "onDraggingStateChanged", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onDrag", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onHover", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onClick", type: "method", isPublic: !1, parameters: [108] },
                              { name: "makeSureItsDraggingEvent", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onMemberStateChanged", type: "method", isPublic: !0, parameters: [77, 77] },
                              { name: "onMagixEvent", type: "method", isPublic: !0, parameters: [0, 0] },
                              { name: "onSceneChanged", type: "method", isPublic: !0, parameters: [310] },
                              { name: "onPressedAndDrag", type: "method", isPublic: !1, parameters: [108] },
                              { name: "onMouseDown", type: "method", isPublic: !0, parameters: [108] },
                              { name: "onMouseMove", type: "method", isPublic: !0, parameters: [108] },
                              { name: "onMouseUp", type: "method", isPublic: !0, parameters: [108] },
                              { name: "checkShouldChangeGestureToDrag", type: "method", isPublic: !1, parameters: [108] },
                              { name: "shouldChangeGestureToDrag", type: "method", isPublic: !1, parameters: [0, 0] },
                              { name: "invokeCallback", type: "method", isPublic: !1, parameters: [0, 108] },
                          ],
                      },
                      44: {
                          objectFormatId: 318,
                          members: [
                              { name: "createConstructors", type: "method", isPublic: !1, parameters: [] },
                              { name: "createMemberState", type: "method", isPublic: !1, parameters: [13] },
                          ],
                      },
                      45: {
                          objectFormatId: 320,
                          members: [
                              { name: "sceneNodes", mode: "value", type: "property", isPublic: !1 },
                              { name: "rootSceneGroup", mode: "value", type: "property", isPublic: !1 },
                              { name: "_currentPath", mode: "value", type: "property", isPublic: !1 },
                              { name: "currentSceneCache", mode: "value", type: "property", isPublic: !1 },
                              { name: "currentPath", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "currentPath", mode: "accessible", type: "property", isPublic: !0 },
                              { name: "currentScene", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "getSceneWithIdentifier", type: "method", isPublic: !0, parameters: [0] },
                              { name: "getScene", type: "method", isPublic: !0, parameters: [334] },
                              { name: "listScenes", type: "method", isPublic: !0, parameters: [340] },
                              { name: "listSceneGroups", type: "method", isPublic: !0, parameters: [339] },
                              { name: "listAllScenes", type: "method", isPublic: !0, parameters: [] },
                              { name: "collectScenes", type: "method", isPublic: !1, parameters: [324, 325, 326] },
                              { name: "putScene", type: "method", isPublic: !0, parameters: [344, 2, 0] },
                              { name: "removePath", type: "method", isPublic: !0, parameters: [346] },
                              { name: "releaseAllScenes", type: "method", isPublic: !1, parameters: [345] },
                              { name: "moveScene", type: "method", isPublic: !0, parameters: [342, 343, 0] },
                              { name: "cleanIfSceneGroupEmpty", type: "method", isPublic: !1, parameters: [323] },
                              { name: "isSceneGroupEmpty", type: "method", isPublic: !1, parameters: [338] },
                              { name: "findSceneOrGroup", type: "method", isPublic: !0, parameters: [333] },
                              { name: "findSceneGroup", type: "method", isPublic: !1, parameters: [332] },
                              { name: "makeSceneGroup", type: "method", isPublic: !1, parameters: [341] },
                              { name: "insertScene", type: "method", isPublic: !1, parameters: [335, 2, 0] },
                              { name: "createRootSceneGroup", type: "method", isPublic: !1, parameters: [] },
                              { name: "findNextScenePathInTree", type: "method", isPublic: !1, parameters: [331] },
                              { name: "findNextPathStackInTree", type: "method", isPublic: !1, parameters: [329, 330] },
                              { name: "findNextName", type: "method", isPublic: !1, parameters: [328, 0] },
                              { name: "createSceneGroup", type: "method", isPublic: !1, parameters: [0] },
                              { name: "isPathEquals", type: "method", isPublic: !0, parameters: [336, 337] },
                              { name: "checkPathIncludesPrefix", type: "method", isPublic: !1, parameters: [321, 322] },
                          ],
                      },
                      46: {
                          objectFormatId: 347,
                          members: [
                              { name: "_src", mode: "value", type: "property", isPublic: !1 },
                              { name: "width", mode: "value", type: "property", isPublic: !0 },
                              { name: "height", mode: "value", type: "property", isPublic: !0 },
                              { name: "previewURL", mode: "value", type: "property", isPublic: !0 },
                              { name: "hitTestingBoxMargin", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "originX", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "originY", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "src", mode: "readonly", type: "property", isPublic: !0 },
                          ],
                      },
                      47: {
                          objectFormatId: 2,
                          members: [
                              { name: "ppt", mode: "value", type: "property", isPublic: !0 },
                              { name: "name", mode: "value", type: "property", isPublic: !0 },
                              { name: "id", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "componentsCount", mode: "readonly", type: "property", isPublic: !0 },
                              { name: "editableWithHitIdentifies", type: "method", isPublic: !0, parameters: [350] },
                              { name: "editablesWithHitIdentifies", type: "method", isPublic: !0, parameters: [351] },
                              { name: "updateContext", type: "method", isPublic: !0, parameters: [352] },
                              { name: "shellRectangle", type: "method", isPublic: !0, parameters: [] },
                              { name: "cleanComponents", type: "method", isPublic: !0, parameters: [348] },
                              { name: "cleanPPT", type: "method", isPublic: !0, parameters: [349] },
                              { name: "recoverPPT", type: "method", isPublic: !0, parameters: [157] },
                              { name: "cleanBackgroundImage", type: "method", isPublic: !1, parameters: [] },
                          ],
                      },
                  },
              });
              jA = null;
          });
          var ql = C(function (Go) {
              "use strict";
              Object.defineProperty(Go, "__esModule", { value: !0 });
              Go.inCircle = void 0;
              function Hm(n, t, e, r) {
                  var i = e - n.x,
                      A = r - n.y;
                  return i * i + A * A <= t * t;
              }
              Go.inCircle = Hm;
          });
          var Ll = C(function (_e) {
              "use strict";
              var Ul =
                  (_e && _e.__assign) ||
                  function () {
                      return (
                          (Ul =
                              Object.assign ||
                              function (n) {
                                  for (var t, e = 1, r = arguments.length; e < r; e++) {
                                      t = arguments[e];
                                      for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                  }
                                  return n;
                              }),
                          Ul.apply(this, arguments)
                      );
                  };
              Object.defineProperty(_e, "__esModule", { value: !0 });
              _e.meansOverlap = _e.pointByProject = _e.projectionPoint = _e.triangleArea = _e.multiply = _e.plus = _e.unitVector = _e.isZero = _e.dotProduct = _e.verticalVector = _e.distance = _e.linearDistance = void 0;
              function Dm(n, t) {
                  return Math.abs(n.x - t.x) + Math.abs(n.y - t.y);
              }
              _e.linearDistance = Dm;
              function Ym(n, t) {
                  var e = n.x - t.x,
                      r = n.y - t.y;
                  return Math.sqrt(e * e + r * r);
              }
              _e.distance = Ym;
              function Fm(n) {
                  var t = n.x,
                      e = n.y;
                  return { x: -e, y: t };
              }
              _e.verticalVector = Fm;
              function zm(n, t) {
                  return n.x * t.x + n.y * t.y;
              }
              _e.dotProduct = zm;
              function Qm(n) {
                  return Math.abs(n) < 1e-6;
              }
              _e.isZero = Qm;
              function qm(n) {
                  var t = Math.sqrt(n.x * n.x + n.y * n.y);
                  return (n.x /= t), (n.y /= t), n;
              }
              _e.unitVector = qm;
              function Um(n, t) {
                  return { x: n.x + t.x, y: n.y + t.y };
              }
              _e.plus = Um;
              function Lm(n, t) {
                  return { x: n * t.x, y: n * t.y };
              }
              _e.multiply = Lm;
              function Jm(n, t, e) {
                  var r = 0;
                  return (r += (t.y + n.y) * (t.x - n.x)), (r += (e.y + t.y) * (e.x - t.x)), (r += (n.y + e.y) * (n.x - e.x)), Math.abs(r) / 2;
              }
              _e.triangleArea = Jm;
              function Km(n, t, e) {
                  return (e.x - n.x) * t.x + (e.y - n.y) * t.y;
              }
              _e.projectionPoint = Km;
              function $m(n, t, e) {
                  var r = Ul({}, t);
                  return (r.x *= e), (r.y *= e), (r.x += n.x), (r.y += n.y), r;
              }
              _e.pointByProject = $m;
              function ey(n) {
                  var t = n.x,
                      e = n.y;
                  return Number.isNaN(t) && Number.isNaN(e);
              }
              _e.meansOverlap = ey;
          });
          var Jl = C(function (ii) {
              "use strict";
              var ty =
                      (ii && ii.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  ry =
                      (ii && ii.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  iy =
                      (ii && ii.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && ty(t, n, e);
                          return ry(t, n), t;
                      };
              Object.defineProperty(ii, "__esModule", { value: !0 });
              ii.ConvexPolygonTester = void 0;
              var dn = require("boundless"),
                  Ah = iy(Ll()),
                  ny = (function () {
                      function n() {
                          this.points = [];
                      }
                      return (
                          (n.prototype.pushPoint = function (t) {
                              this.points.push(t);
                          }),
                          (n.prototype.pointHitTest = function (t, e) {
                              for (var r = 0; r < this.points.length; ++r) {
                                  var i = this.points[r],
                                      A = this.points[(r + 1) % this.points.length],
                                      a = { x: A.x - i.x, y: A.y - i.y };
                                  if (a.x !== 0 || a.y !== 0) {
                                      var o = Ah.verticalVector(a),
                                          s = { x: t - i.x, y: e - i.y },
                                          l = Ah.dotProduct(o, s);
                                      if (l < 0) return !1;
                                  }
                              }
                              return !0;
                          }),
                          (n.prototype.rectHitTest = function (t, e, r, i) {
                              var A = this,
                                  a = !1,
                                  o = !1;
                              if (
                                  (dn.RectangleTesting.iterate(t, e, r, i, function (S, M) {
                                      A.pointHitTest(S, M) ? (a = !0) : (o = !0);
                                  }),
                                  a && o)
                              )
                                  return dn.RectangleTesting.Result.Cross;
                              if (a) return dn.RectangleTesting.Result.IncludeRectangle;
                              if (o) {
                                  for (var s = 0; s < this.points.length; ++s)
                                      for (var l = this.points[s], u = this.points[(s + 1) % this.points.length], c = dn.RectangleTesting.allPoints(t, e, r, i), p = 0; p < c.length; ++p) {
                                          var h = c[p],
                                              v = c[(p + 1) % c.length];
                                          if (this.findCrossPoint(l, u, h, v)) return dn.RectangleTesting.Result.Cross;
                                      }
                                  for (var y = 0, _ = this.points; y < _.length; y++) {
                                      var B = _[y];
                                      if (dn.RectangleTesting.testPoint(t, e, r, i, B.x, B.y)) return dn.RectangleTesting.Result.IncludeByRectangle;
                                  }
                              }
                              return dn.RectangleTesting.Result.Disjoint;
                          }),
                          (n.prototype.findCrossPoint = function (t, e, r, i) {
                              var A = e.y - t.y,
                                  a = t.x - e.x,
                                  o = t.x * (t.y - e.y) - t.y * (t.x - e.x),
                                  s = i.y - r.y,
                                  l = r.x - i.x,
                                  u = r.x * (r.y - i.y) - r.y * (r.x - i.x),
                                  c = A * l - s * a,
                                  p = (a * u - l * o) / c,
                                  h = (s * o - A * u) / c;
                              if (Math.abs(p) === 1 / 0 || Math.abs(h) === 1 / 0 || Number.isNaN(p) || Number.isNaN(h)) return !1;
                              var v = { x: p, y: h },
                                  y = this.isCrossPointBetweenSegment(v, t, e) && this.isCrossPointBetweenSegment(v, r, i);
                              return !!y;
                          }),
                          (n.prototype.isCrossPointBetweenSegment = function (t, e, r) {
                              var i = (t.x - e.x) * (t.x - r.x),
                                  A = (t.y - e.y) * (t.y - r.y),
                                  a = Math.abs(i) < 0.01,
                                  o = Math.abs(A) < 0.01;
                              return a && o ? i <= 0 && A <= 0 : (i <= 0 || a) && (A <= 0 || o);
                          }),
                          n
                      );
                  })();
              ii.ConvexPolygonTester = ny;
          });
          var ah = C(function (Ai) {
              "use strict";
              var Ay =
                      (Ai && Ai.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  ay =
                      (Ai && Ai.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  oy =
                      (Ai && Ai.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && Ay(t, n, e);
                          return ay(t, n), t;
                      };
              Object.defineProperty(Ai, "__esModule", { value: !0 });
              Ai.PolylineTester = void 0;
              var ni = oy(Ll()),
                  sy = Jl(),
                  ly = ql(),
                  uy = (function () {
                      function n() {
                          this.points = [];
                      }
                      return (
                          (n.prototype.pushPoint = function (t) {
                              this.points.push(t);
                          }),
                          (n.prototype.hitTest = function (t, e, r) {
                              return this.hitAnySegments(t, e, r) || this.hitAnyNodeCircles(t, e, r);
                          }),
                          (n.prototype.hitAnySegments = function (t, e, r) {
                              for (var i = t / 2, A = 1; A < this.points.length; ++A) {
                                  var a = this.points[A - 1],
                                      o = this.points[A],
                                      s = { x: o.x - a.x, y: o.y - a.y };
                                  if (!ni.isZero(s.x) || !ni.isZero(s.y)) {
                                      var l = ni.unitVector(ni.verticalVector(s)),
                                          u = new sy.ConvexPolygonTester(),
                                          c = ni.multiply(-i, l),
                                          p = ni.multiply(i, l);
                                      if ((u.pushPoint(ni.plus(a, p)), u.pushPoint(ni.plus(a, c)), u.pushPoint(ni.plus(o, c)), u.pushPoint(ni.plus(o, p)), u.pointHitTest(e, r))) return !0;
                                  }
                              }
                              return !1;
                          }),
                          (n.prototype.hitAnyNodeCircles = function (t, e, r) {
                              for (var i = 0; i < this.points.length; ++i) {
                                  var A = this.points[i];
                                  if (ly.inCircle(A, t / 2, e, r)) return !0;
                              }
                              return !1;
                          }),
                          n
                      );
                  })();
              Ai.PolylineTester = uy;
          });
          var oh = C(function (jo) {
              "use strict";
              Object.defineProperty(jo, "__esModule", { value: !0 });
              jo.EllipseTester = void 0;
              var Mi = require("boundless"),
                  cy = (function () {
                      function n(t, e, r, i) {
                          (this.circleCenterX = t), (this.circleCenterY = e), (this.width = r), (this.height = i);
                      }
                      return (
                          (n.prototype.pointHitTest = function (t, e) {
                              var r = t,
                                  i = e;
                              return (r = ((r - this.circleCenterX) / this.width) * 2), (i = ((i - this.circleCenterY) / this.height) * 2), r * r + i * i <= 1;
                          }),
                          (n.prototype.rectHitTest = function (t, e, r, i) {
                              var A = this,
                                  a = !1,
                                  o = !1;
                              if (
                                  (Mi.RectangleTesting.iterate(t, e, r, i, function (p, h) {
                                      A.pointHitTest(p, h) ? (a = !0) : (o = !0);
                                  }),
                                  a && o)
                              )
                                  return Mi.RectangleTesting.Result.Cross;
                              if (a) return Mi.RectangleTesting.Result.IncludeRectangle;
                              if (o) {
                                  for (var s = Mi.RectangleTesting.allPoints(t, e, r, i), l = 0; l < s.length; ++l) {
                                      var u = s[l],
                                          c = s[(l + 1) % s.length];
                                      if (u.x === c.x) {
                                          if (this.checkCrossVertical(u.x, u.y, c.y)) return Mi.RectangleTesting.Result.Cross;
                                      } else if (this.checkCrossHorizontal(u.y, u.x, c.x)) return Mi.RectangleTesting.Result.Cross;
                                  }
                                  if (Mi.RectangleTesting.testPoint(t, e, r, i, this.circleCenterX, this.circleCenterY)) return Mi.RectangleTesting.Result.IncludeByRectangle;
                              }
                              return Mi.RectangleTesting.Result.Disjoint;
                          }),
                          (n.prototype.checkCrossVertical = function (t, e, r) {
                              var i = t,
                                  A = e,
                                  a = r;
                              return (i = ((i - this.circleCenterX) / this.width) * 2), (A = ((A - this.circleCenterY) / this.height) * 2), (a = ((a - this.circleCenterY) / this.height) * 2), this.checkCrossGeometrical(Math.abs(i), A, a);
                          }),
                          (n.prototype.checkCrossHorizontal = function (t, e, r) {
                              var i = e,
                                  A = r,
                                  a = t;
                              return (a = ((a - this.circleCenterY) / this.height) * 2), (i = ((i - this.circleCenterX) / this.width) * 2), (A = ((A - this.circleCenterX) / this.width) * 2), this.checkCrossGeometrical(Math.abs(a), i, A);
                          }),
                          (n.prototype.checkCrossGeometrical = function (t, e, r) {
                              if (t > 1) return !1;
                              var i = Math.sqrt(1 - t * t),
                                  A = Math.max(e, r),
                                  a = Math.min(e, r);
                              return (A >= i && i >= a) || (A >= -i && -i >= a);
                          }),
                          n
                      );
                  })();
              jo.EllipseTester = cy;
          });
          var Ti = C(function (xr) {
              "use strict";
              var py =
                      (xr && xr.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  Kl =
                      (xr && xr.__exportStar) ||
                      function (n, t) {
                          for (var e in n) e !== "default" && !Object.prototype.hasOwnProperty.call(t, e) && py(t, n, e);
                      };
              Object.defineProperty(xr, "__esModule", { value: !0 });
              xr.inCircle = void 0;
              var hy = ql();
              Object.defineProperty(xr, "inCircle", {
                  enumerable: !0,
                  get: function () {
                      return hy.inCircle;
                  },
              });
              Kl(Jl(), xr);
              Kl(ah(), xr);
              Kl(oh(), xr);
          });
          var uh = C(function (lh) {
              "use strict";
              Object.defineProperty(lh, "__esModule", { value: !0 });
              var zn = pe(),
                  Qn = ge(),
                  sh = Ti();
              Qn.register.defineComponent(zn.BackgroundImage, { name: "BackgroundImage", hitTest: !1, disableVisionTrim: !0 });
              Qn.register.defineComponent(zn.ImageShape, {
                  name: "ImageShape",
                  hitTest: function (n, t, e, r, i) {
                      var A = t.payload;
                      if (n.context.disalbeImageHit) return !1;
                      var a = A.originX,
                          o = A.originY,
                          s = A.width,
                          l = A.height,
                          u = A.imageSize,
                          c = A.displayRotation,
                          p = A.displayScaleX,
                          h = A.displayScaleY;
                      if (c === 0) return !0;
                      var v = u.width * s * p,
                          y = u.height * l * h,
                          _ = Math.cos(c),
                          B = Math.sin(c),
                          S = a + s / 2,
                          M = o + l / 2,
                          E = v / 2 + i,
                          W = y / 2 + i,
                          Z = (e - S) * _ + (r - M) * B,
                          z = (r - M) * _ - (e - S) * B;
                      return Z >= -E && Z <= E && z >= -W && z <= W;
                  },
              });
              Qn.register.defineComponent(zn.EditorRectangleSpace, {
                  name: "EditorRectangleSpace",
                  hitTest: !1,
                  findTarget: function (n, t) {
                      if (t.target && t.target instanceof HTMLElement) {
                          var e = t.target,
                              r = "operation-point";
                          if (e.className.includes(r)) {
                              var i = e.className.split(" ");
                              return i[i.length - 1];
                          }
                      }
                  },
              });
              Qn.register.defineComponent(zn.CurveShape, {
                  name: "CurveShape",
                  hitTest: function (n, t, e, r, i) {
                      var A = t.payload;
                      if (A.selectable) {
                          for (var a = new sh.PolylineTester(), o = 0, s = A.displayPoints(); o < s.length; o++) {
                              var l = s[o];
                              a.pushPoint(l);
                          }
                          var u = Math.max(A.hitTestingBoxMargin, i),
                              c = A.state.strokeWidth + u;
                          return a.hitTest(c, e - A.originX, r - A.originY);
                      } else return !1;
                  },
              });
              Qn.register.defineComponent(zn.BezierCurveShape, {
                  name: "BezierCurveShape",
                  getApplianceRect: function (n, t) {
                      var e = t.bezierCurvePainter,
                          r = e == null ? void 0 : e.getRectangle(n.identifier);
                      return r || { originX: n.originX, originY: n.originY, width: n.width, height: n.height };
                  },
                  hitTest: function (n, t, e, r, i) {
                      var A = t.payload;
                      if (A.selectable) {
                          var a = new sh.PolylineTester(),
                              o = A.displayer(),
                              s = o.headPoint,
                              l = o.curves;
                          a.pushPoint(s);
                          for (var u = 0, c = l; u < c.length; u++) {
                              var p = c[u];
                              a.pushPoint(p.point3);
                          }
                          var h = Math.max(A.hitTestingBoxMargin, i),
                              v = A.state.strokeWidth + h;
                          return a.hitTest(v, e - A.originX, r - A.originY);
                      } else return !1;
                  },
              });
              Qn.register.defineComponent(zn.SelectedGroupRectangleSpace, { name: "SelectedGroupRectangleSpace", hitTest: !1 });
              Qn.register.defineComponent(zn.TextareaShape, { name: "TextareaShape", disableVisionTrim: !0 });
          });
          var hh = C(function (ph) {
              "use strict";
              Object.defineProperty(ph, "__esModule", { value: !0 });
              var dy = pe(),
                  fy = ge(),
                  ch = Ti();
              fy.register.defineComponent(dy.EllipseShape, { name: "EllipseShape", hitTest: gy });
              function gy(n, t, e, r, i) {
                  var A = t.payload;
                  if (A.selectable) {
                      var a = e - A.originX,
                          o = r - A.originY,
                          s = Math.max(A.hitTestingBoxMargin, i),
                          l = vy(A, s);
                      if (!l.pointHitTest(a, o)) return !1;
                      var u = my(A, s);
                      return u ? !u.pointHitTest(a, o) : !0;
                  } else return !1;
              }
              function vy(n, t) {
                  var e = n.width + 2 * t,
                      r = n.height + 2 * t,
                      i = n.width / 2,
                      A = n.height / 2;
                  return new ch.EllipseTester(i, A, e, r);
              }
              function my(n, t) {
                  var e = n.width - 2 * t,
                      r = n.height - 2 * t;
                  if (!(e <= 0 || r <= 0)) {
                      var i = n.width / 2,
                          A = n.height / 2;
                      return new ch.EllipseTester(i, A, e, r);
                  }
              }
          });
          var fh = C(function (dh) {
              "use strict";
              Object.defineProperty(dh, "__esModule", { value: !0 });
              var yy = pe(),
                  by = ge(),
                  Py = Ti();
              by.register.defineComponent(yy.RectangleShape, { name: "RectangleShape", hitTest: _y });
              function _y(n, t, e, r, i) {
                  var A = t.payload;
                  if (A.selectable) {
                      var a = Math.max(A.hitTestingBoxMargin, i),
                          o = Sy(A, a);
                      return o ? !o.pointHitTest(e - A.originX, r - A.originY) : !0;
                  } else return !1;
              }
              function Sy(n, t) {
                  var e = new Py.ConvexPolygonTester(),
                      r = t,
                      i = t,
                      A = n.width - 2 * t,
                      a = n.height - 2 * t;
                  if (!(A <= 0 || a <= 0)) return e.pushPoint({ x: r, y: i }), e.pushPoint({ x: r + A, y: i }), e.pushPoint({ x: r + A, y: i + a }), e.pushPoint({ x: r, y: i + a }), e;
              }
          });
          var WA = C(function (ft) {
              "use strict";
              Object.defineProperty(ft, "__esModule", { value: !0 });
              ft.isOnRay = ft.findCrossPoint = ft.isSegementCrossRectangle = ft.distance = ft.unitVector = ft.verticalVector = ft.isZero = void 0;
              var N;
              (function (n) {
                  (n[(n.LT = 0)] = "LT"), (n[(n.MT = 1)] = "MT"), (n[(n.RT = 2)] = "RT"), (n[(n.LM = 3)] = "LM"), (n[(n.MM = 4)] = "MM"), (n[(n.RM = 5)] = "RM"), (n[(n.LB = 6)] = "LB"), (n[(n.MB = 7)] = "MB"), (n[(n.RB = 8)] = "RB");
              })(N || (N = {}));
              function Cy(n) {
                  return Math.abs(n) < 1e-6;
              }
              ft.isZero = Cy;
              function By(n) {
                  var t = n.x,
                      e = n.y;
                  return { x: -e, y: t };
              }
              ft.verticalVector = By;
              function wy(n) {
                  var t = gh(n);
                  return (n.x /= t), (n.y /= t), n;
              }
              ft.unitVector = wy;
              function gh(n) {
                  return Math.sqrt(n.x * n.x + n.y * n.y);
              }
              ft.distance = gh;
              function Ry(n, t, e, r, i, A, a, o) {
                  var s = vh(n, t, i, A, a, o),
                      l = vh(e, r, i, A, a, o);
                  switch (s) {
                      case N.MM:
                          return !0;
                      case N.LT: {
                          switch (l) {
                              case N.LT:
                              case N.LM:
                              case N.MT:
                              case N.LB:
                              case N.RT:
                                  return !1;
                              case N.MM:
                                  return !0;
                          }
                          break;
                      }
                      case N.LM: {
                          switch (l) {
                              case N.LM:
                              case N.LT:
                              case N.LB:
                                  return !1;
                              case N.MM:
                              case N.RM:
                                  return !0;
                          }
                          break;
                      }
                      case N.LB: {
                          switch (l) {
                              case N.LB:
                              case N.LM:
                              case N.MB:
                              case N.LT:
                              case N.RB:
                                  return !1;
                              case N.MM:
                                  return !0;
                          }
                          break;
                      }
                      case N.MB: {
                          switch (l) {
                              case N.MB:
                              case N.LB:
                              case N.RB:
                                  return !1;
                              case N.MM:
                              case N.MT:
                                  return !0;
                          }
                          break;
                      }
                      case N.RB: {
                          switch (l) {
                              case N.RB:
                              case N.MB:
                              case N.RM:
                              case N.LB:
                              case N.RT:
                                  return !1;
                              case N.MM:
                                  return !0;
                          }
                          break;
                      }
                      case N.RM: {
                          switch (l) {
                              case N.RM:
                              case N.RT:
                              case N.RB:
                                  return !1;
                              case N.MM:
                              case N.LM:
                                  return !0;
                          }
                          break;
                      }
                      case N.RT: {
                          switch (l) {
                              case N.RT:
                              case N.MT:
                              case N.RM:
                              case N.LT:
                              case N.RB:
                                  return !1;
                              case N.MM:
                                  return !0;
                          }
                          break;
                      }
                      case N.MT: {
                          switch (l) {
                              case N.MT:
                              case N.LT:
                              case N.RT:
                                  return !1;
                              case N.MM:
                              case N.MB:
                                  return !0;
                          }
                          break;
                      }
                  }
                  return Ty(n, t, e, r, i, A, a, o);
              }
              ft.isSegementCrossRectangle = Ry;
              function vh(n, t, e, r, i, A) {
                  return n < e ? (t < r ? N.LT : t <= A ? N.LM : N.LB) : n <= i ? (t < r ? N.MT : t <= A ? N.MM : N.MB) : t < r ? N.RT : t <= A ? N.RM : N.RB;
              }
              function xy(n, t, e, r) {
                  var i = t.y - n.y,
                      A = n.x - t.x,
                      a = n.x * (n.y - t.y) - n.y * (n.x - t.x),
                      o = r.y - e.y,
                      s = e.x - r.x,
                      l = e.x * (e.y - r.y) - e.y * (e.x - r.x),
                      u = i * s - o * A,
                      c = A * l - s * a,
                      p = o * a - i * l,
                      h = null;
                  return u !== 0 && (h = { x: c / u, y: p / u }), h;
              }
              ft.findCrossPoint = xy;
              function My(n, t, e) {
                  var r = t.x - n.x,
                      i = t.y - n.y,
                      A = e.x - n.x,
                      a = e.y - n.y;
                  return r * A + i * a > 0;
              }
              ft.isOnRay = My;
              function Ty(n, t, e, r, i, A, a, o) {
                  var s = e - n,
                      l = r - t;
                  if (s === 0) {
                      var u = Math.min(t, r),
                          c = Math.max(t, r);
                      return fn(u, A, c) || fn(u, o, c);
                  } else if (l === 0) {
                      var p = Math.min(n, e),
                          h = Math.max(n, e);
                      return fn(p, i, h) || fn(p, a, h);
                  } else {
                      var v = s / l,
                          y = -v * t + n,
                          _ = v * A + y;
                      if (fn(i, _, a)) return !0;
                      var B = v * o + y;
                      if (fn(i, B, a)) return !0;
                      var S = l / s,
                          M = -S * n + t,
                          E = S * i + M;
                      if (fn(A, E, o)) return !0;
                      var W = S * a + M;
                      return !!fn(A, W, o);
                  }
              }
              function fn(n, t, e) {
                  return n <= t && t <= e;
              }
          });
          var mh = C(function (gn) {
              "use strict";
              var Oy =
                      (gn && gn.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  Ey =
                      (gn && gn.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  Gy =
                      (gn && gn.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && Oy(t, n, e);
                          return Ey(t, n), t;
                      };
              Object.defineProperty(gn, "__esModule", { value: !0 });
              var Oi = pe(),
                  Wo = Gy(WA()),
                  jy = ge(),
                  $l = Ti();
              jy.register.defineComponent(Oi.VectorShape, { name: "VectorShape", hitTest: Wy });
              function Wy(n, t, e, r, i) {
                  var A = t.payload;
                  if (!A.selectable) return !1;
                  var a = e - A.originX,
                      o = r - A.originY,
                      s = A.hitTestingBoxMargin,
                      l = 2 * s,
                      u = Zy(A),
                      c = new $l.EllipseTester(u.x, u.y, l, l);
                  if (c.pointHitTest(a, o)) return !0;
                  if (Wo.isZero(A.width) && Wo.isZero(A.height)) return !1;
                  var p = Vy(A),
                      h = new $l.EllipseTester(p.x, p.y, l, l);
                  if (h.pointHitTest(a, o)) return !0;
                  var v = new $l.ConvexPolygonTester(),
                      y = Wo.unitVector(Wo.verticalVector({ x: p.x - u.x, y: p.y - u.y }));
                  return (
                      v.pushPoint({ x: p.x - y.x * s, y: p.y - y.y * s }),
                      v.pushPoint({ x: p.x + y.x * s, y: p.y + y.y * s }),
                      v.pushPoint({ x: u.x + y.x * s, y: u.y + y.y * s }),
                      v.pushPoint({ x: u.x - y.x * s, y: u.y - y.y * s }),
                      v.pointHitTest(a, o)
                  );
              }
              function Zy(n) {
                  switch (n.direction) {
                      case Oi.VectorDirection.ToLeftTop:
                          return { x: n.width, y: n.height };
                      case Oi.VectorDirection.ToRightTop:
                          return { x: 0, y: n.height };
                      case Oi.VectorDirection.ToLeftBottom:
                          return { x: n.width, y: 0 };
                      case Oi.VectorDirection.ToRightBottom:
                          return { x: 0, y: 0 };
                      default:
                          return { x: 0, y: 0 };
                  }
              }
              function Vy(n) {
                  switch (n.direction) {
                      case Oi.VectorDirection.ToLeftTop:
                          return { x: 0, y: 0 };
                      case Oi.VectorDirection.ToRightTop:
                          return { x: n.width, y: 0 };
                      case Oi.VectorDirection.ToLeftBottom:
                          return { x: 0, y: n.height };
                      case Oi.VectorDirection.ToRightBottom:
                          return { x: n.width, y: n.height };
                      default:
                          return { x: 0, y: 0 };
                  }
              }
          });
          var Ga = C(function ($t) {
              "use strict";
              Object.defineProperty($t, "__esModule", { value: !0 });
              $t.createLayoutDescriptions = $t.ShapeType = $t.RenderEngine = $t.WhiteLayouts = void 0;
              var Vt = require("boundless"),
                  qn;
              (function (n) {
                  (n[(n.Background = 0)] = "Background"),
                      (n[(n.Graphics = 1)] = "Graphics"),
                      (n[(n.HtmlGraphics = 2)] = "HtmlGraphics"),
                      (n[(n.Plugin = 3)] = "Plugin"),
                      (n[(n.Component = 4)] = "Component"),
                      (n[(n.MouseCursor = 5)] = "MouseCursor");
              })((qn = $t.WhiteLayouts || ($t.WhiteLayouts = {})));
              var Zo;
              (function (n) {
                  (n.SVG = "svg"), (n.Canvas = "canvas");
              })((Zo = $t.RenderEngine || ($t.RenderEngine = {})));
              var Iy;
              (function (n) {
                  (n.Triangle = "triangle"), (n.Rhombus = "rhombus"), (n.Pentagram = "pentagram"), (n.SpeechBalloon = "speechBalloon");
              })((Iy = $t.ShapeType || ($t.ShapeType = {})));
              function Xy(n) {
                  n === void 0 && (n = Zo.SVG);
                  var t, e;
                  switch (n) {
                      case Zo.SVG: {
                          (t = Vt.LayoutKind.SVG), (e = Vt.LayoutRenderMode.AbsoluteSize);
                          break;
                      }
                      case Zo.Canvas: {
                          (t = Vt.LayoutKind.CANVAS), (e = Vt.LayoutRenderMode.RelativeSize);
                          break;
                      }
                  }
                  return [
                      { layout: qn.Background, kind: Vt.LayoutKind.HTML, renderMode: Vt.LayoutRenderMode.AbsoluteSize, className: "background" },
                      { layout: qn.Graphics, kind: t, renderMode: e, className: "graphics" },
                      { layout: qn.HtmlGraphics, kind: Vt.LayoutKind.HTML, renderMode: Vt.LayoutRenderMode.AbsoluteSize, className: "graphics" },
                      { layout: qn.Plugin, kind: Vt.LayoutKind.HTML, renderMode: Vt.LayoutRenderMode.RelativeSize, className: "component" },
                      { layout: qn.Component, kind: Vt.LayoutKind.HTML, renderMode: Vt.LayoutRenderMode.RelativeSize, className: "component" },
                      { layout: qn.MouseCursor, kind: Vt.LayoutKind.HTML, renderMode: Vt.LayoutRenderMode.Screen, className: "component" },
                  ];
              }
              $t.createLayoutDescriptions = Xy;
          });
          var yh = C(function (Vo) {
              "use strict";
              Object.defineProperty(Vo, "__esModule", { value: !0 });
              Vo.triangleHitTest = void 0;
              var ky = Ti(),
                  Ny = function (n, t, e, r, i) {
                      var A = new ky.PolylineTester(),
                          a = Math.max(t.hitTestingBoxMargin, i),
                          o = t.strokeWidth + a;
                      return A.pushPoint({ x: 0, y: t.height }), A.pushPoint({ x: t.width, y: t.height }), A.pushPoint({ x: t.width / 2, y: 0 }), A.pushPoint({ x: 0, y: t.height }), A.hitTest(o, e - t.originX, r - t.originY);
                  };
              Vo.triangleHitTest = Ny;
          });
          var bh = C(function (Io) {
              "use strict";
              Object.defineProperty(Io, "__esModule", { value: !0 });
              Io.rhombusHitTest = void 0;
              var Hy = Ti(),
                  Dy = function (n, t, e, r, i) {
                      var A = new Hy.PolylineTester(),
                          a = Math.max(t.hitTestingBoxMargin, i),
                          o = t.strokeWidth + a,
                          s = t.width / 2,
                          l = t.height / 2;
                      return A.pushPoint({ x: s, y: 0 }), A.pushPoint({ x: 0, y: l }), A.pushPoint({ x: s, y: t.height }), A.pushPoint({ x: t.width, y: l }), A.pushPoint({ x: s, y: 0 }), A.hitTest(o, e - t.originX, r - t.originY);
                  };
              Io.rhombusHitTest = Dy;
          });
          var ko = C(function (Xo) {
              "use strict";
              Object.defineProperty(Xo, "__esModule", { value: !0 });
              Xo.unitPentagramPoints = void 0;
              var Yy = 231,
                  Fy = 214;
              Xo.unitPentagramPoints = [
                  { x: 145.12590685774623, y: 79.47620126437747 },
                  { x: 229.24914066468054, y: 81.19050316094368 },
                  { x: 162.19965626587222, y: 132.02379873562253 },
                  { x: 186.56476714436556, y: 212.55949683905635 },
                  { x: 117.5, y: 164.5 },
                  { x: 48.435232855634396, y: 212.5594968390563 },
                  { x: 72.80034373412778, y: 132.02379873562253 },
                  { x: 5.750859335319461, y: 81.19050316094368 },
                  { x: 89.87409314225377, y: 79.47620126437747 },
                  { x: 117.5, y: 0 },
              ].map(function (n) {
                  return { x: n.x / Yy, y: n.y / Fy };
              });
          });
          var Ph = C(function (No) {
              "use strict";
              Object.defineProperty(No, "__esModule", { value: !0 });
              No.pentagramHitTest = void 0;
              var zy = Ti(),
                  eu = ko(),
                  Qy = function (n, t, e, r, i) {
                      for (var A = new zy.PolylineTester(), a = Math.max(t.hitTestingBoxMargin, i), o = t.strokeWidth + a, s = 0; s < eu.unitPentagramPoints.length; s++) {
                          var l = eu.unitPentagramPoints[s],
                              u = l.x,
                              c = l.y;
                          A.pushPoint({ x: u * t.width, y: c * t.height });
                      }
                      return A.pushPoint(eu.unitPentagramPoints[0]), A.hitTest(o, e - t.originX, r - t.originY);
                  };
              No.pentagramHitTest = Qy;
          });
          var Do = C(function (Ho) {
              "use strict";
              Object.defineProperty(Ho, "__esModule", { value: !0 });
              Ho.getBezierPoints = void 0;
              var qy = function (n, t, e, r) {
                      var i = t.x,
                          A = t.y,
                          a = r[0],
                          o = a.x,
                          s = a.y,
                          l = e.x,
                          u = e.y,
                          c = (1 - n) * (1 - n) * i + 2 * n * (1 - n) * o + n * n * l,
                          p = (1 - n) * (1 - n) * A + 2 * n * (1 - n) * s + n * n * u;
                      return Object.freeze({ x: c, y: p });
                  },
                  Uy = function (n, t, e) {
                      n === void 0 && (n = 100);
                      for (var r = [], i = 3; i < arguments.length; i++) r[i - 3] = arguments[i];
                      var A = null,
                          a = [];
                      if (r.length === 1) A = qy;
                      else throw Error("Please ensure that the number of control points of the Bezier curve is correct");
                      a.push(t);
                      for (var o = 0; o < n; o++) a.push(A(o / n, t, e, r));
                      return a.push(e), a;
                  };
              Ho.getBezierPoints = Uy;
          });
          var _h = C(function (Fo) {
              "use strict";
              Object.defineProperty(Fo, "__esModule", { value: !0 });
              Fo.speechBalloonHitTest = void 0;
              var Ly = Ti(),
                  Yo = Do(),
                  Jy = function (n, t, e, r, i) {
                      var A = new Ly.PolylineTester(),
                          a = Math.max(t.hitTestingBoxMargin, i),
                          o = t.strokeWidth + a,
                          s = t.width,
                          l = t.height,
                          u = (l / 100) * 80,
                          c = (s / 100) * 10,
                          p = s - c,
                          h = (u / 100) * 10,
                          v = u - h,
                          y = c * 2,
                          _ = y * 2,
                          B = _ - y;
                      A.pushPoint({ x: c, y: 0 }), A.pushPoint({ x: p, y: 0 });
                      {
                          var S = Yo.getBezierPoints(10, { x: p, y: 0 }, { x: s, y: h }, { x: s, y: 0 });
                          S.forEach(function (M) {
                              A.pushPoint(M);
                          });
                      }
                      A.pushPoint({ x: s, y: v });
                      {
                          var S = Yo.getBezierPoints(10, { x: s, y: v }, { x: p, y: u }, { x: s, y: u });
                          S.forEach(function (E) {
                              A.pushPoint(E);
                          });
                      }
                      A.pushPoint({ x: _, y: u }), A.pushPoint({ x: y + (B / 100) * 20, y: l }), A.pushPoint({ x: y, y: u }), A.pushPoint({ x: c, y: u });
                      {
                          var S = Yo.getBezierPoints(10, { x: c, y: u }, { x: 0, y: v }, { x: 0, y: u });
                          S.forEach(function (E) {
                              A.pushPoint(E);
                          });
                      }
                      A.pushPoint({ x: 0, y: h });
                      {
                          var S = Yo.getBezierPoints(10, { x: 0, y: h }, { x: c, y: 0 }, { x: 0, y: 0 });
                          S.forEach(function (E) {
                              A.pushPoint(E);
                          });
                      }
                      return A.hitTest(o, e - t.originX, r - t.originY);
                  };
              Fo.speechBalloonHitTest = Jy;
          });
          var Ch = C(function (Sh) {
              "use strict";
              Object.defineProperty(Sh, "__esModule", { value: !0 });
              var Ky = pe(),
                  zo = Ga(),
                  $y = ge(),
                  eb = yh(),
                  tb = bh(),
                  rb = Ph(),
                  ib = _h();
              $y.register.defineComponent(Ky.Shape, { name: "Shape", hitTest: nb });
              function nb(n, t, e, r, i) {
                  var A = t.payload;
                  if (!A.selectable) return !1;
                  switch (A.shapeType) {
                      case zo.ShapeType.Triangle:
                          return eb.triangleHitTest(n, A, e, r, i);
                      case zo.ShapeType.Rhombus:
                          return tb.rhombusHitTest(n, A, e, r, i);
                      case zo.ShapeType.Pentagram:
                          return rb.pentagramHitTest(n, A, e, r, i);
                      case zo.ShapeType.SpeechBalloon:
                          return ib.speechBalloonHitTest(n, A, e, r, i);
                      default:
                          return !0;
                  }
              }
          });
          var tu = C(function (ZA) {
              "use strict";
              var Ab =
                  (ZA && ZA.__importDefault) ||
                  function (n) {
                      return n && n.__esModule ? n : { default: n };
                  };
              Object.defineProperty(ZA, "__esModule", { value: !0 });
              ZA.SlideUrl = void 0;
              var ab = Ab(require("url-parse")),
                  ob = (function () {
                      function n(t, e) {
                          var r = t.pathname;
                          (this.slideUrl = e), (r = r.replace(/\.(xml|slide)\/?$/i, ""));
                          var i = r.split("/");
                          if (i.length < 3) throw new Error("invalid slide path " + r);
                          var A = i[i.length - 1],
                              a = parseInt(A, 10);
                          if (Number.isNaN(a)) throw new Error("invalid slide index " + JSON.stringify(A));
                          var o = i[i.length - 2];
                          (this.customPath = i.slice(0, i.length - 3).join("/") + "/"), (this.host = n.filterHost(t.host)), (this.uuid = o), (this.index = a - 1);
                      }
                      return (
                          Object.defineProperty(n.prototype, "directoryPath", {
                              get: function () {
                                  return this.customPath + "dynamicConvert/";
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (n.parse = function (t) {
                              var e = new ab.default(t);
                              if (e.protocol === "pptx:" && /[a-z0-9-]+\/\d+\.(xml|slide)\/?$/i.test(e.pathname)) return new n(e, t);
                          }),
                          (n.filterHost = function (t) {
                              switch (t) {
                                  case "convertcdn.herewhite.com":
                                  case "white-cn-doc-convert.oss-cn-hangzhou.aliyuncs.com":
                                  case "white-cn-doc-convert.oss-accelerate.aliyuncs.com":
                                  case "cover.herewhite.com":
                                  case "white-cover.oss-cn-hangzhou.aliyuncs.com":
                                  case "white-cover.oss-accelerate.aliyuncs.com":
                                      return "convertcdn.netless.link";
                                  default:
                                      return t;
                              }
                          }),
                          n
                      );
                  })();
              ZA.SlideUrl = ob;
          });
          var Bh = C(function (Qo) {
              "use strict";
              Object.defineProperty(Qo, "__esModule", { value: !0 });
              Qo.FetcherHub = void 0;
              var sb = (function () {
                  function n(t) {
                      (this.fetcher = t), (this.targets = {}), (this.fetching = {});
                  }
                  return (
                      (n.prototype.getTargetRightNow = function (t) {
                          return this.targets[t];
                      }),
                      (n.prototype.getTarget = function (t) {
                          var e = this,
                              r = this.targets[t];
                          if (r) return Promise.resolve(r);
                          var i = this.fetching[t];
                          return (
                              i === void 0 &&
                                  ((i = this.fetching[t] = this.fetcher(t)),
                                  i
                                      .then(function (A) {
                                          (e.targets[t] = A), delete e.fetching[t];
                                      })
                                      .catch(function () {
                                          delete e.fetching[t];
                                      })),
                              i
                          );
                      }),
                      n
                  );
              })();
              Qo.FetcherHub = sb;
          });
          var Mh = C(function (ai) {
              "use strict";
              var qo =
                      (ai && ai.__assign) ||
                      function () {
                          return (
                              (qo =
                                  Object.assign ||
                                  function (n) {
                                      for (var t, e = 1, r = arguments.length; e < r; e++) {
                                          t = arguments[e];
                                          for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                      }
                                      return n;
                                  }),
                              qo.apply(this, arguments)
                          );
                      },
                  wh =
                      (ai && ai.__awaiter) ||
                      function (n, t, e, r) {
                          function i(A) {
                              return A instanceof e
                                  ? A
                                  : new e(function (a) {
                                        a(A);
                                    });
                          }
                          return new (e || (e = Promise))(function (A, a) {
                              function o(u) {
                                  try {
                                      l(r.next(u));
                                  } catch (c) {
                                      a(c);
                                  }
                              }
                              function s(u) {
                                  try {
                                      l(r.throw(u));
                                  } catch (c) {
                                      a(c);
                                  }
                              }
                              function l(u) {
                                  u.done ? A(u.value) : i(u.value).then(o, s);
                              }
                              l((r = r.apply(n, t || [])).next());
                          });
                      },
                  Rh =
                      (ai && ai.__generator) ||
                      function (n, t) {
                          var e = {
                                  label: 0,
                                  sent: function () {
                                      if (A[0] & 1) throw A[1];
                                      return A[1];
                                  },
                                  trys: [],
                                  ops: [],
                              },
                              r,
                              i,
                              A,
                              a;
                          return (
                              (a = { next: o(0), throw: o(1), return: o(2) }),
                              typeof Symbol == "function" &&
                                  (a[Symbol.iterator] = function () {
                                      return this;
                                  }),
                              a
                          );
                          function o(l) {
                              return function (u) {
                                  return s([l, u]);
                              };
                          }
                          function s(l) {
                              if (r) throw new TypeError("Generator is already executing.");
                              for (; e; )
                                  try {
                                      if (((r = 1), i && (A = l[0] & 2 ? i.return : l[0] ? i.throw || ((A = i.return) && A.call(i), 0) : i.next) && !(A = A.call(i, l[1])).done)) return A;
                                      switch (((i = 0), A && (l = [l[0] & 2, A.value]), l[0])) {
                                          case 0:
                                          case 1:
                                              A = l;
                                              break;
                                          case 4:
                                              return e.label++, { value: l[1], done: !1 };
                                          case 5:
                                              e.label++, (i = l[1]), (l = [0]);
                                              continue;
                                          case 7:
                                              (l = e.ops.pop()), e.trys.pop();
                                              continue;
                                          default:
                                              if (((A = e.trys), !(A = A.length > 0 && A[A.length - 1]) && (l[0] === 6 || l[0] === 2))) {
                                                  e = 0;
                                                  continue;
                                              }
                                              if (l[0] === 3 && (!A || (l[1] > A[0] && l[1] < A[3]))) {
                                                  e.label = l[1];
                                                  break;
                                              }
                                              if (l[0] === 6 && e.label < A[1]) {
                                                  (e.label = A[1]), (A = l);
                                                  break;
                                              }
                                              if (A && e.label < A[2]) {
                                                  (e.label = A[2]), e.ops.push(l);
                                                  break;
                                              }
                                              A[2] && e.ops.pop(), e.trys.pop();
                                              continue;
                                      }
                                      l = t.call(n, e);
                                  } catch (u) {
                                      (l = [6, u]), (i = 0);
                                  } finally {
                                      r = A = 0;
                                  }
                              if (l[0] & 5) throw l[1];
                              return { value: l[0] ? l[1] : void 0, done: !0 };
                          }
                      };
              Object.defineProperty(ai, "__esModule", { value: !0 });
              ai.SlideLoader = void 0;
              var lb = require("netless-ppt"),
                  xh = Bh(),
                  ub = (function () {
                      function n(t) {
                          var e = this;
                          (this.fetchPPTDefinition = function (r) {
                              return wh(e, void 0, void 0, function () {
                                  var i,
                                      A,
                                      a,
                                      o,
                                      s,
                                      l,
                                      u,
                                      c,
                                      p,
                                      h = this;
                                  return Rh(this, function (v) {
                                      switch (v.label) {
                                          case 0:
                                              return (
                                                  (i = r.split(":")),
                                                  (A = i[0]),
                                                  (a = i[1]),
                                                  (o = i[2]),
                                                  (s = "https://" + A + a + o),
                                                  (l =
                                                      this.onPPTLoadProgress &&
                                                      function (y) {
                                                          h.onPPTLoadProgress(o, parseFloat(y));
                                                      }),
                                                  [4, lb.loadPPT(s, o, this.preload, l, this.userFonts, this.logger, this.pptParams)]
                                              );
                                          case 1:
                                              return (
                                                  (u = v.sent()),
                                                  (c = Object.freeze({ uuid: o, width: u.width, height: u.height, slidesCount: u.slidesCount })),
                                                  (p = new xh.FetcherHub(function (y) {
                                                      return h.fetchSlideDefinition(o, u, y);
                                                  })),
                                                  [2, Object.freeze({ slideFetcher: p, definition: c })]
                                              );
                                      }
                                  });
                              });
                          }),
                              (this.preload = t.preload),
                              (this.userFonts = t.userFonts),
                              (this.onSlideReady = t.onSlideReady),
                              (this.onPPTLoadProgress = t.onPPTLoadProgress),
                              (this.pptFetcher = new xh.FetcherHub(this.fetchPPTDefinition)),
                              (this.logger = t.logger),
                              (this.pptParams = t.pptParams);
                      }
                      return (
                          (n.prototype.getPptStateWithSlideUrl = function (t, e) {
                              var r = this;
                              e === void 0 && (e = 0);
                              var i = t.host,
                                  A = t.directoryPath,
                                  a = t.uuid,
                                  o = t.index,
                                  s = i + ":" + A + ":" + a,
                                  l = this.getPptStateRightNow(s, o);
                              if (l) return l;
                              this.pptFetcher
                                  .getTarget(s)
                                  .then(function (u) {
                                      return u.slideFetcher.getTarget(o);
                                  })
                                  .catch(function () {
                                      e > 0 &&
                                          setTimeout(function () {
                                              r.getPptStateWithSlideUrl(t, e - 1);
                                          }, 1e3 * Math.pow(3, 1 + Math.max(3 - e, 0)));
                                  });
                          }),
                          (n.prototype.getPptStateRightNow = function (t, e) {
                              var r = this.pptFetcher.getTargetRightNow(t);
                              if (r) {
                                  var i = r.slideFetcher.getTargetRightNow(e);
                                  if (i) return qo(qo({}, r.definition), i);
                              }
                          }),
                          (n.prototype.fetchSlideDefinition = function (t, e, r) {
                              return wh(this, void 0, void 0, function () {
                                  var i,
                                      A,
                                      a,
                                      o = this;
                                  return Rh(this, function (s) {
                                      switch (s.label) {
                                          case 0:
                                              return [4, e.loadSlide(r)];
                                          case 1:
                                              return (
                                                  (i = s.sent()),
                                                  (A = i.animations.sequenceAnimesCounts["-1"] || 0),
                                                  (a = Object.freeze({ index: r, data: i, progressCount: A + 1 })),
                                                  setTimeout(function () {
                                                      return o.onSlideReady(t, r);
                                                  }, 0),
                                                  [2, a]
                                              );
                                      }
                                  });
                              });
                          }),
                          n
                      );
                  })();
              ai.SlideLoader = ub;
          });
          var Th = C(function (Uo) {
              "use strict";
              Object.defineProperty(Uo, "__esModule", { value: !0 });
              Uo.MySlideStateAdapter = void 0;
              var cb = (function () {
                  function n(t, e) {
                      (this.onUpdateSlideState = t), (this.pptHandler = e), (this._disableInteractive = !0);
                  }
                  return (
                      Object.defineProperty(n.prototype, "disableInteractive", {
                          get: function () {
                              return this._disableInteractive;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      (n.prototype.setSlideStateAdapterCallbacks = function (t) {
                          this.callbacks = t;
                      }),
                      (n.prototype.setState = function (t, e, r) {
                          this._disableInteractive || this.onUpdateSlideState(r);
                      }),
                      (n.prototype.onPageToNext = function () {
                          this.pptHandler && this.pptHandler.onPageToNext && this.pptHandler.onPageToNext();
                      }),
                      (n.prototype.onPageToPrev = function () {
                          this.pptHandler && this.pptHandler.onPageToPrev && this.pptHandler.onPageToPrev();
                      }),
                      (n.prototype.onPageJumpTo = function (t, e) {
                          this.pptHandler && this.pptHandler.onPageJumpTo && this.pptHandler.onPageJumpTo(t, e);
                      }),
                      (n.prototype.setDisableInteractive = function (t) {
                          this._disableInteractive = t;
                      }),
                      n
                  );
              })();
              Uo.MySlideStateAdapter = cb;
          });
          var Eh = C(function (IA) {
              "use strict";
              var VA =
                  (IA && IA.__assign) ||
                  function () {
                      return (
                          (VA =
                              Object.assign ||
                              function (n) {
                                  for (var t, e = 1, r = arguments.length; e < r; e++) {
                                      t = arguments[e];
                                      for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                  }
                                  return n;
                              }),
                          VA.apply(this, arguments)
                      );
                  };
              Object.defineProperty(IA, "__esModule", { value: !0 });
              IA.DynamicPptImplement = void 0;
              var pb = require("netless-ppt"),
                  Oh = tu(),
                  hb = Mh(),
                  db = Th(),
                  fb = (function () {
                      function n(t) {
                          var e = this,
                              r = t.globalStateUpdater,
                              i = t.preload,
                              A = t.pptHandler,
                              a = t.userFonts,
                              o = t.observerId,
                              s = t.renderMode,
                              l = s === void 0 ? pb.RenderMode.Normal : s,
                              u = t.onPPTLoadProgress,
                              c = t.onPPTMediaPlay,
                              p = t.onPPTMediaPause,
                              h = t.onPPTMediaPlayError,
                              v = t.logger,
                              y = t.pptParams,
                              _ = t.userPayload;
                          (this.nodes = []),
                              (this.onSlideReady = function (B, S) {
                                  for (var M = 0, E = e.nodes; M < E.length; M++) {
                                      var W = E[M];
                                      W.url.uuid === B && W.url.index === S && W.delegate.onSlideReady();
                                  }
                              }),
                              (this.globalStateUpdater = r),
                              (this.userPayload = _),
                              (this.userId = "" + o),
                              (this.loader = new hb.SlideLoader({ preload: i, userFonts: a, onSlideReady: this.onSlideReady, onPPTLoadProgress: u, logger: v, pptParams: y })),
                              (this.renderMode = l),
                              (this.onPPTMediaPlay = c),
                              (this.onPPTMediaPause = p),
                              (this.onPPTMediaPlayError = h),
                              (this.slideStateAdapter = new db.MySlideStateAdapter(function (B) {
                                  return e.updateSlideState(B);
                              }, A));
                      }
                      return (
                          (n.prototype.updateSlideState = function (t) {
                              if (this.globalStateUpdater) {
                                  var e = this.globalStateWith(VA({}, t));
                                  this.globalStateUpdater(e);
                              }
                          }),
                          (n.prototype.setDisableInteractive = function (t) {
                              this.slideStateAdapter.setDisableInteractive(t);
                          }),
                          (n.prototype.moveStep = function (t) {
                              if (!this.dynamicPptState && this.nodes) {
                                  this.nodes[0].delegate.moveSlideStep(t);
                                  return;
                              } else if (!this.dynamicPptState) {
                                  console.warn("dynamicPpt is not defined and there is no node");
                                  return;
                              }
                              for (var e = 0, r = this.nodes; e < r.length; e++) {
                                  var i = r[e];
                                  i.url.uuid === this.dynamicPptState.uuid && i.url.index === this.dynamicPptState.pageIndex && i.delegate.moveSlideStep(t);
                              }
                          }),
                          (n.prototype.globalStateWith = function (t) {
                              var e;
                              return (e = {}), (e[n.StateKey] = VA(VA({}, this.dynamicPptState), t)), e;
                          }),
                          (n.prototype.setGlobalState = function (t) {
                              var e = t[n.StateKey];
                              if (e) {
                                  this.dynamicPptState = VA({}, e);
                                  for (var r = 0, i = this.nodes; r < i.length; r++) {
                                      var A = i[r];
                                      A.url.uuid === e.uuid && A.url.index === e.pageIndex && A.delegate.onSliderStateUpdate(this.dynamicPptState);
                                  }
                              } else this.dynamicPptState = void 0;
                          }),
                          (n.prototype.addDynamicPptDelegate = function (t, e) {
                              if (
                                  !this.nodes.some(function (i) {
                                      return i.delegate === e;
                                  })
                              ) {
                                  var r = { url: t, delegate: e };
                                  this.nodes.push(r);
                              }
                          }),
                          (n.prototype.removeDynamicPptDelegate = function (t) {
                              var e = this.nodes.findIndex(function (r) {
                                  return r.delegate === t;
                              });
                              e !== -1 && this.nodes.splice(e, 1);
                          }),
                          (n.prototype.updateObserverId = function (t) {
                              this.userId = "" + t;
                              for (var e = 0, r = this.nodes; e < r.length; e++) {
                                  var i = r[e];
                                  i.delegate.onSliderObserverIdUpdate(this.userId);
                              }
                          }),
                          (n.prototype.getRenderMode = function () {
                              return this.renderMode;
                          }),
                          Object.defineProperty(n.prototype, "userId", {
                              get: function () {
                                  return this._userId;
                              },
                              set: function (t) {
                                  this.userPayload !== void 0 && this.userPayload.userId !== void 0 ? (this._userId = "" + this.userPayload.userId) : (this._userId = t);
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (n.prototype.getPptState = function () {
                              return this.dynamicPptState;
                          }),
                          (n.prototype.getSlideUrl = function (t) {
                              return Oh.SlideUrl.parse(t);
                          }),
                          (n.prototype.getPptSildeDefinition = function (t) {
                              var e = Oh.SlideUrl.parse(t);
                              if (e) return this.loader.getPptStateWithSlideUrl(e);
                          }),
                          (n.prototype.getPptStateWithSlideUrl = function (t, e) {
                              return e === void 0 && (e = 0), this.loader.getPptStateWithSlideUrl(t, e);
                          }),
                          (n.prototype.replayPasue = function (t) {
                              for (var e = 0, r = this.nodes; e < r.length; e++) {
                                  var i = r[e];
                                  i.delegate.replayPause(t);
                              }
                          }),
                          (n.StateKey = "__pptState"),
                          n
                      );
                  })();
              IA.DynamicPptImplement = fb;
          });
          var Gh = C(function (Lo) {
              "use strict";
              Object.defineProperty(Lo, "__esModule", { value: !0 });
              Lo.createDynamicPpt = void 0;
              var gb = Eh();
              function vb(n) {
                  return new gb.DynamicPptImplement(n);
              }
              Lo.createDynamicPpt = vb;
          });
          var Wh = C(function (lr) {
              "use strict";
              var mb =
                      (lr && lr.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  yb =
                      (lr && lr.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  bb =
                      (lr && lr.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  Pb =
                      (lr && lr.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && yb(t, n, e);
                          return bb(t, n), t;
                      };
              Object.defineProperty(lr, "__esModule", { value: !0 });
              lr.DynamicComponent = void 0;
              var jh = Pb(require("react")),
                  _b = require("netless-ppt"),
                  Sb = (function (n) {
                      mb(t, n);
                      function t(e) {
                          var r = n.call(this, e) || this;
                          return (
                              (r.dynamicPpt = e.dynamicPpt),
                              (r.url = e.url),
                              r.dynamicPpt.addDynamicPptDelegate(r.url, r),
                              (r.state = { observerId: r.dynamicPpt.userId, globalPptState: r.dynamicPpt.getPptState(), pptData: r.dynamicPpt.getPptStateWithSlideUrl(r.url, 10), isReplayPause: !1 }),
                              r
                          );
                      }
                      return (
                          (t.prototype.componentWillUnmount = function () {
                              this.dynamicPpt.removeDynamicPptDelegate(this);
                          }),
                          (t.prototype.onSliderStateUpdate = function (e) {
                              this.setState({ globalPptState: e });
                          }),
                          (t.prototype.onSliderObserverIdUpdate = function (e) {
                              this.setState({ observerId: e });
                          }),
                          (t.prototype.onSlideReady = function () {
                              var e = this.state.pptData;
                              if (!e) {
                                  var r = this.dynamicPpt.getPptStateWithSlideUrl(this.url);
                                  this.setState({ pptData: r });
                              }
                          }),
                          (t.prototype.moveSlideStep = function (e) {
                              this._sliderRef && this._sliderRef.changeStep(e);
                          }),
                          (t.prototype.replayPause = function (e) {
                              this.setState({ isReplayPause: e });
                          }),
                          (t.prototype.render = function () {
                              var e = this,
                                  r = this.state.pptData;
                              if (r) {
                                  var i = this.props.dynamicPpt,
                                      A = this.state,
                                      a = A.globalPptState,
                                      o = A.observerId,
                                      s = A.isReplayPause,
                                      l = r.data,
                                      u = a || {};
                                  return jh.createElement(_b.Slide, {
                                      data: l,
                                      renderMode: this.dynamicPpt.getRenderMode(),
                                      userId: o,
                                      pptState: u,
                                      stateAdapter: i.slideStateAdapter,
                                      ref: function (c) {
                                          e._sliderRef = c;
                                      },
                                      pausing: s,
                                      callbacks: { onMediaPlay: i.onPPTMediaPlay, onMediaPause: i.onPPTMediaPause, onMediaPlayError: i.onPPTMediaPlayError },
                                  });
                              } else return null;
                          }),
                          t
                      );
                  })(jh.Component);
              lr.DynamicComponent = Sb;
          });
          var Jo = C(function (Ei) {
              "use strict";
              var Cb =
                      (Ei && Ei.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  ru =
                      (Ei && Ei.__exportStar) ||
                      function (n, t) {
                          for (var e in n) e !== "default" && !Object.prototype.hasOwnProperty.call(t, e) && Cb(t, n, e);
                      };
              Object.defineProperty(Ei, "__esModule", { value: !0 });
              ru(Gh(), Ei);
              ru(Wh(), Ei);
              ru(tu(), Ei);
          });
          var Xh = C(function (It) {
              "use strict";
              var Bb =
                      (It && It.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  wb =
                      (It && It.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  Rb =
                      (It && It.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  xb =
                      (It && It.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  Mb =
                      (It && It.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && wb(t, n, e);
                          return Rb(t, n), t;
                      };
              Object.defineProperty(It, "__esModule", { value: !0 });
              It.BackgroundImageComponent = void 0;
              var ja = Mb(require("react")),
                  Tb = require("akko"),
                  Ob = pe(),
                  Zh = require("boundless"),
                  Vh = ge(),
                  Ih = Jo(),
                  Eb = (function (n) {
                      Bb(t, n);
                      function t() {
                          return (n !== null && n.apply(this, arguments)) || this;
                      }
                      return (
                          (t.prototype.render = function () {
                              var e = this.props,
                                  r = e.id,
                                  i = e.cnode,
                                  A = e.context,
                                  a = e.payload;
                              if (!Tb.isAkkoWrappedObjectAccessible(a)) return null;
                              var o = A.dynamicPpt,
                                  s = A.forcePPTLandscape,
                                  l = A.onBackgroundError,
                                  u = Ih.SlideUrl.parse(a.src),
                                  c = a.width,
                                  p = a.height;
                              if (s) {
                                  var h = c,
                                      v = p;
                                  (c = Math.max(h, v)), (p = Math.min(h, v));
                              }
                              if (u) return ja.createElement(Zh.CNode, { key: r, context: i }, ja.createElement(Ih.DynamicComponent, { url: u, dynamicPpt: o }));
                              var y = a.src;
                              A.convertIdToUrl && (y = A.convertIdToUrl(y));
                              var _ = void 0;
                              return (
                                  l &&
                                      (_ = function () {
                                          return l(y);
                                      }),
                                  ja.createElement(Zh.CNode, { key: r, context: i }, ja.createElement("img", { src: y, width: c, alt: "background", height: p, onError: _ }))
                              );
                          }),
                          (t.disableVisionTrim = !0),
                          (t = xb([Vh.register.defineReact(Vh.register.backgroundEngine, Ob.BackgroundImage)], t)),
                          t
                      );
                  })(ja.Component);
              It.BackgroundImageComponent = Eb;
          });
          var Mr = C(function (ur) {
              "use strict";
              var Gb =
                      (ur && ur.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  jb =
                      (ur && ur.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  Wb =
                      (ur && ur.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  Zb =
                      (ur && ur.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && jb(t, n, e);
                          return Wb(t, n), t;
                      };
              Object.defineProperty(ur, "__esModule", { value: !0 });
              ur.createEditableComponent = void 0;
              var kh = Zb(require("react")),
                  Vb = require("boundless"),
                  Ib = require("akko");
              function Xb() {
                  var n = (function (t) {
                      Gb(e, t);
                      function e() {
                          return (t !== null && t.apply(this, arguments)) || this;
                      }
                      return (
                          (e.prototype.render = function () {
                              return kb(this.props);
                          }),
                          e
                      );
                  })(kh.Component);
                  return n;
              }
              ur.createEditableComponent = Xb;
              function kb(n) {
                  var t = n.payload;
                  if (!Ib.isAkkoWrappedObjectAccessible(t) || t.rotation !== void 0) return null;
                  var e = t.context.getMemberState(t.selectedBy);
                  if (!e) return null;
                  var r = e.strokeColor,
                      i = r[0],
                      A = r[1],
                      a = r[2];
                  return kh.createElement(Vb.CNode, { key: n.id, className: "highlight-box", style: { borderColor: "rgb(" + i + "," + A + "," + a + ")" }, context: n.cnode });
              }
          });
          var Nh = C(function (cr) {
              "use strict";
              var Nb =
                      (cr && cr.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  Hb =
                      (cr && cr.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  Db =
                      (cr && cr.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && Nb(t, n, e);
                          return Hb(t, n), t;
                      };
              Object.defineProperty(cr, "__esModule", { value: !0 });
              cr.RotationIndicator = cr.indicatorSize = void 0;
              var Yb = Db(require("react"));
              cr.indicatorSize = Object.freeze({ width: 32, height: 20 });
              var Fb = function (n) {
                  var t = n.rotation;
                  return Yb.createElement("div", { className: "rotation-indicator" }, t + "");
              };
              cr.RotationIndicator = Fb;
          });
          var Yh = C(function (gt) {
              "use strict";
              var zb =
                      (gt && gt.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  XA =
                      (gt && gt.__assign) ||
                      function () {
                          return (
                              (XA =
                                  Object.assign ||
                                  function (n) {
                                      for (var t, e = 1, r = arguments.length; e < r; e++) {
                                          t = arguments[e];
                                          for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                      }
                                      return n;
                                  }),
                              XA.apply(this, arguments)
                          );
                      },
                  Qb =
                      (gt && gt.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  qb =
                      (gt && gt.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  Ub =
                      (gt && gt.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  Lb =
                      (gt && gt.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && Qb(t, n, e);
                          return qb(t, n), t;
                      };
              Object.defineProperty(gt, "__esModule", { value: !0 });
              gt.EditorRectangleSpaceComponent = void 0;
              var Bt = Lb(require("react")),
                  Wa = require("boundless"),
                  Jb = require("akko"),
                  vn = pe(),
                  Hh = ge(),
                  Dh = Nh(),
                  Xt;
              (function (n) {
                  (n[(n.Box = 0)] = "Box"), (n[(n.HollowCircle = 1)] = "HollowCircle");
              })(Xt || (Xt = {}));
              var Kb = (function (n) {
                  zb(t, n);
                  function t() {
                      var e = (n !== null && n.apply(this, arguments)) || this;
                      return (e.preCursorClass = ""), e;
                  }
                  return (
                      (t.prototype.componentWillUnmount = function () {
                          var e,
                              r = this.props.context;
                          (e = r.mouseFollower) === null || e === void 0 || e.setFollower(null);
                      }),
                      (t.prototype.refreshCursorClassIfNeed = function () {
                          var e = this.props,
                              r = e.payload,
                              i = e.context.updateCursorClass;
                          if (i) {
                              var A = r.draggingContext,
                                  a = "";
                              A && (a = this.mapTargetIdToCursorClass(A.targetId)),
                                  this.preCursorClass !== a &&
                                      ((this.preCursorClass = a),
                                      a || (a = "cursor-selector"),
                                      setTimeout(function () {
                                          return i(a);
                                      }, 0));
                          }
                      }),
                      (t.prototype.mapTargetIdToCursorClass = function (e) {
                          switch (e) {
                              case "LT":
                              case "RB":
                                  return "cursor-nwse";
                              case "LB":
                              case "RT":
                                  return "cursor-nesw";
                              case "T":
                              case "B":
                                  return "cursor-ns";
                              case "L":
                              case "R":
                                  return "cursor-ew";
                              case "Rot":
                                  return "cursor-rotation";
                              case "Begin":
                              case "End":
                                  return "cursor-move";
                          }
                          return "";
                      }),
                      (t.prototype.decorateStyleWithOperationKind = function (e, r, i) {
                          switch ((i === void 0 && (i = {}), r)) {
                              case Xt.Box: {
                                  i.backgroundColor = e;
                                  break;
                              }
                              case Xt.HollowCircle: {
                                  (i.borderRadius = "50%"), (i.borderWidth = "1px"), (i.borderStyle = "solid"), (i.borderColor = e), (i.backgroundColor = "rgb(255,255,255)");
                                  break;
                              }
                          }
                          return i;
                      }),
                      (t.prototype.renderLock = function () {
                          return Bt.createElement("img", { className: "lock", alt: "locked", src: "https://sdk.netless.link/resource/icons/lock.svg" });
                      }),
                      (t.prototype.renderOperationPoints = function (e, r) {
                          var i = this.props.context,
                              A = e.isUniformScale,
                              a = e.isRotable,
                              o = e.onlyOneVector,
                              s = i.enableRotation,
                              l = i.enableVectorOperator;
                          return Bt.createElement(Bt.Fragment, null, a && s && this.renderRotationPoint(r), o && l && this.renderVectorShapeOperationPoints(r, o), !(o && l) && this.renderCommonOperationPoints(r, A));
                      }),
                      (t.prototype.renderRotationPoint = function (e) {
                          var r = this.props.context;
                          return r.deviceType === Wa.DeviceType.Touch
                              ? null
                              : Bt.createElement("div", { className: "operation-point-desktop rotation Rot", style: { backgroundColor: e } }, r.icons && Bt.createElement("img", { alt: "icon", src: r.icons["rotation-button"] }));
                      }),
                      (t.prototype.renderVectorShapeOperationPoints = function (e, r) {
                          var i = this.props,
                              A = i.context,
                              a = i.size,
                              o = i.scale,
                              s = r.state.strokeWidth * o,
                              l = A.deviceType !== Wa.DeviceType.Touch ? 4.5 : 17.5,
                              u = a.width - 2 * s,
                              c = a.height - 2 * s,
                              p = s,
                              h = s,
                              v = s,
                              y = s;
                          switch (r.direction) {
                              case vn.VectorDirection.ToLeftTop: {
                                  (p += u), (h += c);
                                  break;
                              }
                              case vn.VectorDirection.ToRightTop: {
                                  (h += c), (v += u);
                                  break;
                              }
                              case vn.VectorDirection.ToLeftBottom: {
                                  (p += u), (y += c);
                                  break;
                              }
                              case vn.VectorDirection.ToRightBottom: {
                                  (v += u), (y += c);
                                  break;
                              }
                          }
                          return Bt.createElement(
                              Bt.Fragment,
                              null,
                              this.renderOperationPoint("cursor-move", "Begin", Xt.HollowCircle, e, { left: p - l, top: h - l }),
                              this.renderOperationPoint("cursor-move", "End", Xt.HollowCircle, e, { left: v - l, top: y - l })
                          );
                      }),
                      (t.prototype.renderCommonOperationPoints = function (e, r) {
                          var i = this.props,
                              A = i.context,
                              a = i.size,
                              o = i.margin,
                              s = o.left,
                              l = o.right,
                              u = o.top,
                              c = o.bottom,
                              p = a.width - s - l,
                              h = a.height - u - c,
                              v = A.deviceType !== Wa.DeviceType.Touch ? 4.5 : 17.5;
                          return Bt.createElement(
                              Bt.Fragment,
                              null,
                              this.renderOperationPoint("left-top cursor-nwse", "LT", Xt.Box, e),
                              this.renderOperationPoint("right-top cursor-nesw", "RT", Xt.Box, e),
                              this.renderOperationPoint("left-bottom cursor-nesw", "LB", Xt.Box, e),
                              this.renderOperationPoint("right-bottom cursor-nwse", "RB", Xt.Box, e),
                              !r && this.renderOperationPoint("top cursor-ns", "T", Xt.Box, e, { left: s + p / 2 - v }),
                              !r && this.renderOperationPoint("right cursor-ew", "R", Xt.Box, e, { top: u + h / 2 - v }),
                              !r && this.renderOperationPoint("bottom cursor-ns", "B", Xt.Box, e, { left: s + p / 2 - v }),
                              !r && this.renderOperationPoint("left cursor-ew", "L", Xt.Box, e, { top: u + h / 2 - v })
                          );
                      }),
                      (t.prototype.renderOperationPoint = function (e, r, i, A, a) {
                          a === void 0 && (a = {});
                          var o = "operation-point",
                              s = this.props.context;
                          return s.deviceType === Wa.DeviceType.Touch
                              ? Bt.createElement(
                                    "div",
                                    { className: o + "-touch " + e + " " + r, style: XA(XA({}, a), { backgroundColor: "rgba(255, 255, 255, 0)" }) },
                                    Bt.createElement("div", { style: this.decorateStyleWithOperationKind(A, i) })
                                )
                              : Bt.createElement("div", { className: o + "-desktop " + e + " " + r, style: this.decorateStyleWithOperationKind(A, i, a) });
                      }),
                      (t.prototype.render = function () {
                          var e,
                              r,
                              i = this.props,
                              A = i.id,
                              a = i.cnode,
                              o = i.context,
                              s = i.payload;
                          if (!Jb.isAkkoWrappedObjectAccessible(s)) return null;
                          if ((this.refreshCursorClassIfNeed(), s.rotation !== void 0)) {
                              var l = Math.floor((s.rotation / Math.PI) * 180);
                              return (e = o.mouseFollower) === null || e === void 0 || e.setFollower(XA(XA({}, Dh.indicatorSize), { reactNode: Bt.createElement(Dh.RotationIndicator, { rotation: l }) })), null;
                          } else (r = o.mouseFollower) === null || r === void 0 || r.setFollower(null);
                          var u = s.belongsToUserId === o.observerId ? vn.BelongsTo.Me : vn.BelongsTo.Others,
                              c = s.context.getMemberState(s.belongsToUserId);
                          if (!c) return null;
                          var p = c.strokeColor,
                              h = p[0],
                              v = p[1],
                              y = p[2],
                              _ = "rgb(" + h + ", " + v + ", " + y + ")",
                              B = null;
                          return (
                              u === vn.BelongsTo.Me && (s.isLocked ? ((_ = "rgb(177, 177, 177)"), (B = this.renderLock())) : (B = this.renderOperationPoints(s, _))),
                              Bt.createElement(Wa.CNode, { key: A, className: "editor-box", context: a, style: { borderColor: _ } }, B)
                          );
                      }),
                      (t = Ub([Hh.register.defineReact(Hh.register.componentEngine, vn.EditorRectangleSpace)], t)),
                      t
                  );
              })(Bt.Component);
              gt.EditorRectangleSpaceComponent = Kb;
          });
          var zh = C(function (Fh) {
              "use strict";
              Object.defineProperty(Fh, "__esModule", { value: !0 });
          });
          var Va = C(function (et) {
              "use strict";
              var iu =
                      (et && et.__assign) ||
                      function () {
                          return (
                              (iu =
                                  Object.assign ||
                                  function (n) {
                                      for (var t, e = 1, r = arguments.length; e < r; e++) {
                                          t = arguments[e];
                                          for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                      }
                                      return n;
                                  }),
                              iu.apply(this, arguments)
                          );
                      },
                  $b =
                      (et && et.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  eP =
                      (et && et.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  tP =
                      (et && et.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && $b(t, n, e);
                          return eP(t, n), t;
                      },
                  Za;
              Object.defineProperty(et, "__esModule", { value: !0 });
              et.action = et.computed = et.observable = et.makeObservable = void 0;
              var Gi = tP(require("mobx"));
              (et.makeObservable =
                  ((Za = (function () {
                      var n, t, e, r;
                      return (
                          Gi.makeObservable !== void 0
                              ? ((t = function () {}),
                                (t.map = Gi.observable.map.bind(Gi.observable)),
                                (e = function () {}),
                                (r = function () {}),
                                (n = function (i, A, a) {
                                    var o = A;
                                    if (o) {
                                        o = iu({}, o);
                                        for (var s in o) {
                                            var l = o[s];
                                            l === t ? (o[s] = Gi.observable) : l === r && (o[s] = Gi.action);
                                        }
                                    }
                                    return Gi.makeObservable(i, o, a);
                                }))
                              : ((n = function (i) {
                                    return i;
                                }),
                                (t = Gi.observable),
                                (e = Gi.computed),
                                (r = Gi.action)),
                          { makeObservable: n, observable: t, computed: e, action: r }
                      );
                  })()),
                  Za.makeObservable)),
                  (et.observable = Za.observable),
                  (et.computed = Za.computed),
                  (et.action = Za.action);
          });
          var Qh = C(function (kA) {
              "use strict";
              var Ko =
                  (kA && kA.__decorate) ||
                  function (n, t, e, r) {
                      var i = arguments.length,
                          A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                          a;
                      if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                      else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                      return i > 3 && A && Object.defineProperty(t, e, A), A;
                  };
              Object.defineProperty(kA, "__esModule", { value: !0 });
              kA.PluginManager = void 0;
              var oi = Va(),
                  rP = (function () {
                      function n(t, e) {
                          t === void 0 && (t = Object.freeze({})),
                              (this.contextMap = oi.observable.map({})),
                              (this.pluginInstances = []),
                              (this._isPlaying = !0),
                              (this._playerTimestamp = 0),
                              (this._playbackSpeed = 1),
                              (this.plugins = t),
                              (this.operator = e),
                              oi.makeObservable(this, { setPluginContext: oi.action, _isPlaying: oi.observable, _playerTimestamp: oi.observable, _playbackSpeed: oi.observable });
                      }
                      return (
                          Object.defineProperty(n.prototype, "isPlaying", {
                              get: function () {
                                  return this._isPlaying;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(n.prototype, "playerTimestamp", {
                              get: function () {
                                  return this._playerTimestamp;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(n.prototype, "playbackSpeed", {
                              get: function () {
                                  return this._playbackSpeed;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (n.prototype.setPlayerState = function (t) {
                              var e = t.isPlaying,
                                  r = t.timestamp,
                                  i = t.playbackSpeed;
                              e !== void 0 && this._isPlaying !== e && (this._isPlaying = e),
                                  r !== void 0 && this._playerTimestamp !== r && (this._playerTimestamp = r),
                                  i !== void 0 && this._playbackSpeed !== i && (this._playbackSpeed = i);
                          }),
                          (n.prototype.setPlayingState = function (t) {
                              this.setPlayerState({ isPlaying: t });
                          }),
                          (n.prototype.setPluginContext = function (t, e) {
                              this.contextMap.set(t, e);
                          }),
                          (n.prototype.getPluginContext = function (t) {
                              return this.contextMap.get(t);
                          }),
                          (n.prototype.findPlugin = function (t) {
                              return this.plugins[t];
                          }),
                          (n.prototype.remove = function (t) {
                              this.operator && this.operator.remove(t);
                          }),
                          (n.prototype.update = function (t, e) {
                              this.operator && this.operator.update(t, e);
                          }),
                          (n.prototype.getPluginComponent = function (t) {
                              if (this.operator) return this.operator.getPlugin(t);
                          }),
                          (n.prototype.addPluginInstance = function (t) {
                              this.pluginInstances.push(t);
                          }),
                          (n.prototype.removePluginInstance = function (t) {
                              var e = this.pluginInstances.findIndex(function (r) {
                                  return r === t;
                              });
                              e !== -1 && this.pluginInstances.splice(e, 1);
                          }),
                          (n.prototype.refreshPluginInstances = function () {
                              this.pluginInstances.forEach(function (t) {
                                  t.refreshComponent();
                              });
                          }),
                          Ko([oi.observable], n.prototype, "_isPlaying", void 0),
                          Ko([oi.observable], n.prototype, "_playerTimestamp", void 0),
                          Ko([oi.observable], n.prototype, "_playbackSpeed", void 0),
                          Ko([oi.action], n.prototype, "setPluginContext", null),
                          n
                      );
                  })();
              kA.PluginManager = rP;
          });
          var qh = C(function (HA) {
              "use strict";
              var nu =
                  (HA && HA.__decorate) ||
                  function (n, t, e, r) {
                      var i = arguments.length,
                          A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                          a;
                      if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                      else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                      return i > 3 && A && Object.defineProperty(t, e, A), A;
                  };
              Object.defineProperty(HA, "__esModule", { value: !0 });
              HA.PluginImplement = void 0;
              var iP = require("mobx"),
                  $o = require("akko"),
                  NA = Va();
              function nP(n) {
                  return typeof n == "object" && n !== null;
              }
              var AP = (function () {
                  function n(t, e, r) {
                      (this.manager = t),
                          (this.plugin = e),
                          (this.component = r),
                          (this.pressedRect = null),
                          (this._isDraging = !1),
                          (this._isResizing = !1),
                          (this.kind = r.kind),
                          (this.identifier = r.key),
                          (this.reactionDisposer = this.startReaction()),
                          NA.makeObservable(this, { _isDraging: NA.observable, _isResizing: NA.observable });
                  }
                  return (
                      (n.prototype.refreshComponent = function () {
                          var t = this.manager.getPluginComponent(this.identifier);
                          t && (this.component = t), this.reactionDisposer(), (this.reactionDisposer = this.startReaction());
                      }),
                      (n.prototype.dispose = function () {
                          this.reactionDisposer();
                      }),
                      Object.defineProperty(n.prototype, "isPlaying", {
                          get: function () {
                              return this.manager.isPlaying;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(n.prototype, "playerTimestamp", {
                          get: function () {
                              return this.manager.playerTimestamp;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(n.prototype, "playbackSpeed", {
                          get: function () {
                              return this.manager.playbackSpeed;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      (n.prototype.startReaction = function () {
                          var t = this;
                          return iP.reaction(
                              function () {
                                  return { isPressed: t.component.isPressed, originX: t.component.originX, originY: t.component.originY, width: t.component.width, height: t.component.height };
                              },
                              function (e) {
                                  e.isPressed
                                      ? t.pressedRect
                                          ? t.checkDragOrResize(t.pressedRect, e)
                                          : (t.pressedRect = { originX: e.originX, originY: e.originY, width: e.width, height: e.height })
                                      : (t._isDraging && (t._isDraging = !1), t._isResizing && (t._isResizing = !1), (t.pressedRect = null));
                              }
                          );
                      }),
                      (n.prototype.checkDragOrResize = function (t, e) {
                          !this._isDraging && (t.originX !== e.originX || t.originY !== e.originY) && (this._isDraging = !0), !this._isResizing && (t.width !== e.width || t.height !== e.height) && (this._isResizing = !0);
                      }),
                      Object.defineProperty(n.prototype, "context", {
                          get: function () {
                              return this.manager.getPluginContext(this.kind);
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(n.prototype, "originX", {
                          get: function () {
                              return this.component.originX;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(n.prototype, "originY", {
                          get: function () {
                              return this.component.originY;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(n.prototype, "width", {
                          get: function () {
                              return this.component.width;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(n.prototype, "height", {
                          get: function () {
                              return this.component.height;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(n.prototype, "selectable", {
                          get: function () {
                              return this.component.selectable;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(n.prototype, "isDraging", {
                          get: function () {
                              return this._isDraging && !this._isResizing;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(n.prototype, "isResizing", {
                          get: function () {
                              return this._isResizing;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      Object.defineProperty(n.prototype, "attributes", {
                          get: function () {
                              return this.component.attributes;
                          },
                          set: function (t) {
                              this.manager.update(this.identifier, { attributes: t });
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      (n.prototype.putAttributes = function (t) {
                          var e = this.component.attributes;
                          if (nP(t) && $o.findClass(e) === Object) {
                              var r = {};
                              for (var i in e) i in t ? (r[i] = t[i]) : (r[i] = $o.copy(e[i]));
                              for (var i in t) i in r || (r[i] = t[i]);
                              this.manager.update(this.identifier, { attributes: r });
                          }
                      }),
                      (n.prototype.removeAttributeKeys = function () {
                          for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                          var r = this.component.attributes;
                          if ($o.findClass(r) === Object) {
                              var i = {};
                              for (var A in r) t.indexOf(A) === -1 && (i[A] = $o.copy(r[A]));
                              this.manager.update(this.identifier, { attributes: i });
                          }
                      }),
                      (n.prototype.update = function (t) {
                          this.manager.update(this.identifier, t);
                      }),
                      (n.prototype.remove = function () {
                          this.manager.remove(this.identifier);
                      }),
                      nu([NA.observable], n.prototype, "_isDraging", void 0),
                      nu([NA.observable], n.prototype, "_isResizing", void 0),
                      nu([NA.computed], n.prototype, "isDraging", null),
                      n
                  );
              })();
              HA.PluginImplement = AP;
          });
          var au = C(function (ji) {
              "use strict";
              var aP =
                      (ji && ji.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  Au =
                      (ji && ji.__exportStar) ||
                      function (n, t) {
                          for (var e in n) e !== "default" && !Object.prototype.hasOwnProperty.call(t, e) && aP(t, n, e);
                      };
              Object.defineProperty(ji, "__esModule", { value: !0 });
              Au(zh(), ji);
              Au(Qh(), ji);
              Au(qh(), ji);
          });
          var Lh = C(function (kt) {
              "use strict";
              var oP =
                      (kt && kt.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  sP =
                      (kt && kt.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  lP =
                      (kt && kt.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  uP =
                      (kt && kt.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  cP =
                      (kt && kt.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && sP(t, n, e);
                          return lP(t, n), t;
                      };
              Object.defineProperty(kt, "__esModule", { value: !0 });
              kt.PluginRender = void 0;
              var Uh = cP(require("react")),
                  ou = pe(),
                  Ia = ge(),
                  pP = au(),
                  hP = Mr();
              Ia.register.defineReact(Ia.register.componentEngine, ou.PluginComponent)(hP.createEditableComponent());
              var su = (function (n) {
                  oP(t, n);
                  function t(r) {
                      var i = n.call(this, r) || this;
                      return (i.plugin = r.context.pluginManager.findPlugin(r.payload.kind)), (i.pluginInstance = i.plugin && new pP.PluginImplement(r.context.pluginManager, i.plugin, r.payload)), i;
                  }
                  (e = t),
                      (t.hitTest = function (r, i, A, a, o) {
                          var s = i.payload;
                          if (r.context.disalbeImageHit) return !1;
                          if (s.selectable) {
                              var l = this.visibleMap[s.identifier];
                              return l ? (l.plugin.hitTest ? l.plugin.hitTest(l, A, a, o) : !0) : !1;
                          } else return !1;
                      }),
                      (t.willInterruptEvent = function (r, i, A) {
                          var a = this.visibleMap[i.payload.identifier];
                          return a ? (a.plugin.willInterruptEvent ? a.plugin.willInterruptEvent(a, A) : !1) : !0;
                      }),
                      (t.prototype.componentDidMount = function () {
                          if (this.pluginInstance) {
                              var r = this.props.context;
                              (e.visibleMap[this.pluginInstance.identifier] = this.pluginInstance), r.pluginManager.addPluginInstance(this.pluginInstance);
                          }
                      }),
                      (t.prototype.componentWillUnmount = function () {
                          if (this.pluginInstance) {
                              var r = this.props.context;
                              delete e.visibleMap[this.pluginInstance.identifier], r.pluginManager.removePluginInstance(this.pluginInstance), this.pluginInstance.dispose();
                          }
                      }),
                      (t.prototype.render = function () {
                          if (this.plugin && this.pluginInstance) {
                              var r = this.plugin.render,
                                  i = this.props,
                                  A = i.margin,
                                  a = i.origin,
                                  o = i.size,
                                  s = i.scale,
                                  l = i.cnode;
                              return Uh.createElement(r, { plugin: this.pluginInstance, margin: A, origin: a, size: o, scale: s, cnode: l });
                          }
                          return null;
                      });
                  var e;
                  return (t.visibleMap = {}), (t = e = uP([Ia.register.defineReact(Ia.register.pluginEngine, ou.PluginComponent)], t)), t;
              })(Uh.Component);
              kt.PluginRender = su;
              Ia.register.defineComponent(ou.PluginComponent, { name: "PluginComponent", disableVisionTrim: !0, hitTest: su.hitTest.bind(su) });
          });
          var $h = C(function (Nt) {
              "use strict";
              var dP =
                      (Nt && Nt.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  fP =
                      (Nt && Nt.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  gP =
                      (Nt && Nt.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  vP =
                      (Nt && Nt.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  mP =
                      (Nt && Nt.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && fP(t, n, e);
                          return gP(t, n), t;
                      };
              Object.defineProperty(Nt, "__esModule", { value: !0 });
              Nt.SelectedGroupRectangleSpaceComponent = void 0;
              var Jh = mP(require("react")),
                  yP = require("akko"),
                  bP = pe(),
                  PP = require("boundless"),
                  Kh = ge(),
                  _P = 0.15,
                  SP = (function (n) {
                      dP(t, n);
                      function t() {
                          return (n !== null && n.apply(this, arguments)) || this;
                      }
                      return (
                          (t.prototype.render = function () {
                              var e = this.props.payload;
                              if (!yP.isAkkoWrappedObjectAccessible(e)) return null;
                              var r = this.props,
                                  i = r.id,
                                  A = r.cnode,
                                  a = r.size,
                                  o = a.width,
                                  s = a.height,
                                  l = e.context.getMemberState(e.belongsToUserId);
                              if (!l) return null;
                              var u = l.strokeColor,
                                  c = u[0],
                                  p = u[1],
                                  h = u[2],
                                  v = {
                                      left: 0,
                                      top: 0,
                                      width: o,
                                      height: s,
                                      boxShadow: "0 0 1px 0 #FFFFFF, inset 0 0 1px 0 #FFFFFF",
                                      border: "1px solid",
                                      borderColor: "rgb(" + c + ", " + p + ", " + h + ")",
                                      backgroundColor: "rgba(" + c + ", " + p + ", " + h + ", " + _P + ")",
                                  };
                              return Jh.createElement(PP.CNode, { key: i, className: "selected-group", style: v, context: A });
                          }),
                          (t = vP([Kh.register.defineReact(Kh.register.componentEngine, bP.SelectedGroupRectangleSpace)], t)),
                          t
                      );
                  })(Jh.Component);
              Nt.SelectedGroupRectangleSpaceComponent = SP;
          });
          var td = C(function (vt) {
              "use strict";
              var CP =
                      (vt && vt.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  Un =
                      (vt && vt.__assign) ||
                      function () {
                          return (
                              (Un =
                                  Object.assign ||
                                  function (n) {
                                      for (var t, e = 1, r = arguments.length; e < r; e++) {
                                          t = arguments[e];
                                          for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                      }
                                      return n;
                                  }),
                              Un.apply(this, arguments)
                          );
                      },
                  BP =
                      (vt && vt.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  wP =
                      (vt && vt.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  RP =
                      (vt && vt.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  xP =
                      (vt && vt.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && BP(t, n, e);
                          return wP(t, n), t;
                      };
              Object.defineProperty(vt, "__esModule", { value: !0 });
              vt.TextareaShapeComponent = void 0;
              var DA = xP(require("react")),
                  YA = require("akko"),
                  ed = pe(),
                  MP = require("boundless"),
                  TP = require("mobx"),
                  es = ge(),
                  OP = Mr();
              es.register.defineReact(es.register.componentEngine, ed.TextareaShape)(OP.createEditableComponent());
              function ts(n, t, e) {
                  var r = t[n];
                  return e && n in e && (r = e[n]), r;
              }
              var EP = /[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF]/,
                  GP = (function (n) {
                      CP(t, n);
                      function t(e) {
                          var r = n.call(this, e) || this;
                          (r.divElement = null),
                              (r.refreshScrollLeftId = 0),
                              (r.shadowTextareaRef = null),
                              (r.textareaRef = null),
                              (r.miniWidth = 0),
                              (r.miniHeight = 0),
                              (r.latestTextareaWidth = 0),
                              (r.latestTextareaHeight = 0),
                              (r.onEditStateUpdate = function (l) {
                                  l && r.textareaRef
                                      ? ((r.textareaRef.readOnly = !1), r.focusToTextare(r.textareaRef))
                                      : r.textareaRef && (r.textareaRef.focus(), r.textareaRef.setSelectionRange(r.textareaRef.textLength, r.textareaRef.textLength), (r.textareaRef.readOnly = !0), r.textareaRef.blur()),
                                      r.refreshScrollLeft();
                              }),
                              (r.onTextAreaChange = function (l) {
                                  var u,
                                      c,
                                      p = r.props,
                                      h = p.context,
                                      v = p.payload.identifier,
                                      y = l.target.value;
                                  if (
                                      (((u = r.textareaHub) === null || u === void 0 ? void 0 : u.forEachShadowRefs)
                                          ? (c = r.textareaHub) === null ||
                                            c === void 0 ||
                                            c.forEachShadowRefs(v, function (B) {
                                                B.value = y;
                                            })
                                          : (r.shadowTextareaRef.value = y),
                                      h.updateTextarea)
                                  ) {
                                      var _ = r.createTextareaBox(y);
                                      h.updateTextarea(_, v, y.length > 0);
                                  }
                                  r.refreshScrollLeft();
                              }),
                              (r.setupShadowTextarea = function (l) {
                                  var u,
                                      c,
                                      p,
                                      h,
                                      v = r.props,
                                      y = v.context,
                                      _ = v.payload;
                                  if (
                                      !!YA.isAkkoWrappedObjectAccessible(_) &&
                                      (l
                                          ? (c = (u = r.textareaHub) === null || u === void 0 ? void 0 : u.registerShadowRef) === null || c === void 0 || c.call(u, _.identifier, l)
                                          : (h = (p = r.textareaHub) === null || p === void 0 ? void 0 : p.unregisterShadowRef) === null || h === void 0 || h.call(p, _.identifier, r.shadowTextareaRef),
                                      (r.shadowTextareaRef = l),
                                      l && _)
                                  ) {
                                      var B = _.textareaBox.originalText,
                                          S = _.editedBy === y.observerId;
                                      (l.value = " "),
                                          (r.miniWidth = l.scrollWidth),
                                          (r.miniHeight = l.scrollHeight),
                                          (l.value = B),
                                          S &&
                                              B === "" &&
                                              setTimeout(function () {
                                                  if (y.updateTextarea && YA.isAkkoWrappedObjectAccessible(_)) {
                                                      var M = r.createTextareaBox(l.value);
                                                      y.updateTextarea(M, _.identifier, !1);
                                                  }
                                              }, 0);
                                  }
                              }),
                              (r.setupTextarea = function (l) {
                                  var u = r.props,
                                      c = u.context,
                                      p = u.payload;
                                  p && YA.isAkkoWrappedObjectAccessible(p) && (c.observerId === p.editedBy && l ? r.focusToTextare(l) : l && l.blur()), (r.textareaRef = l);
                              }),
                              (r.onRef = function (l) {
                                  r.divElement = l ? l.parentElement : null;
                              });
                          var i = e.payload,
                              A = e.context,
                              a = A.observerId,
                              o = A.textareaHub;
                          if (
                              ((r.textareaHub = o),
                              (r.disposer = TP.reaction(function () {
                                  return i.editedBy === a;
                              }, r.onEditStateUpdate)),
                              o)
                          ) {
                              var s = i.identifier;
                              o.addTextareaRectGetter(s, function (l, u, c) {
                                  var p = r.shadowTextareaRef,
                                      h = u === void 0 ? !0 : u,
                                      v = c,
                                      y = null;
                                  if (v === void 0) {
                                      var _ = r.props.payload;
                                      v = _.textareaBox.originalText;
                                  }
                                  if (p && (!h || r.isSelectedOrEdited())) {
                                      var B = r.createTextareaSize(l, v),
                                          S = i.textareaBox,
                                          M = i.width / S.width,
                                          E = i.height / S.height,
                                          W = Math.max(M, E);
                                      Number.isNaN(W) && (W = S.scale), (y = Un(Un({}, B), { scale: W }));
                                  }
                                  return y;
                              });
                          }
                          return r;
                      }
                      return (
                          (t.willInterruptEvent = function (e, r, i) {
                              var A = r.payload;
                              return A && YA.isAkkoWrappedObjectAccessible(A) ? A.editedBy === e.context.observerId : !1;
                          }),
                          (t.prototype.componentWillUnmount = function () {
                              var e = this.props,
                                  r = e.context,
                                  i = e.payload,
                                  A = r.textareaHub;
                              A && YA.isAkkoWrappedObjectAccessible(i) && A.removeTextareaRectGetter(i.identifier), cancelAnimationFrame(this.refreshScrollLeftId), this.disposer();
                          }),
                          (t.prototype.refreshScrollLeft = function () {
                              var e = this;
                              this.refreshScrollLeftId = requestAnimationFrame(function () {
                                  e.divElement && (e.divElement.scrollLeft = 0);
                              });
                          }),
                          (t.prototype.createTextareaBox = function (e) {
                              var r = this.props.payload;
                              return Un(Un({}, this.createTextareaSize()), { scale: r.textareaBox.scale, textLines: [], originalText: e });
                          }),
                          (t.prototype.createTextareaSize = function (e, r) {
                              var i = this.shadowTextareaRef;
                              r && r !== i.value && (i.value = r);
                              var A = this.props.payload,
                                  a = A.format,
                                  o = [];
                              return (
                                  ts("bold", a, e) ? (i.style.fontWeight = "bold") : (i.style.fontWeight = "normal"),
                                  ts("italic", a, e) ? (i.style.fontStyle = "italic") : (i.style.fontStyle = "normal"),
                                  ts("underline", a, e) && o.push("underline"),
                                  ts("lineThrough", a, e) && o.push("line-through"),
                                  o.length > 0 ? (i.style.textDecoration = o.join(" ")) : (i.style.textDecoration = "none"),
                                  { width: Math.max(i.scrollWidth, this.miniWidth), height: Math.max(i.scrollHeight, this.miniHeight) }
                              );
                          }),
                          (t.prototype.focusToTextare = function (e) {
                              e.focus(), e.setSelectionRange(e.textLength, e.textLength);
                          }),
                          (t.prototype.refreshSize = function (e) {
                              var r = e.textareaBox;
                              r.originalText !== void 0 && ((this.latestTextareaWidth = r.width), (this.latestTextareaHeight = r.height));
                          }),
                          (t.prototype.createTextareaStyle = function (e) {
                              var r = {},
                                  i = e.format,
                                  A = [];
                              return (
                                  i.bold && (r.fontWeight = "bold"), i.italic && (r.fontStyle = "italic"), i.underline && A.push("underline"), i.lineThrough && A.push("line-through"), A.length > 0 && (r.textDecoration = A.join(" ")), r
                              );
                          }),
                          (t.prototype.isSelectedOrEdited = function () {
                              var e = this.props,
                                  r = e.context,
                                  i = e.payload,
                                  A = r.observerId;
                              return A === i.selectedBy || A === i.editedBy;
                          }),
                          (t.prototype.render = function () {
                              var e,
                                  r = this.props,
                                  i = r.cnode,
                                  A = r.context,
                                  a = r.payload;
                              if (!YA.isAkkoWrappedObjectAccessible(a)) return null;
                              this.refreshSize(a);
                              var o = a.editedBy === A.observerId,
                                  s = a.editedBy !== void 0 && a.context.getMemberState(a.editedBy),
                                  l = s ? "textarea-border" : "textarea-layout",
                                  u = { boxSizing: "border-box" },
                                  c = s ? "editable-textarea" : "readonly-textarea";
                              if ((o && (c += " my-textarea"), s)) {
                                  var p = s.strokeColor,
                                      h = p[0],
                                      v = p[1],
                                      y = p[2];
                                  u.borderColor = "rgb(" + h + "," + v + "," + y + ")";
                              }
                              var _ = !0;
                              A.textareaHub || (_ = o);
                              var B = a.format.color,
                                  S = B[0],
                                  M = B[1],
                                  E = B[2];
                              if ((e = this.textareaHub) === null || e === void 0 ? void 0 : e.reportState) {
                                  var W = a.selectedBy === A.observerId;
                                  this.textareaHub.reportState(a.identifier, W, !!s);
                              }
                              return DA.createElement(MP.CNode, { onRef: this.onRef, className: l, context: i, style: u }, this.renderEditableTextarea(a, "rgb(" + S + "," + M + "," + E + ")", c), _ && this.renderShadowTextarea(a, c));
                          }),
                          (t.prototype.renderEditableTextarea = function (e, r, i) {
                              var A = this.props.context,
                                  a = e.textareaBox.originalText,
                                  o = e.editedBy === A.observerId,
                                  s = EP.test(a),
                                  l = s ? 0 : 16,
                                  u = { width: this.latestTextareaWidth * e.currentScale, height: this.latestTextareaHeight * e.currentScale },
                                  c = Un(
                                      {
                                          position: "absolute",
                                          width: this.latestTextareaWidth + l,
                                          height: this.latestTextareaHeight,
                                          transform: "scale(" + e.currentScale + ")",
                                          transformOrigin: "top left",
                                          fontFamily: A.fontFamily,
                                          color: r,
                                          fontSize: e.textSize,
                                      },
                                      this.createTextareaStyle(e)
                                  );
                              return DA.createElement(
                                  "div",
                                  { className: "textarea-container", style: u },
                                  DA.createElement("textarea", { className: i, value: a, readOnly: !o, spellCheck: !1, wrap: "off", ref: this.setupTextarea, onChange: this.onTextAreaChange, style: c })
                              );
                          }),
                          (t.prototype.renderShadowTextarea = function (e, r) {
                              var i = this.props.context;
                              return DA.createElement(
                                  "div",
                                  { style: { width: 0, height: 0, overflow: "hidden" } },
                                  DA.createElement("textarea", {
                                      className: r,
                                      spellCheck: !1,
                                      wrap: "off",
                                      ref: this.setupShadowTextarea,
                                      style: { fontFamily: i.fontFamily, width: 0, height: 0, visibility: "hidden", fontSize: e.textSize },
                                  })
                              );
                          }),
                          (t.disableVisionTrim = !0),
                          (t = RP([es.register.defineReact(es.register.topGraphicsEngine, ed.TextareaShape)], t)),
                          t
                      );
                  })(DA.Component);
              vt.TextareaShapeComponent = GP;
          });
          var mn = C(function (FA) {
              "use strict";
              var lu =
                  (FA && FA.__decorate) ||
                  function (n, t, e, r) {
                      var i = arguments.length,
                          A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                          a;
                      if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                      else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                      return i > 3 && A && Object.defineProperty(t, e, A), A;
                  };
              Object.defineProperty(FA, "__esModule", { value: !0 });
              FA.AbstractCanvasRender = void 0;
              var jP = require("mobx"),
                  rd = require("boundless"),
                  Ln = Va(),
                  WP = (function () {
                      function n(t, e) {
                          (this.reactionDisposer = null),
                              (this.isDirty = !1),
                              (this.didCrash = !1),
                              (this.component = t),
                              (this._context = e),
                              Ln.makeObservable(this, { _context: Ln.observable, updatePayload: Ln.action, updateContext: Ln.action });
                      }
                      return (
                          Object.defineProperty(n.prototype, "context", {
                              get: function () {
                                  return this._context;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(n.prototype, "shape", {
                              get: function () {
                                  return this.component.payload;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (n.prototype.getState = function () {
                              return this.isDirty ? rd.CanvasRenderState.Changed : rd.CanvasRenderState.Unchanged;
                          }),
                          (n.prototype.updatePayload = function (t) {}),
                          (n.prototype.updateContext = function (t) {
                              this._context = t;
                          }),
                          (n.prototype.remove = function () {
                              this.reactionDisposer && (this.reactionDisposer(), (this.reactionDisposer = null));
                          }),
                          (n.prototype.paint = function (t) {
                              var e = this;
                              this.reactionDisposer && this.reactionDisposer();
                              var r = !0;
                              this.reactionDisposer = jP.autorun(function () {
                                  if (!e.didCrash)
                                      if (r) {
                                          try {
                                              e.paintContent(t);
                                          } catch (i) {
                                              console.error(i), e.reactionDisposer && (e.reactionDisposer(), (e.reactionDisposer = null)), (e.didCrash = !0);
                                          }
                                          (e.isDirty = !1), (r = !1);
                                      } else e.reactionDisposer && (e.reactionDisposer(), (e.reactionDisposer = null)), t.touch(), (e.isDirty = !0);
                              });
                          }),
                          lu([Ln.observable], n.prototype, "_context", void 0),
                          lu([Ln.action], n.prototype, "updatePayload", null),
                          lu([Ln.action], n.prototype, "updateContext", null),
                          n
                      );
                  })();
              FA.AbstractCanvasRender = WP;
          });
          var ad = C(function (yn) {
              "use strict";
              var ZP =
                      (yn && yn.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  VP =
                      (yn && yn.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(yn, "__esModule", { value: !0 });
              yn.CurveShapePainter = void 0;
              var IP = pe(),
                  XP = require("boundless"),
                  id = ge(),
                  kP = mn(),
                  nd = WA(),
                  Ad = 0.1,
                  NP = (function (n) {
                      ZP(t, n);
                      function t() {
                          return (n !== null && n.apply(this, arguments)) || this;
                      }
                      return (
                          (t.prototype.paintContent = function (e) {
                              var r = e.context,
                                  i = e.margin,
                                  A = this.shape.state.strokeWidth,
                                  a = this.shape.displayPoints(),
                                  o = A / 2,
                                  s = this.shape.state.strokeColor,
                                  l = s[0],
                                  u = s[1],
                                  c = s[2];
                              if (((r.fillStyle = "rgb(" + l + "," + u + "," + c + ")"), a.length === 1)) {
                                  var p = i.left + a[0].x,
                                      h = i.top + a[0].y;
                                  this.paintPoint(r, p, h, o);
                              } else if (a.length > 1) {
                                  var v = !1,
                                      y,
                                      _,
                                      B = void 0,
                                      S = void 0;
                                  e.screenRect
                                      ? ((y = e.screenRect.originX - A), (_ = e.screenRect.originY - A), (B = y + e.screenRect.width + 2 * A), (S = _ + e.screenRect.height + 2 * A))
                                      : ((v = !0), (y = 0), (_ = 0), (B = 0), (S = 0));
                                  var M = v || e.paintingMode !== XP.CanvasPaitingMode.Directly,
                                      E = a.length > 2 && this.shape.enableBezier();
                                  (r.lineWidth = A),
                                      (r.strokeStyle = "rgb(" + l + "," + u + "," + c + ")"),
                                      (r.lineJoin = "round"),
                                      (r.lineCap = "round"),
                                      r.beginPath(),
                                      E ? this.paintBezier(r, a, i, M, y, _, B, S) : this.paintPolyline(r, a, i, M, y, _, B, S);
                              }
                          }),
                          (t.prototype.paintBezier = function (e, r, i, A, a, o, s, l) {
                              for (var u = { x: 0, y: 0 }, c = { x: 0, y: 0 }, p = { x: 0, y: 0 }, h = !1, v = 0; v < r.length - 1; ++v) {
                                  var y = i.left + r[v].x,
                                      _ = i.left + r[v + 1].x,
                                      B = i.top + r[v].y,
                                      S = i.top + r[v + 1].y;
                                  v < r.length - 2 && this.fillControlPoints(i, r[v], r[v + 1], r[v + 2], c, p),
                                      A || nd.isSegementCrossRectangle(y, B, _, S, a, o, s, l)
                                          ? (h || (e.moveTo(y, B), (h = !0)), v === 0 ? e.quadraticCurveTo(c.x, c.y, _, S) : v === r.length - 2 ? e.quadraticCurveTo(y, B, _, S) : e.line(u.x, u.y, c.x, c.y, _, S))
                                          : h && (e.stroke(), (h = !1)),
                                      (u.x = p.x),
                                      (u.y = p.y);
                              }
                              h && e.stroke();
                          }),
                          (t.prototype.paintPolyline = function (e, r, i, A, a, o, s, l) {
                              for (var u = !1, c = i.left + r[0].x, p = i.top + r[0].y, h = 1; h < r.length; ++h) {
                                  var v = i.left + r[h].x,
                                      y = i.top + r[h].y;
                                  A || nd.isSegementCrossRectangle(c, p, v, y, a, o, s, l) ? (u || (e.moveTo(c, p), (u = !0)), e.lineTo(v, y)) : u && (e.stroke(), (u = !1)), (c = v), (p = y);
                              }
                              u && e.stroke();
                          }),
                          (t.prototype.fillControlPoints = function (e, r, i, A, a, o) {
                              var s = this.calcHypotenuse(i.x - r.x, i.y - r.y),
                                  l = this.calcHypotenuse(i.x - A.x, i.y - A.y),
                                  u = 1e-6,
                                  c = l / (s + u),
                                  p,
                                  h;
                              c > 1 ? ((p = r.x - (i.x + (A.x - i.x) / (c + u))), (h = r.y - (i.y + (A.y - i.y) / (c + u)))) : ((p = i.x + (r.x - i.x) * c - A.x), (h = i.y + (r.y - i.y) * c - A.y)),
                                  (p *= Ad),
                                  (h *= Ad),
                                  (a.x = e.left + i.x + p),
                                  (a.y = e.top + i.y + h),
                                  (o.x = e.left + i.x - p),
                                  (o.y = e.top + i.y - h);
                          }),
                          (t.prototype.calcHypotenuse = function (e, r) {
                              return Math.sqrt(e * e + r * r);
                          }),
                          (t.prototype.paintPoint = function (e, r, i, A) {
                              e.beginPath(), e.arc(r, i, A, 0, 2 * Math.PI), e.fill();
                          }),
                          (t = VP([id.register.defineCanvas(id.register.canvasGraphicsEngine, IP.CurveShape)], t)),
                          t
                      );
                  })(kP.AbstractCanvasRender);
              yn.CurveShapePainter = NP;
          });
          var od = C(function (rs) {
              "use strict";
              Object.defineProperty(rs, "__esModule", { value: !0 });
              rs.EmptySceneRender = void 0;
              var HP = (function () {
                  function n(t, e) {
                      (this.scenePath = t), (this.floatBarManager = new DP()), (this.floatBarManager.mask = e);
                  }
                  return (n.prototype.clean = function () {}), (n.prototype.release = function () {}), n;
              })();
              rs.EmptySceneRender = HP;
              var DP = (function () {
                  function n() {
                      this.mask = !1;
                  }
                  return (n.prototype.release = function () {}), n;
              })();
          });
          var uu = C(function (zA) {
              "use strict";
              var is =
                  (zA && zA.__assign) ||
                  function () {
                      return (
                          (is =
                              Object.assign ||
                              function (n) {
                                  for (var t, e = 1, r = arguments.length; e < r; e++) {
                                      t = arguments[e];
                                      for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                  }
                                  return n;
                              }),
                          is.apply(this, arguments)
                      );
                  };
              Object.defineProperty(zA, "__esModule", { value: !0 });
              zA.ComponentRender = void 0;
              var ns = require("mobx"),
                  bn = pe(),
                  Pn = require("akko"),
                  sd = Xa(),
                  YP = (function () {
                      function n(t, e, r, i, A, a) {
                          (this.disposers = null), (this.didRemoved = !1), (this.screen = t), (this.findDefinition = e), (this.identifier = r), (this.observerId = i), (this.appliance = A), (this.previewURL = a);
                      }
                      return (
                          (n.prototype.setOrderIndex = function (t) {
                              this.component ? (this.component.orderIndex = t) : (this.orderIndex = t);
                          }),
                          (n.prototype.addToScene = function () {
                              var t = this,
                                  e = this.findDefinition(this.appliance),
                                  r = e.definition,
                                  i = e.disableVisionTrim,
                                  A = e.getApplianceRect,
                                  a = this.getApplianceRect(this.appliance, A),
                                  o = this.screen.scene.addComponent(
                                      is(is({}, a), {
                                          id: this.identifier,
                                          definition: r,
                                          sceneMargin: this.appliance.hitTestingBoxMargin,
                                          disableVisionTrim: i,
                                          payload: this.appliance,
                                          previewURL: this.previewURL,
                                          orderIndex: this.orderIndex,
                                          rotation: this.appliance.rotation,
                                      })
                                  );
                              delete this.orderIndex,
                                  o.setVisible(sd.register.componentEngine, this.shouldDisplayOnHTMLLayout(this.appliance)),
                                  (this.component = o),
                                  (this.disposers = [
                                      ns.reaction(
                                          function () {
                                              return t.getApplianceRect(t.appliance, A);
                                          },
                                          function (s) {
                                              Pn.isAkkoWrappedObjectAccessible(t.appliance) && o.setRectangle(s.originX, s.originY, s.width, s.height);
                                          }
                                      ),
                                      ns.reaction(
                                          function () {
                                              return t.appliance.hitTestingBoxMargin;
                                          },
                                          function (s) {
                                              Pn.isAkkoWrappedObjectAccessible(t.appliance) && o.setSceneMargin(s);
                                          }
                                      ),
                                      ns.reaction(
                                          function () {
                                              return t.shouldDisplayOnHTMLLayout(t.appliance);
                                          },
                                          function (s) {
                                              Pn.isAkkoWrappedObjectAccessible(t.appliance) && o.setVisible(sd.register.componentEngine, s);
                                          }
                                      ),
                                      ns.reaction(
                                          function () {
                                              return t.appliance.rotation;
                                          },
                                          function (s) {
                                              Pn.isAkkoWrappedObjectAccessible(t.appliance) && (o.rotation = s);
                                          }
                                      ),
                                  ]);
                          }),
                          (n.prototype.remove = function () {
                              var t;
                              if (!this.didRemoved) {
                                  if ((this.component && this.screen.scene.removeComponent(this.component), this.disposers)) {
                                      for (var e = 0, r = this.disposers; e < r.length; e++) {
                                          var i = r[e];
                                          i();
                                      }
                                      this.disposers = null;
                                  }
                                  (this.didRemoved = !0), (t = this.screen.context.bezierCurvePainter) === null || t === void 0 || t.fireRemoveComponent(this.identifier);
                              }
                          }),
                          (n.prototype.getApplianceRect = function (t, e) {
                              return e ? e(t, this.screen.context) : { originX: t.originX, originY: t.originY, width: t.width, height: t.height };
                          }),
                          (n.prototype.shouldDisplayOnHTMLLayout = function (t) {
                              var e = !1;
                              return (
                                  Pn.isInstanceOf(t, bn.Editable)
                                      ? (e = this.shouldHighlight(t))
                                      : (Pn.isInstanceOf(t, bn.SelectedGroupRectangleSpace) || Pn.isInstanceOf(t, bn.EditorRectangleSpace)) && (e = this.shouldDisplayRectangleSpace(t)),
                                  e
                              );
                          }),
                          (n.prototype.shouldHighlight = function (t) {
                              return Pn.isAkkoWrappedObjectAccessible(t) && !t.locked
                                  ? t.isHighlightBy(this.observerId)
                                      ? !0
                                      : this.screen.context.disableOthersSelectingBox
                                      ? this.selectedBy(t.selectedBy) === bn.BelongsTo.Me
                                      : this.selectedBy(t.selectedBy) !== bn.BelongsTo.None
                                  : !1;
                          }),
                          (n.prototype.shouldDisplayRectangleSpace = function (t) {
                              return !this.screen.context.disableOthersSelectingBox || t.belongsToUserId === this.observerId;
                          }),
                          (n.prototype.selectedBy = function (t) {
                              return t === void 0 ? bn.BelongsTo.None : t === this.observerId ? bn.BelongsTo.Me : bn.BelongsTo.Others;
                          }),
                          n
                      );
                  })();
              zA.ComponentRender = YP;
          });
          var As = C(function (ka) {
              "use strict";
              Object.defineProperty(ka, "__esModule", { value: !0 });
              ka.UpdateEventKind = void 0;
              var FP;
              (function (n) {
                  (n[(n.Inserted = 0)] = "Inserted"), (n[(n.Updated = 1)] = "Updated"), (n[(n.Removed = 2)] = "Removed");
              })((FP = ka.UpdateEventKind || (ka.UpdateEventKind = {})));
          });
          var as = C(function (QA) {
              "use strict";
              var cu =
                  (QA && QA.__assign) ||
                  function () {
                      return (
                          (cu =
                              Object.assign ||
                              function (n) {
                                  for (var t, e = 1, r = arguments.length; e < r; e++) {
                                      t = arguments[e];
                                      for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                  }
                                  return n;
                              }),
                          cu.apply(this, arguments)
                      );
                  };
              Object.defineProperty(QA, "__esModule", { value: !0 });
              QA.ComponentMapper = void 0;
              var pu = As(),
                  zP = (function () {
                      function n(t, e) {
                          var r = this;
                          (this.targets = {}),
                              (this.update = function (A) {
                                  for (var a = [], o = !1, s = 0, l = A; s < l.length; s++) {
                                      var u = l[s],
                                          c = u.key,
                                          p = u.value,
                                          h = u.kind;
                                      if (typeof c == "number")
                                          switch (h) {
                                              case pu.UpdateEventKind.Inserted: {
                                                  a.push({ component: p, index: c });
                                                  break;
                                              }
                                              case pu.UpdateEventKind.Removed:
                                              case pu.UpdateEventKind.Updated: {
                                                  o = !0;
                                                  break;
                                              }
                                          }
                                  }
                                  if (o) r.compareDiff();
                                  else
                                      for (var v = 0, y = a; v < y.length; v++) {
                                          var _ = y[v],
                                              B = _.component,
                                              S = _.index;
                                          r.addComponent(B, S);
                                      }
                              }),
                              (this.components = t),
                              (this.callbacks = Object.freeze(cu({}, e)));
                          for (var i = 0; i < t.length; ++i) this.addComponent(t[i], i);
                      }
                      return (
                          (n.prototype.clean = function () {
                              for (var t in this.targets) this.callbacks.remove(this.targets[t]);
                              this.targets = {};
                          }),
                          (n.prototype.addComponent = function (t, e) {
                              var r,
                                  i,
                                  A,
                                  a,
                                  o = t.identifier;
                              if (!(o in this.targets)) {
                                  var s = this.callbacks.create(o, t);
                                  (this.targets[o] = s), (i = (r = this.callbacks).add) === null || i === void 0 || i.call(r, s), (a = (A = this.callbacks).setIndex) === null || a === void 0 || a.call(A, s, e);
                              }
                          }),
                          (n.prototype.compareDiff = function () {
                              for (var t, e, r = {}, i = [], A = 0; A < this.components.length; ++A) {
                                  var a = this.components[A],
                                      o = a.identifier,
                                      s = this.targets[o];
                                  !s || !this.callbacks.isTargetMapToComponent(s, a) ? ((s = this.callbacks.create(o, a)), i.push(s)) : delete this.targets[o],
                                      (e = (t = this.callbacks).setIndex) === null || e === void 0 || e.call(t, s, A),
                                      (r[o] = s);
                              }
                              for (var o in this.targets) this.callbacks.remove(this.targets[o]);
                              if (this.callbacks.add)
                                  for (var l = 0, u = i; l < u.length; l++) {
                                      var s = u[l];
                                      this.callbacks.add(s);
                                  }
                              this.targets = r;
                          }),
                          n
                      );
                  })();
              QA.ComponentMapper = zP;
          });
          var gu = C(function (si) {
              "use strict";
              var QP =
                      (si && si.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  qP =
                      (si && si.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  UP =
                      (si && si.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && QP(t, n, e);
                          return qP(t, n), t;
                      };
              Object.defineProperty(si, "__esModule", { value: !0 });
              si.AbstractFloatBarManager = void 0;
              var LP = UP(pe()),
                  hu = require("mobx"),
                  du = require("akko"),
                  fu = pe(),
                  JP = Xa(),
                  KP = (function () {
                      function n(t) {
                          var e = this,
                              r,
                              i;
                          (this.screenAtom = hu.createAtom("screen-atom")),
                              (this.node = null),
                              (this.onScreenOrCameraUpdated = function () {
                                  e.screenAtom.reportChanged();
                              }),
                              (this.screen = t),
                              this.screen.addCameraUpdatedListener(this.onScreenOrCameraUpdated),
                              (i = (r = this.screen).addSizeUpdatedListener) === null || i === void 0 || i.call(r, this.onScreenOrCameraUpdated);
                      }
                      return (
                          (n.prototype.release = function () {
                              var t, e;
                              this.screen.removeCameraUpdatedListener(this.onScreenOrCameraUpdated),
                                  (e = (t = this.screen).removeSizeUpdatedListener) === null || e === void 0 || e.call(t, this.onScreenOrCameraUpdated),
                                  this.node && (this.screen.scene.removeComponent(this.node.floatBar), (this.node = null));
                          }),
                          (n.prototype.isSelectedComponent = function (t) {
                              var e = !1;
                              if (du.isInstanceOf(t, fu.EditorRectangleSpace)) {
                                  var r = t,
                                      i = r.belongsToUserId;
                                  i === this.screen.context.observerId && (e = !0);
                              } else if (du.isInstanceOf(t, fu.TextareaShape)) {
                                  var A = t,
                                      a = A.editedBy;
                                  a === this.screen.context.observerId && (e = !0);
                              }
                              return e;
                          }),
                          (n.prototype.onSelectedChanged = function (t) {
                              var e = this;
                              if (t)
                                  if (this.node) {
                                      if (this.node.component !== t) {
                                          var A = this.node.floatBar;
                                          (this.node.component = t),
                                              this.node.disposer(),
                                              (this.node.disposer = hu.autorun(function () {
                                                  e.moveFloatBar(A, t);
                                              }));
                                      }
                                  } else {
                                      var r = this.createFloatBar(t),
                                          i = hu.autorun(function () {
                                              e.moveFloatBar(r, t);
                                          });
                                      this.node = { floatBar: r, disposer: i, component: t };
                                  }
                              else this.node && (this.screen.scene.removeComponent(this.node.floatBar), this.node.disposer(), (this.node = null));
                          }),
                          (n.prototype.createFloatBar = function (t) {
                              var e = this.getDescription(t),
                                  r = this.screen.scene.addComponent({
                                      id: "float-bar",
                                      definition: JP.floatBarDefinition,
                                      sceneMargin: t.hitTestingBoxMargin,
                                      disableVisionTrim: !1,
                                      absoluteCoordinates: !0,
                                      payload: e,
                                      originX: 0,
                                      originY: 0,
                                      width: this.screen.width,
                                      height: this.screen.height,
                                  });
                              return r;
                          }),
                          (n.prototype.moveFloatBar = function (t, e) {
                              var r = this.getDescription(e);
                              this.screenAtom.reportObserved(), this.isFloatBarDescriptionEquals(t.payload, r) || (t.payload = r);
                          }),
                          (n.prototype.isFloatBarDescriptionEquals = function (t, e) {
                              if (t.screenSize.width !== e.screenSize.width || t.screenSize.height !== e.screenSize.height) return !1;
                              var r = t.rectangle,
                                  i = e.rectangle;
                              if (r.originX !== i.originX || r.originY !== i.originY || r.width !== i.width || r.height !== i.height) return !1;
                              var A = t.components,
                                  a = e.components;
                              if (A.length !== a.length) return !1;
                              for (var o = 0; o < A.length; ++o) if (A[o] !== a[o]) return !1;
                              return !0;
                          }),
                          (n.prototype.getDescription = function (t) {
                              var e = [],
                                  r = this.getRectangleOnScreen(t);
                              return (
                                  du.isInstanceOf(t, fu.EditorRectangleSpace) ? e.push.apply(e, t.includeComponents) : e.push(t),
                                  Object.freeze({ whiteModel: LP, rectangle: r, components: Object.freeze(e), margin: t.hitTestingBoxMargin, screenSize: Object.freeze({ width: this.screen.width, height: this.screen.height }) })
                              );
                          }),
                          (n.prototype.getRectangleOnScreen = function (t) {
                              var e = t.originX,
                                  r = t.originY,
                                  i = t.width,
                                  A = t.height,
                                  a = t.hitTestingBoxMargin,
                                  o = this.screen.convertPointToScreen(e - a, r - a),
                                  s = this.screen.convertPointToScreen(e + i + a, r + A + a);
                              return Object.freeze({ originX: o.x, originY: o.y, width: s.x - o.x, height: s.y - o.y });
                          }),
                          n
                      );
                  })();
              si.AbstractFloatBarManager = KP;
          });
          var ud = C(function (os) {
              "use strict";
              Object.defineProperty(os, "__esModule", { value: !0 });
              os.ComponentChooser = void 0;
              var $P = require("mobx"),
                  ld = require("akko"),
                  e_ = as(),
                  t_ = (function () {
                      function n(t, e) {
                          var r = this,
                              i = e.chooser,
                              A = e.onChoosedChanged;
                          (this._watch = !1),
                              (this._choosed = null),
                              (this.nodes = null),
                              (this.createNode = function (a, o) {
                                  var s = { component: o, isChooser: !1 },
                                      l = $P.reaction(
                                          function () {
                                              return r.chooser(o);
                                          },
                                          function (u) {
                                              (s.isChooser = u), u ? r._choosed || ((r._choosed = o), r.onChoosedChanged(r._choosed)) : r._choosed === o && ((r._choosed = r.chooseAnyOne()), r.onChoosedChanged(r._choosed));
                                          },
                                          { fireImmediately: !0 }
                                      );
                                  return (s.disposer = l), s;
                              }),
                              (this.removeNode = function (a) {
                                  a.disposer(), a.isChooser && a.component === r._choosed && ((r._choosed = r.chooseAnyOne()), r.onChoosedChanged(r._choosed));
                              }),
                              (this.components = t),
                              (this.chooser = i),
                              (this.onChoosedChanged = A);
                      }
                      return (
                          Object.defineProperty(n.prototype, "watch", {
                              get: function () {
                                  return this._watch;
                              },
                              set: function (t) {
                                  if (this._watch !== t)
                                      if (((this._watch = t), t)) (this.nodes = this.createNodes()), this._choosed && this.onChoosedChanged(this._choosed);
                                      else {
                                          var e = !!this._choosed;
                                          this.nodes && (ld.unlistenUpdated(this.components, this.nodes.update), this.nodes.clean(), (this.nodes = null)), (this._choosed = null), e && this.onChoosedChanged(this._choosed);
                                      }
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(n.prototype, "choosed", {
                              get: function () {
                                  return this._choosed;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (n.prototype.createNodes = function () {
                              var t = new e_.ComponentMapper(this.components, {
                                  create: this.createNode,
                                  remove: this.removeNode,
                                  isTargetMapToComponent: function (e, r) {
                                      return e.component === r;
                                  },
                              });
                              return ld.listenUpdated(this.components, t.update), t;
                          }),
                          (n.prototype.chooseAnyOne = function () {
                              for (var t = null, e = 0, r = this.components; e < r.length; e++) {
                                  var i = r[e];
                                  if (this.chooser(i)) {
                                      t = i;
                                      break;
                                  }
                              }
                              return t;
                          }),
                          n
                      );
                  })();
              os.ComponentChooser = t_;
          });
          var cd = C(function (qA) {
              "use strict";
              var r_ =
                  (qA && qA.__extends) ||
                  (function () {
                      var n = function (t, e) {
                          return (
                              (n =
                                  Object.setPrototypeOf ||
                                  ({ __proto__: [] } instanceof Array &&
                                      function (r, i) {
                                          r.__proto__ = i;
                                      }) ||
                                  function (r, i) {
                                      for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                  }),
                              n(t, e)
                          );
                      };
                      return function (t, e) {
                          if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                          n(t, e);
                          function r() {
                              this.constructor = t;
                          }
                          t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                      };
                  })();
              Object.defineProperty(qA, "__esModule", { value: !0 });
              qA.ListenningSceneRender = void 0;
              var i_ = pe(),
                  vu = require("akko"),
                  n_ = uu(),
                  A_ = as(),
                  a_ = gu(),
                  o_ = ud(),
                  s_ = (function () {
                      function n(t, e, r, i, A) {
                          var a = this;
                          (this.components = e.components),
                              (this.scenePath = r),
                              (this.findDefinition = i),
                              (this.screen = t),
                              (this.floatBarManager = new l_(t, this.components)),
                              (this.floatBarManager.mask = A),
                              (this.renders = new A_.ComponentMapper(this.components, {
                                  create: function (o, s) {
                                      return a.createComponentRender(o, s);
                                  },
                                  isTargetMapToComponent: function (o, s) {
                                      return o.appliance === s;
                                  },
                                  setIndex: function (o, s) {
                                      return o.setOrderIndex(s);
                                  },
                                  add: function (o) {
                                      return o.addToScene();
                                  },
                                  remove: function (o) {
                                      return o.remove();
                                  },
                              })),
                              vu.listenUpdated(this.components, this.renders.update);
                      }
                      return (
                          (n.prototype.clean = function () {
                              this.renders.clean(), (this.floatBarManager.mask = !0);
                          }),
                          (n.prototype.release = function () {
                              vu.unlistenUpdated(this.components, this.renders.update), this.floatBarManager.release();
                          }),
                          (n.prototype.createComponentRender = function (t, e) {
                              var r;
                              vu.isInstanceOf(e, i_.BackgroundImage) && (r = e.previewURL);
                              var i = this.screen.context.observerId;
                              return new n_.ComponentRender(this.screen, this.findDefinition, t, i, e, r);
                          }),
                          n
                      );
                  })();
              qA.ListenningSceneRender = s_;
              var l_ = (function (n) {
                  r_(t, n);
                  function t(e, r) {
                      var i = n.call(this, e) || this;
                      return (i.chooser = new o_.ComponentChooser(r, { chooser: i.isSelectedComponent.bind(i), onChoosedChanged: i.onSelectedChanged.bind(i) })), i;
                  }
                  return (
                      Object.defineProperty(t.prototype, "mask", {
                          get: function () {
                              return !this.chooser.watch;
                          },
                          set: function (e) {
                              this.chooser.watch = !e;
                          },
                          enumerable: !1,
                          configurable: !0,
                      }),
                      t
                  );
              })(a_.AbstractFloatBarManager);
          });
          var hd = C(function (li) {
              "use strict";
              var u_ =
                      (li && li.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  c_ =
                      (li && li.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  p_ =
                      (li && li.__spreadArray) ||
                      function (n, t) {
                          for (var e = 0, r = t.length, i = n.length; e < r; e++, i++) n[i] = t[e];
                          return n;
                      };
              Object.defineProperty(li, "__esModule", { value: !0 });
              li.LegacySceneRender = void 0;
              var h_ = pe(),
                  d_ = require("akko"),
                  f_ = require("mobx"),
                  g_ = uu(),
                  v_ = as(),
                  m_ = gu(),
                  mu = As(),
                  yu = Va(),
                  y_ = (function () {
                      function n(t, e, r, i, A) {
                          (this.node = null), (this.applianceManager = e), (this._scenePath = r), (this.findDefinition = i), (this.screen = t), (this._floatBarManager = new pd(t, e.scene)), (this._floatBarManager.mask = A);
                      }
                      return (
                          Object.defineProperty(n.prototype, "scenePath", {
                              get: function () {
                                  return this._scenePath;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(n.prototype, "floatBarManager", {
                              get: function () {
                                  return this._floatBarManager;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (n.prototype.setScenePath = function (t) {
                              this._scenePath = t;
                          }),
                          (n.prototype.refreshSceneComponents = function () {
                              var t = this;
                              if (this.node) this.refreshComponents(this.node.renders, this.node.components);
                              else {
                                  var e = p_([], this.applianceManager.scene.components),
                                      r = new v_.ComponentMapper(e, {
                                          create: function (A, a) {
                                              return t.createComponentRender(A, a);
                                          },
                                          isTargetMapToComponent: function (A, a) {
                                              return A.appliance === a;
                                          },
                                          setIndex: function (A, a) {
                                              return A.setOrderIndex(a);
                                          },
                                          add: function (A) {
                                              return A.addToScene();
                                          },
                                          remove: function (A) {
                                              return A.remove();
                                          },
                                      });
                                  this.node = { components: e, renders: r };
                              }
                              if (this._floatBarManager.scene !== this.applianceManager.scene) {
                                  var i = this._floatBarManager.mask;
                                  (this._floatBarManager.mask = !1), this._floatBarManager.release(), (this._floatBarManager = new pd(this.screen, this.applianceManager.scene)), (this._floatBarManager.mask = i);
                              }
                          }),
                          (n.prototype.refreshComponents = function (t, e) {
                              for (var r = this.applianceManager.scene.components, i = r.length, A = e.length, a = [], o = 0; o < i; ++o) {
                                  var s = r[o],
                                      l = e[o];
                                  l ? s !== l && a.push({ key: o, value: s, kind: mu.UpdateEventKind.Updated }) : a.push({ key: o, value: s, kind: mu.UpdateEventKind.Inserted }), (e[o] = s);
                              }
                              for (var o = i; o < A; ++o) a.push({ key: o, value: e[o], kind: mu.UpdateEventKind.Removed });
                              e.splice(i), t.update(a);
                          }),
                          (n.prototype.clean = function () {
                              this.node && (this.node.components.splice(0), this.node.renders.clean()), (this._floatBarManager.mask = !1);
                          }),
                          (n.prototype.release = function () {
                              this._floatBarManager.release();
                          }),
                          (n.prototype.createComponentRender = function (t, e) {
                              var r;
                              d_.isInstanceOf(e, h_.BackgroundImage) && (r = e.previewURL);
                              var i = this.screen.context.observerId;
                              return new g_.ComponentRender(this.screen, this.findDefinition, t, i, e, r);
                          }),
                          n
                      );
                  })();
              li.LegacySceneRender = y_;
              var pd = (function (n) {
                  u_(t, n);
                  function t(e, r) {
                      var i = n.call(this, e) || this;
                      return (
                          (i.mask = !1),
                          (i.searchSelectedComponent = function () {
                              var A = null;
                              if (!i.mask)
                                  for (var a = 0, o = i.scene.components; a < o.length; a++) {
                                      var s = o[a];
                                      if (i.isSelectedComponent(s)) {
                                          A = s;
                                          break;
                                      }
                                  }
                              return A;
                          }),
                          yu.makeObservable(i, { mask: yu.observable }),
                          (i.scene = r),
                          (i.disposer = f_.reaction(i.searchSelectedComponent, i.onSelectedChanged.bind(i))),
                          i
                      );
                  }
                  return (
                      (t.prototype.release = function () {
                          n.prototype.release.call(this), this.disposer();
                      }),
                      c_([yu.observable], t.prototype, "mask", void 0),
                      t
                  );
              })(m_.AbstractFloatBarManager);
          });
          var dd = C(function (ui) {
              "use strict";
              var b_ =
                      (ui && ui.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  P_ =
                      (ui && ui.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  __ =
                      (ui && ui.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && b_(t, n, e);
                          return P_(t, n), t;
                      };
              Object.defineProperty(ui, "__esModule", { value: !0 });
              ui.createSceneRender = void 0;
              var S_ = __(require("akko")),
                  C_ = require("mobx"),
                  B_ = od(),
                  w_ = cd(),
                  R_ = hd();
              function x_(n) {
                  return C_.runInAction(function () {
                      var t = n.scenePath,
                          e = n.maskFloatBar,
                          r = M_(t),
                          i = n.applianceManager.scenes.getScene(r);
                      return i ? (S_.listenUpdated ? new w_.ListenningSceneRender(n.screen, i, t, n.findDefinition, e) : new R_.LegacySceneRender(n.screen, n.applianceManager, t, n.findDefinition, e)) : new B_.EmptySceneRender(t, e);
                  });
              }
              ui.createSceneRender = x_;
              function M_(n) {
                  return n.replace(/^\//, "").split("/");
              }
          });
          var bu = C(function (ss) {
              "use strict";
              Object.defineProperty(ss, "__esModule", { value: !0 });
              ss.findDefinition = void 0;
              var T_ = require("akko");
              function O_(n, t) {
                  var e = T_.findClassId(t);
                  if (e < 0) throw new Error("find invalid class id " + e);
                  var r = n.findDefinition(e);
                  if (!r) throw new Error("cannot find appliance class with class id " + e);
                  return r;
              }
              ss.findDefinition = O_;
          });
          var gd = C(function (ls) {
              "use strict";
              Object.defineProperty(ls, "__esModule", { value: !0 });
              ls.WhiteboardRender = void 0;
              var E_ = require("mobx"),
                  G_ = require("akko"),
                  Pu = dd(),
                  fd = bu(),
                  j_ = (function () {
                      function n(t, e, r, i) {
                          var A = this;
                          (this._foucsScenePath = void 0),
                              (this._maskFloatBar = !1),
                              (this.sceneRender = null),
                              (this.findDefinition = function (s) {
                                  return fd.findDefinition(A.engines, s);
                              }),
                              (this.screen = t),
                              (this.applianceManager = r),
                              (this.engines = i),
                              (this.disableFloatBar = !t.context.floatBarClass);
                          var a = this.toPath(this.applianceManager.getCurrentScenePath()),
                              o = this.disableFloatBar || this._maskFloatBar;
                          (this.sceneRender = Pu.createSceneRender({ screen: this.screen, applianceManager: this.applianceManager, findDefinition: this.findDefinition, scenePath: a, maskFloatBar: o })),
                              (this.reactionDisposer = E_.reaction(
                                  function () {
                                      return A.toPath(A.applianceManager.getCurrentScenePath());
                                  },
                                  function (s) {
                                      (A.currentScenePath = s), A.refreshScenePath();
                                  },
                                  { fireImmediately: !0 }
                              ));
                      }
                      return (
                          (n.prototype.refreshSceneComponents = function () {
                              var t, e;
                              (e = (t = this.sceneRender) === null || t === void 0 ? void 0 : t.refreshSceneComponents) === null || e === void 0 || e.call(t);
                          }),
                          (n.prototype.rebuildSceneRender = function () {
                              var t = this.getCurrentPath(),
                                  e = this.disableFloatBar || this._maskFloatBar;
                              this.sceneRender && (this.sceneRender.clean(), this.sceneRender.release()),
                                  (this.sceneRender = Pu.createSceneRender({ screen: this.screen, applianceManager: this.applianceManager, findDefinition: this.findDefinition, scenePath: t, maskFloatBar: e }));
                          }),
                          (n.prototype.clean = function () {
                              var t;
                              (t = this.sceneRender) === null || t === void 0 || t.clean();
                          }),
                          (n.prototype.release = function () {
                              var t;
                              this.reactionDisposer(), (t = this.sceneRender) === null || t === void 0 || t.release();
                          }),
                          Object.defineProperty(n.prototype, "foucsScenePath", {
                              get: function () {
                                  return this._foucsScenePath;
                              },
                              set: function (t) {
                                  this._foucsScenePath !== t && ((this._foucsScenePath = t), this.refreshScenePath(), this.refreshSceneComponents());
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          Object.defineProperty(n.prototype, "maskFloatBar", {
                              get: function () {
                                  return this._maskFloatBar;
                              },
                              set: function (t) {
                                  this._maskFloatBar !== t && ((this._maskFloatBar = t), this.sceneRender && !this.disableFloatBar && (this.sceneRender.floatBarManager.mask = t));
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (n.prototype.getTargetsMap = function (t, e) {
                              var r,
                                  i = t.payload,
                                  A = G_.findIdentifierWith(i),
                                  a;
                              if (i) {
                                  var o = fd.findDefinition(this.engines, i);
                                  if (o.findTarget) {
                                      var s = o.findTarget(i, e);
                                      s !== void 0 && (a = ((r = {}), (r[A] = s), r));
                                  }
                              }
                              return a;
                          }),
                          (n.prototype.refreshScenePath = function () {
                              var t = this.getCurrentPath(),
                                  e = this.disableFloatBar || this._maskFloatBar;
                              this.sceneRender &&
                                  this.sceneRender.scenePath !== t &&
                                  (this.sceneRender.setScenePath
                                      ? this.sceneRender.setScenePath(t)
                                      : (this.sceneRender.clean(),
                                        this.sceneRender.release(),
                                        (this.sceneRender = Pu.createSceneRender({ screen: this.screen, applianceManager: this.applianceManager, findDefinition: this.findDefinition, scenePath: t, maskFloatBar: e }))));
                          }),
                          (n.prototype.getCurrentPath = function () {
                              var t = this._foucsScenePath;
                              return typeof t != "string" && (t = this.currentScenePath), t;
                          }),
                          (n.prototype.toPath = function (t) {
                              return "/" + t.join("/");
                          }),
                          n
                      );
                  })();
              ls.WhiteboardRender = j_;
          });
          var vd = C(function (Ht) {
              "use strict";
              var us =
                      (Ht && Ht.__assign) ||
                      function () {
                          return (
                              (us =
                                  Object.assign ||
                                  function (n) {
                                      for (var t, e = 1, r = arguments.length; e < r; e++) {
                                          t = arguments[e];
                                          for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                      }
                                      return n;
                                  }),
                              us.apply(this, arguments)
                          );
                      },
                  W_ =
                      (Ht && Ht.__spreadArray) ||
                      function (n, t) {
                          for (var e = 0, r = t.length, i = n.length; e < r; e++, i++) n[i] = t[e];
                          return n;
                      };
              Object.defineProperty(Ht, "__esModule", { value: !0 });
              Ht.ScreenshotRender = Ht.getBoundingRect = Ht.screenshotToCanvas = Ht.screenshot = void 0;
              var _u = pe(),
                  UA = require("akko"),
                  Na = require("boundless"),
                  Z_ = require("netless-ppt"),
                  V_ = Jo(),
                  I_ = bu();
              function X_(n) {
                  return new cs(n).render();
              }
              Ht.screenshot = X_;
              function k_(n, t, e) {
                  e === void 0 && (e = 1);
                  var r = new cs(n),
                      i = n.camera || { centerX: 0, centerY: 0, scale: 1 },
                      A = { width: n.width, height: n.height };
                  r.renderToCanvas(t, i, A, e);
              }
              Ht.screenshotToCanvas = k_;
              function N_(n) {
                  return new cs(n).createRectangleIncludesAllComponents();
              }
              Ht.getBoundingRect = N_;
              var cs = (function () {
                  function n(t) {
                      (this.pluginManager = t.pluginManager), (this.bezierCurvePainter = t.bezierCurvePainter);
                      var e = new Na.Boundless(Na.DeviceType.Desktop);
                      (this.scene = e.createScene()),
                          (this.width = t.width),
                          (this.height = t.height),
                          (this.applianceManager = t.applianceManager),
                          (this.engines = t.engines),
                          (this.camera = t.camera),
                          (this.userFonts = t.userFonts),
                          (this.fontFamily = t.fontFamily),
                          (this.wrappedComponents = t.wrappedComponents);
                      var r = t.path && W_([], t.path),
                          i = t.applianceManager.scenes,
                          A = r ? i.getScene(r) : i.currentScene;
                      A ? (this.addApplianceComponents(A.components), (this.appliances = A.components)) : (this.appliances = []);
                  }
                  return (
                      (n.prototype.addApplianceComponents = function (t) {
                          for (var e = this.engines.engines.componentEngine, r = 0, i = t; r < i.length; r++) {
                              var A = i[r],
                                  a = UA.findIdentifierWith(A),
                                  o = I_.findDefinition(this.engines, A),
                                  s = o.definition,
                                  l = o.disableVisionTrim,
                                  u = void 0;
                              UA.isInstanceOf(A, _u.BackgroundImage) && (u = A.previewURL);
                              var c = this.scene.addComponent({
                                  id: a,
                                  definition: s,
                                  originX: A.originX,
                                  originY: A.originY,
                                  width: A.width,
                                  height: A.height,
                                  sceneMargin: A.hitTestingBoxMargin,
                                  disableVisionTrim: l,
                                  previewURL: u,
                                  payload: A,
                              });
                              c.setVisible(e, !1);
                          }
                      }),
                      (n.prototype.render = function () {
                          var t = this.createScreenshotContextAndScreen(),
                              e = t.context,
                              r = t.screen,
                              i = this.camera;
                          return (
                              i || (r.adaptRectangle(us(us({}, this.createRectangleIncludesAllComponents()), { adapterMode: Na.RectangleAdapterMode.Centering, animationMode: Na.AnimationMode.Immediately })), (i = r.camera)),
                              e.dynamicPpt.setGlobalState(this.applianceManager.getGlobalState()),
                              r.renderScreenshot({ camera: i })
                          );
                      }),
                      (n.prototype.renderToCanvas = function (t, e, r, i) {
                          this.createScreenshotContextAndScreen().screen.renderScreenshotToCanvas(t, e, r, i);
                          for (var A = e.scale, a = -(e.centerX - r.width / A / 2) * A, o = -(e.centerY - r.height / A / 2) * A, s = 0; s < this.appliances.length; ++s) {
                              var l = this.appliances[s];
                              UA.isInstanceOf(l, _u.TextareaShape) && this.renderTextareaShape(t, l, a, o, A, i);
                          }
                      }),
                      (n.prototype.renderTextareaShape = function (t, e, r, i, A, a) {
                          t.resetTransform(), t.scale(a, a);
                          var o = e.hitTestingBoxMargin * A,
                              s = e.originX * A + r - o,
                              l = e.originY * A + i - o,
                              u = e.currentScale;
                          t.translate(s, l), t.scale(u * A, u * A);
                          var c = e.format,
                              p = c.color,
                              h = c.bold,
                              v = c.italic,
                              y = p[0],
                              _ = p[1],
                              B = p[2],
                              S = e.textareaBox.originalText.split("\n"),
                              M = e.textSize + "px " + (this.fontFamily || "sans-serif");
                          h && (M = "bold " + M), v && (M = "italic " + M), (t.fillStyle = "rgb(" + y + "," + _ + "," + B + ")"), (t.textBaseline = "middle"), (t.font = M);
                          for (var E = e.textSize * 1.2, W = o / u, Z = W + E / 2, z = 0, Se = S; z < Se.length; z++) {
                              var le = Se[z];
                              t.fillText(le, W, Z), (Z += E);
                          }
                      }),
                      (n.prototype.createScreenshotContextAndScreen = function () {
                          var t = {
                                  deviceType: Na.DeviceType.Desktop,
                                  observerId: UA.AdminObserverId,
                                  forcePPTLandscape: !1,
                                  disalbeImageHit: !1,
                                  disableOthersSelectingBox: !1,
                                  pluginManager: this.pluginManager,
                                  bezierCurvePainter: this.bezierCurvePainter,
                                  fontFamily: this.fontFamily,
                                  dynamicPpt: V_.createDynamicPpt({ preload: !1, userFonts: this.userFonts, observerId: UA.AdminObserverId, renderMode: Z_.RenderMode.Preview }),
                              },
                              e = this.scene.createScreen({
                                  engines: this.engines.enginesList,
                                  context: t,
                                  autoResize: !1,
                                  width: this.width,
                                  height: this.height,
                                  className: "netless-whiteboard",
                                  wrappedComponents: this.wrappedComponents,
                              });
                          return { context: t, screen: e };
                      }),
                      (n.prototype.createRectangleIncludesAllComponents = function () {
                          if (this.scene.components.length > 0) {
                              for (var t = Number.MAX_SAFE_INTEGER, e = Number.MAX_SAFE_INTEGER, r = Number.MIN_SAFE_INTEGER, i = Number.MIN_SAFE_INTEGER, A = 0; A < this.scene.components.length; ++A) {
                                  var a = this.scene.components[A],
                                      o = this.appliances[A],
                                      s = a.originX,
                                      l = a.originY,
                                      u = a.width,
                                      c = a.height,
                                      p = o && UA.isInstanceOf(o, _u.Editable) ? o.hitTestingBoxMargin : 0;
                                  (t = Math.min(t, s - p)), (e = Math.min(e, l - p)), (r = Math.max(r, s + u + p)), (i = Math.max(i, l + c + p));
                              }
                              var h = 16;
                              return (t -= h), (e -= h), (r += h), (i += h), { originX: t, originY: e, width: r - t, height: i - e };
                          } else return { originX: 0, originY: 0, width: 0, height: 0 };
                      }),
                      n
                  );
              })();
              Ht.ScreenshotRender = cs;
          });
          var md = C(function (ps) {
              "use strict";
              Object.defineProperty(ps, "__esModule", { value: !0 });
              ps.MobXAtoms = void 0;
              var H_ = require("mobx"),
                  D_ = (function () {
                      function n() {
                          this.atoms = {};
                      }
                      return (
                          (n.prototype.clean = function (t) {
                              delete this.atoms[t];
                          }),
                          (n.prototype.reportObserved = function (t) {
                              var e = this.atoms[t];
                              e || (e = this.atoms[t] = H_.createAtom(t)), e.reportObserved();
                          }),
                          (n.prototype.reportChanged = function (t) {
                              var e = this.atoms[t];
                              e && e.reportChanged();
                          }),
                          n
                      );
                  })();
              ps.MobXAtoms = D_;
          });
          var yd = C(function (LA) {
              "use strict";
              var Y_ =
                  (LA && LA.__spreadArray) ||
                  function (n, t) {
                      for (var e = 0, r = t.length, i = n.length; e < r; e++, i++) n[i] = t[e];
                      return n;
                  };
              Object.defineProperty(LA, "__esModule", { value: !0 });
              LA.BezierCurvePainter = void 0;
              var F_ = md(),
                  z_ = (function () {
                      function n(t) {
                          (this.bezierRenderGranularity = 4.5), (this.bezierMaxSegments = 30), (this.atoms = new F_.MobXAtoms()), (this.paintingCurve = null), (this.brokenPoint = null), (this.convergenceSteps = Object.freeze(Y_([], t)));
                      }
                      return (
                          Object.defineProperty(n.prototype, "maxExtraSteups", {
                              get: function () {
                                  return this.convergenceSteps.length - 1;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (n.prototype.startPainting = function (t) {
                              this.paintingCurve = { identifier: t, beginIndex: 0, points: [], left: Number.MAX_VALUE, right: -Number.MAX_VALUE, top: Number.MAX_VALUE, bottom: -Number.MAX_VALUE };
                          }),
                          (n.prototype.fireRemoveComponent = function (t) {
                              this.atoms.clean(t);
                          }),
                          (n.prototype.getPrecisionSegments = function (t) {
                              var e = null,
                                  r = this.paintingCurve;
                              if (r && r.identifier === t) {
                                  var i = r.left,
                                      A = r.top;
                                  this.brokenPoint && ((i = Math.min(i, this.brokenPoint.x)), (A = Math.min(A, this.brokenPoint.y))), (e = { points: r.points, beginIndex: r.beginIndex, left: i, top: A });
                              }
                              return this.atoms.reportObserved(t), e;
                          }),
                          (n.prototype.getRectangle = function (t) {
                              var e = null,
                                  r = this.paintingCurve;
                              if (r && r.identifier === t) {
                                  var i = r.left,
                                      A = r.top,
                                      a = r.right,
                                      o = r.bottom;
                                  if (this.brokenPoint) {
                                      var s = this.brokenPoint,
                                          l = s.x,
                                          u = s.y;
                                      (i = Math.min(i, l)), (A = Math.min(A, u)), (a = Math.max(a, l)), (o = Math.max(o, u));
                                  }
                                  e = { originX: i, originY: A, width: a - i, height: o - A };
                              }
                              return this.atoms.reportObserved(t), e;
                          }),
                          (n.prototype.completePainting = function () {
                              var t = this.paintingCurve;
                              return t && ((this.paintingCurve = null), (this.brokenPoint = null), this.atoms.reportChanged(t.identifier)), t;
                          }),
                          (n.prototype.pushPoint = function (t, e) {
                              this.paintingCurve && (this.completeMoveBrokenPoint(), this.paintingCurve.points.push({ x: t, y: e, brokenLine: !1 }), this.touchPoint(t, e));
                          }),
                          (n.prototype.moveBrokenPoint = function (t, e) {
                              this.paintingCurve &&
                                  (this.brokenPoint ? ((this.brokenPoint.x = t), (this.brokenPoint.y = e)) : ((this.brokenPoint = { x: t, y: e, brokenLine: !0 }), this.paintingCurve.points.push(this.brokenPoint)),
                                  this.atoms.reportChanged(this.paintingCurve.identifier));
                          }),
                          (n.prototype.completeMoveBrokenPoint = function () {
                              this.brokenPoint && (this.touchPoint(this.brokenPoint.x, this.brokenPoint.y), (this.brokenPoint = null));
                          }),
                          (n.prototype.touchPoint = function (t, e) {
                              var r = this.paintingCurve;
                              r && (r.left > t && (r.left = t), r.right < t && (r.right = t), r.top > e && (r.top = e), r.bottom < e && (r.bottom = e), this.atoms.reportChanged(r.identifier));
                          }),
                          (n.prototype.pointWeight = function (t, e) {
                              var r = t + e;
                              return r < 0 ? (r = 0) : r >= this.convergenceSteps.length && (r = this.convergenceSteps.length - 1), this.convergenceSteps[r];
                          }),
                          (n.prototype.cleanAndKeepPoints = function (t) {
                              if (this.paintingCurve) {
                                  var e = t;
                                  this.paintingCurve.points.splice(0, e), (this.paintingCurve.beginIndex += e), this.atoms.reportChanged(this.paintingCurve.identifier);
                              }
                          }),
                          (n.default = new n([1])),
                          n
                      );
                  })();
              LA.BezierCurvePainter = z_;
          });
          var Cu = C(function (Wi) {
              "use strict";
              var Q_ =
                      (Wi && Wi.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  Su =
                      (Wi && Wi.__exportStar) ||
                      function (n, t) {
                          for (var e in n) e !== "default" && !Object.prototype.hasOwnProperty.call(t, e) && Q_(t, n, e);
                      };
              Object.defineProperty(Wi, "__esModule", { value: !0 });
              Su(gd(), Wi);
              Su(vd(), Wi);
              Su(yd(), Wi);
          });
          var Pd = C(function (hs) {
              "use strict";
              Object.defineProperty(hs, "__esModule", { value: !0 });
              hs.VariableWeightCurvePainter = void 0;
              var _n = WA(),
                  Sn;
              (function (n) {
                  (n[(n.OnSegment = 0)] = "OnSegment"), (n[(n.OnJoint = 1)] = "OnJoint"), (n[(n.OnOther = 2)] = "OnOther");
              })(Sn || (Sn = {}));
              var q_ = (function () {
                  function n() {
                      (this.painters = []), (this.segementsPainter = null);
                  }
                  return (
                      (n.prototype.beginCurve = function (t, e, r) {
                          this.preNode = { x: t, y: e, radius: r / 2 };
                      }),
                      (n.prototype.curveTo = function (t, e, r, i, A, a, o, s, l) {
                          for (var u = Math.max(2, s), c = this.preNode, p = c.x, h = c.y, v = c.radius, y = v * 2, _ = o - y, B = 0; B < u; ++B) {
                              var S = B / (u - 1),
                                  M = void 0;
                              B === 0 ? (M = 0) : B === u - 1 ? (M = 1) : ((M = l[0] * Math.pow(S, 3) + l[1] * Math.pow(S, 2) + l[2] * S + l[3]), (M = Math.max(0, Math.min(1, M))));
                              var E = Math.pow(1 - S, 3),
                                  W = 3 * S * Math.pow(1 - S, 2),
                                  Z = 3 * Math.pow(S, 2) * (1 - S),
                                  z = Math.pow(S, 3),
                                  Se = E * p + W * t + Z * r + z * A,
                                  le = E * h + W * e + Z * i + z * a,
                                  Ve = y + _ * M;
                              this.lineTo(Se, le, Ve);
                          }
                      }),
                      (n.prototype.quadraticCurveTo = function (t, e, r, i, A) {
                          for (var a = 8, o = this.preNode, s = o.x, l = o.y, u = o.radius, c = u * 2, p = A - c, h = 0; h < a; ++h) {
                              var v = h / (a - 1),
                                  y = void 0;
                              h === 0 ? (y = 0) : h === a - 1 ? (y = 1) : (y = 1 - Math.pow(1 - v, 3));
                              var _ = Math.pow(1 - v, 2),
                                  B = 2 * v * (1 - v),
                                  S = Math.pow(v, 2),
                                  M = _ * s + B * t + S * r,
                                  E = _ * l + B * e + S * i,
                                  W = c + p * y;
                              this.lineTo(M, E, W);
                          }
                      }),
                      (n.prototype.lineTo = function (t, e, r) {
                          var i = this.preNode;
                          if (i.x !== t || i.y !== e) {
                              var A = { x: t, y: e, radius: r / 2 },
                                  a = { x: t - i.x, y: e - i.y },
                                  o = Math.atan2(a.y, a.x),
                                  s = _n.distance(a),
                                  l = i.radius - A.radius;
                              if (l >= s) this.closeSegmentsIfNeed(), this.painters.push(new bd(i));
                              else if (-l >= s) this.closeSegmentsIfNeed(), this.painters.push(new bd(A));
                              else {
                                  var u = Math.acos(l / s);
                                  this.segementsPainter || ((this.segementsPainter = new U_()), this.painters.push(this.segementsPainter)), this.segementsPainter.pushSegment(o, u, i, A);
                              }
                              this.preNode = A;
                          }
                      }),
                      (n.prototype.endCurve = function (t) {
                          this.closeSegmentsIfNeed();
                          for (var e = 0, r = this.painters; e < r.length; e++) {
                              var i = r[e];
                              i.paint(t);
                          }
                      }),
                      (n.prototype.closeSegmentsIfNeed = function () {
                          this.segementsPainter && (this.painters.push(this.segementsPainter), (this.segementsPainter = null));
                      }),
                      n
                  );
              })();
              hs.VariableWeightCurvePainter = q_;
              var bd = (function () {
                      function n(t) {
                          this.node = t;
                      }
                      return (
                          (n.prototype.paint = function (t) {
                              var e = this.node,
                                  r = e.x,
                                  i = e.y,
                                  A = e.radius;
                              t.beginPath(), t.arc(r, i, A, 0, 2 * Math.PI), t.fill();
                          }),
                          n
                      );
                  })(),
                  U_ = (function () {
                      function n() {
                          this.segements = [];
                      }
                      return (
                          (n.prototype.pushSegment = function (t, e, r, i) {
                              var A = -e,
                                  a = { angle: e, begin: this.relativePoint(r, t, e), end: this.relativePoint(i, t, e) },
                                  o = { angle: A, begin: this.relativePoint(r, t, A), end: this.relativePoint(i, t, A) };
                              this.segements.push({ begin: r, end: i, left: a, right: o });
                          }),
                          (n.prototype.relativePoint = function (t, e, r) {
                              var i = e + r,
                                  A = t.radius * Math.cos(i),
                                  a = t.radius * Math.sin(i);
                              return { x: t.x + A, y: t.y + a };
                          }),
                          (n.prototype.paint = function (t) {
                              for (var e = 0; e < this.segements.length; ) e = this.paintPartBeginAt(t, e) + 1;
                          }),
                          (n.prototype.paintPartBeginAt = function (t, e) {
                              var r = this.segements.length - 1,
                                  i = this.segements[e];
                              t.beginPath(), t.moveTo(i.right.begin.x, i.right.begin.y);
                              for (var A = e; A < this.segements.length; ++A) {
                                  var a = this.segements[A],
                                      o = a.end,
                                      s = a.right,
                                      l = this.segements[A + 1],
                                      u = !1;
                                  if (l) {
                                      var c = l.right;
                                      u = this.paintCorner(t, s.begin, s.end, c.begin, c.end, o.radius);
                                  } else t.lineTo(s.end.x, s.end.y), (u = !0);
                                  if (!u) {
                                      r = A;
                                      break;
                                  }
                              }
                              var p = this.segements[r];
                              this.paintEndJoint(t, p.right.end, p.left.end, p.end, r === this.segements.length - 1);
                              for (var A = r; A >= e; A--) {
                                  var h = this.segements[A],
                                      v = h.begin,
                                      y = h.left,
                                      l = this.segements[A - 1];
                                  if (l) {
                                      var _ = l.left,
                                          B = this.paintCorner(t, y.end, y.begin, _.end, _.begin, v.radius);
                                      B || (t.lineTo(y.begin.x, y.begin.y), t.lineTo(_.end.x, _.end.y));
                                  } else t.lineTo(y.begin.x, y.begin.y);
                              }
                              return this.paintEndJoint(t, i.left.begin, i.right.begin, i.begin, !0), t.closePath(), t.fill(), r;
                          }),
                          (n.prototype.paintCorner = function (t, e, r, i, A, a) {
                              var o = !0,
                                  s = _n.findCrossPoint(e, r, i, A);
                              if (this.isCornerFlat(s, r, i)) t.lineTo(r.x, r.y), t.lineTo(i.x, i.y);
                              else
                                  switch (this.findCorssState(e, r, i, A, s)) {
                                      case Sn.OnJoint: {
                                          t.lineTo(r.x, r.y), this.isCrossHasHugeError(e, r, i, A, s) ? t.lineTo(i.x, i.y) : t.arcTo(s.x, s.y, i.x, i.y, a);
                                          break;
                                      }
                                      case Sn.OnSegment: {
                                          t.lineTo(s.x, s.y);
                                          break;
                                      }
                                      case Sn.OnOther: {
                                          t.lineTo(r.x, r.y), (o = !1);
                                          break;
                                      }
                                  }
                              return o;
                          }),
                          (n.prototype.isCornerFlat = function (t, e, r) {
                              if (t) {
                                  var i = 0.001;
                                  return _n.distance({ x: t.x - e.x, y: t.y - e.y }) < i || _n.distance({ x: t.x - r.x, y: t.y - r.y }) < i;
                              } else return !0;
                          }),
                          (n.prototype.findCorssState = function (t, e, r, i, A) {
                              var a = !_n.isOnRay(e, t, A),
                                  o = !_n.isOnRay(r, i, A);
                              return a && o ? Sn.OnJoint : !a && !o && _n.isOnRay(t, e, A) && _n.isOnRay(i, r, A) ? Sn.OnSegment : Sn.OnOther;
                          }),
                          (n.prototype.deltaAngle = function (t, e) {
                              var r = e - t;
                              return r > Math.PI ? (r -= 2 * Math.PI) : r <= -Math.PI && (r += 2 * Math.PI), r;
                          }),
                          (n.prototype.paintEndJoint = function (t, e, r, i, A) {
                              var a = !1;
                              if (A) {
                                  var o = Math.atan2(e.y - i.y, e.x - i.x),
                                      s = Math.atan2(r.y - i.y, r.x - i.x),
                                      l = this.deltaAngle(o, s);
                                  if (Math.abs(l) >= n.minArcAngle) {
                                      var u = !1;
                                      t.arc(i.x, i.y, i.radius, o, s, u), (a = !0);
                                  }
                              }
                              a || t.lineTo(r.x, r.y);
                          }),
                          (n.prototype.isCrossHasHugeError = function (t, e, r, i, A) {
                              var a = this.squareDistance(t, e),
                                  o = this.squareDistance(r, i),
                                  s = this.squareDistance(e, A),
                                  l = this.squareDistance(r, A);
                              return s / a > n.hugeRate && l / o > n.hugeRate;
                          }),
                          (n.prototype.squareDistance = function (t, e) {
                              var r = t.x - e.x,
                                  i = t.y - e.y;
                              return r * r + i * i;
                          }),
                          (n.minArcAngle = Math.PI / 180),
                          (n.hugeRate = 1e6),
                          n
                      );
                  })();
          });
          var _d = C(function (ds) {
              "use strict";
              Object.defineProperty(ds, "__esModule", { value: !0 });
              ds.CurvesManager = void 0;
              var L_ = (function () {
                  function n() {
                      var t = this;
                      (this.animes = {}),
                          (this.authorToAnimes = {}),
                          (this.playingAnimes = {}),
                          (this.preTimestamp = 0),
                          (this.playingCount = 0),
                          (this.handleId = -1),
                          (this.onTick = function () {
                              for (var e = Date.now(), r = e - t.preTimestamp, i = 0, A = Object.keys(t.playingAnimes); i < A.length; i++) {
                                  var a = A[i],
                                      o = t.playingAnimes[a];
                                  o.tick(r) && (delete t.playingAnimes[a], (t.playingCount -= 1));
                              }
                              t.playingCount > 0 ? (t.handleId = requestAnimationFrame(t.onTick)) : (t.handleId = -1), (t.preTimestamp = e);
                          });
                  }
                  return (
                      (n.prototype.clean = function () {
                          this.handleId !== -1 && (cancelAnimationFrame(this.handleId), (this.handleId = -1)), (this.preTimestamp = 0), (this.playingCount = 0);
                          var t = [],
                              e = [];
                          for (var r in this.playingAnimes) delete this.playingAnimes[r];
                          for (var r in this.authorToAnimes) {
                              var i = this.authorToAnimes[r],
                                  A = i[i.length - 1];
                              t.push(A.authorId), delete this.authorToAnimes[r];
                          }
                          for (var r in this.animes) e.push(this.animes[r]), delete this.animes[r];
                          for (var a = 0, o = e; a < o.length; a++) {
                              var s = o[a];
                              s.clean();
                          }
                          return t;
                      }),
                      (n.prototype.register = function (t) {
                          var e;
                          if (!this.animes[t.id]) {
                              this.animes[t.id] = t;
                              var r = this.authorToAnimes[t.authorId];
                              r || (r = this.authorToAnimes[t.authorId] = []), (e = r[r.length - 1]) === null || e === void 0 || e.fastComplete(), r.push(t);
                          }
                      }),
                      (n.prototype.unregister = function (t) {
                          if (this.animes[t.id]) {
                              delete this.animes[t.id], this.stopTick(t);
                              var e = this.authorToAnimes[t.authorId];
                              if (e) {
                                  var r = e.indexOf(t);
                                  r !== -1 && (e.splice(r, 1), e.length === 0 && delete this.authorToAnimes[t.authorId]);
                              }
                          }
                      }),
                      (n.prototype.isTopOfAuthor = function (t) {
                          var e = this.authorToAnimes[t.authorId];
                          return e ? e[e.length - 1] === t : !1;
                      }),
                      (n.prototype.isPlaying = function (t) {
                          return t.id in this.playingAnimes;
                      }),
                      (n.prototype.playTick = function (t) {
                          this.playingAnimes[t.id] ||
                              ((this.playingAnimes[t.id] = t), (this.playingCount += 1), this.playingCount === 1 && this.handleId === -1 && ((this.preTimestamp = Date.now()), (this.handleId = requestAnimationFrame(this.onTick))));
                      }),
                      (n.prototype.stopTick = function (t) {
                          var e = t.id;
                          this.playingAnimes[e] && (delete this.playingAnimes[e], (this.playingCount -= 1), this.playingCount === 0 && this.handleId !== -1 && (cancelAnimationFrame(this.handleId), (this.handleId = -1)));
                      }),
                      n
                  );
              })();
              ds.CurvesManager = L_;
          });
          var Sd = C(function (fs) {
              "use strict";
              Object.defineProperty(fs, "__esModule", { value: !0 });
              fs.CurveSpliter = void 0;
              var J_ = (function () {
                  function n() {}
                  return (
                      (n.prototype.split = function (t, e, r) {
                          var i = n.splitRate,
                              A = n.splitCount,
                              a = 0,
                              o = 1,
                              s = i,
                              l = 0,
                              u = A,
                              c = this.nextT(t, e, r, a, o, s, l, u).t,
                              p = r / e.distance;
                          return this.splitWithT(t, e, p, c);
                      }),
                      (n.prototype.splitWithT = function (t, e, r, i) {
                          var A = e.point1,
                              a = e.point2,
                              o = e.point3,
                              s = Math.ceil(e.hiddenPoints * r),
                              l = e.distance * r,
                              u = e.hiddenPoints - s,
                              c = e.distance - l,
                              p = this.curvePoint(t, e, i),
                              h = this.splitSegment(t, A, i),
                              v = this.splitSegment(A, a, i),
                              y = this.splitSegment(a, o, i),
                              _ = this.splitSegment(h, v, i),
                              B = this.splitSegment(v, y, i),
                              S = { point1: h, point2: _, point3: p, distance: l, hiddenPoints: s, cubic: e.cubic },
                              M = { point1: B, point2: y, point3: o, distance: c, hiddenPoints: u, cubic: e.cubic };
                          return [S, M];
                      }),
                      (n.prototype.nextT = function (t, e, r, i, A, a, o, s) {
                          var l,
                              u = i,
                              c = t.x,
                              p = t.y,
                              h = o;
                          for (this.assertLoopCount(A - i - a, a), l = i + a; l <= A; l += a) {
                              var v = this.curvePoint(t, e, l),
                                  y = v.x,
                                  _ = v.y,
                                  B = y - c,
                                  S = _ - p,
                                  M = h + Math.sqrt(Math.pow(B, 2) + Math.pow(S, 2));
                              if (r === M) break;
                              if (r < M) {
                                  if (s === 0) (l = u + a / 2), (h = (M + h) / 2);
                                  else {
                                      var E = n.splitRate,
                                          W = u,
                                          Z = l,
                                          z = (Z - W) * E,
                                          Se = s - 1,
                                          le = this.nextT(t, e, r, W, Z, z, h, Se);
                                      (l = le.t), (h = le.sumD);
                                  }
                                  break;
                              }
                              (u = l), (c = y), (p = _), (h = M);
                          }
                          return l > A && (l = A), { t: l, sumD: h };
                      }),
                      (n.prototype.curvePoint = function (t, e, r) {
                          var i = e.point1,
                              A = e.point2,
                              a = e.point3,
                              o = Math.pow(1 - r, 3),
                              s = 3 * r * Math.pow(1 - r, 2),
                              l = 3 * Math.pow(r, 2) * (1 - r),
                              u = Math.pow(r, 3),
                              c = o * t.x + s * i.x + l * A.x + u * a.x,
                              p = o * t.y + s * i.y + l * A.y + u * a.y;
                          return { x: c, y: p };
                      }),
                      (n.prototype.splitSegment = function (t, e, r) {
                          var i = e.x - t.x,
                              A = e.y - t.y;
                          return { x: t.x + i * r, y: t.y + A * r };
                      }),
                      (n.prototype.assertLoopCount = function (t, e) {
                          if (e <= 0) throw new Error("step is invalid value " + e);
                          var r = n.maxLoopCount,
                              i = t / e;
                          if (i > r) throw new Error("loop count is too large " + i);
                      }),
                      (n.splitCount = 4),
                      (n.splitRate = 0.21),
                      (n.maxLoopCount = 100),
                      n
                  );
              })();
              fs.CurveSpliter = J_;
          });
          var Bu = C(function (Cn) {
              "use strict";
              var Jn =
                      (Cn && Cn.__assign) ||
                      function () {
                          return (
                              (Jn =
                                  Object.assign ||
                                  function (n) {
                                      for (var t, e = 1, r = arguments.length; e < r; e++) {
                                          t = arguments[e];
                                          for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                      }
                                      return n;
                                  }),
                              Jn.apply(this, arguments)
                          );
                      },
                  JA =
                      (Cn && Cn.__spreadArray) ||
                      function (n, t) {
                          for (var e = 0, r = t.length, i = n.length; e < r; e++, i++) n[i] = t[e];
                          return n;
                      };
              Object.defineProperty(Cn, "__esModule", { value: !0 });
              Cn.CurveAnime = void 0;
              var Cd = require("mobx"),
                  K_ = _d(),
                  $_ = Sd(),
                  e0 = (function () {
                      function n(t) {
                          var e = this,
                              r = t.authorId,
                              i = t.getResource,
                              A = t.onDisposedBy,
                              a = t.onTailUpdate;
                          (this.id = "" + (n.preId += 1)),
                              (this.targetCurves = []),
                              (this.waitingCompleteQueue = []),
                              (this.speed = void 0),
                              (this.growCurve = null),
                              (this.isFastCompleteMode = !1),
                              (this.didDisposed = !1),
                              (this.fireUpdate = function (u) {
                                  var c = u.headPoint,
                                      p = u.curves;
                                  try {
                                      e.appendTargetCurves(Date.now(), n.filterCurves(p)), e.fireHeadPointUpdate(c), e.refactorAnimeCurves(), n.manager.playTick(e);
                                  } catch (h) {
                                      e.disposeWithError(h);
                                  }
                              });
                          var o = i(),
                              s = o.headPoint,
                              l = o.curves;
                          (this.authorId = r),
                              (this.beginTimestamp = Date.now()),
                              (this.headPoint = Jn({}, s)),
                              (this.animeCurves = l.map(n.copy)),
                              (this.atom = Cd.createAtom("curveAnime")),
                              (this.disposer = Cd.reaction(i, this.fireUpdate, {
                                  equals: function () {
                                      return !1;
                                  },
                              })),
                              (this.targetLen = this.appendTargetCurves(this.beginTimestamp, l)),
                              (this.animeLen = this.targetLen),
                              (this.growBegin = { targetSlice: null, offset: 0, index: 0 }),
                              n.manager.register(this),
                              (this.onTailUpdate = a),
                              (this.onDisposedBy = A);
                      }
                      return (
                          (n.cleanAll = function () {
                              return this.manager.clean();
                          }),
                          (n.prototype.isTopOfAuthor = function () {
                              return n.manager.isTopOfAuthor(this);
                          }),
                          (n.prototype.waitUtilComplete = function () {
                              var t = this;
                              return n.manager.isPlaying(this)
                                  ? new Promise(function (e) {
                                        t.waitingCompleteQueue.push(e);
                                    })
                                  : Promise.resolve();
                          }),
                          (n.prototype.clean = function () {
                              this.didDisposed || (this.dispose(), this.onDisposedBy(null));
                          }),
                          (n.prototype.dispose = function () {
                              this.didDisposed || (n.manager.stopTick(this), this.disposer(), this.atom.reportChanged(), n.manager.unregister(this), (this.didDisposed = !0));
                          }),
                          (n.prototype.disposeWithError = function (t) {
                              this.didDisposed || (this.dispose(), this.onDisposedBy(t));
                          }),
                          Object.defineProperty(n.prototype, "curves", {
                              get: function () {
                                  this.atom.reportObserved();
                                  var t = this.animeCurves;
                                  return this.growCurve && (t = JA(JA([], this.animeCurves), [this.growCurve])), t;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (n.prototype.appendTargetCurves = function (t, e) {
                              for (var r = Math.min(this.targetCurves.length - 1, e.length), i = Math.max(0, r), A = 0, a = 0; a < i; ++a) {
                                  var o = e[a];
                                  (this.targetCurves[a].curve = o), (A += o.distance);
                              }
                              for (var a = i; a < e.length; ++a) {
                                  var o = e[a],
                                      s = this.targetCurves[a];
                                  s ? (s.curve = o) : (s = this.targetCurves[a] = { timestamp: t, curve: o, speed: 0 });
                                  var l = this.targetCurves[a - 1],
                                      u = l ? l.timestamp : this.beginTimestamp,
                                      c = t - u;
                                  c !== 0 && o.distance !== 0 ? (s.speed = o.distance / c) : l && (s.speed = l.speed), (A += o.distance);
                              }
                              return A;
                          }),
                          (n.prototype.fireHeadPointUpdate = function (t) {
                              var e = t.x - this.headPoint.x,
                                  r = t.y - this.headPoint.y;
                              if (e !== 0 || r !== 0) {
                                  this.headPoint = Jn({}, t);
                                  for (var i = 0, A = this.animeCurves; i < A.length; i++) {
                                      var a = A[i];
                                      this.moveCurveTo(a, e, r);
                                  }
                                  this.growCurve && this.moveCurveTo(this.growCurve, e, r), this.growBegin.targetSlice && this.moveCurveTo(this.growBegin.targetSlice, e, r);
                              }
                          }),
                          (n.prototype.refactorAnimeCurves = function () {
                              for (var t, e = [], r = 0, i = 0, A = 0, a = 0; a < this.animeCurves.length; ++a) {
                                  for (var o = this.animeCurves[a], s = i + o.distance, l = this.targetCurves[A]; l && r < s; ) e.push(n.copy(l.curve)), (r += l.curve.distance), (A += 1), (l = this.targetCurves[A]);
                                  i = s;
                              }
                              for (var u = i + (this.growCurve ? this.growCurve.distance : 0); r <= u; ) {
                                  var l = this.targetCurves[A];
                                  if (!l) break;
                                  (A += 1), (r += l.curve.distance), (i += l.curve.distance), e.push(n.copy(l.curve));
                              }
                              if (r > u) {
                                  var c = r - u,
                                      l = e.pop(),
                                      p = ((t = e[e.length - 1]) === null || t === void 0 ? void 0 : t.point3) || this.headPoint,
                                      h = l.distance - c,
                                      v = n.spliter.split(p, l, h)[0];
                                  i -= l.distance;
                                  for (var a = A; a < this.targetCurves.length; ++a) {
                                      var y = this.targetCurves[a].curve;
                                      r += y.distance;
                                  }
                                  (this.growCurve = v), (this.growBegin = { targetSlice: l, index: A - 1, offset: h });
                              } else (this.growCurve = null), (this.growBegin = { targetSlice: null, index: A, offset: 0 });
                              (this.targetLen = r), (this.animeLen = i), (this.animeCurves = e);
                          }),
                          (n.prototype.tick = function (t) {
                              var e = !1;
                              try {
                                  if (this.playGrowingAnime(t)) {
                                      for (var r = 0, i = this.waitingCompleteQueue.splice(0); r < i.length; r++) {
                                          var A = i[r];
                                          A();
                                      }
                                      e = !0;
                                  }
                                  this.atom.reportChanged();
                              } catch (a) {
                                  this.disposeWithError(a), (e = !0);
                              }
                              return e;
                          }),
                          (n.prototype.fastComplete = function () {
                              this.isFastCompleteMode = !0;
                          }),
                          (n.prototype.moveCurveTo = function (t, e, r) {
                              this.moveTo(t.point1, e, r), this.moveTo(t.point2, e, r), this.moveTo(t.point3, e, r);
                          }),
                          (n.prototype.moveTo = function (t, e, r) {
                              (t.x += e), (t.y += r);
                          }),
                          (n.prototype.moveToClose = function (t, e, r) {
                              var i = !1,
                                  A = n.movingStepRate,
                                  a = n.movingBeginRate,
                                  o = n.closingRate,
                                  s = o * r,
                                  l = a * r,
                                  u = e.x - t.x,
                                  c = e.y - t.y,
                                  p = Math.sqrt(Math.pow(u, 2) + Math.pow(c, 2));
                              return p < s ? ((t.x = e.x), (t.y = e.y), (i = !0)) : p >= l ? ((t.x = e.x - (u / p) * l), (t.y = e.y - (c / p) * l)) : ((t.x += u * A), (t.y += c * A)), i;
                          }),
                          (n.prototype.growPoint = function (t, e, r) {
                              var i = e.x - t.x,
                                  A = e.y - t.y;
                              return { x: t.x + i * r, y: t.y + A * r };
                          }),
                          (n.prototype.playGrowingAnime = function (t) {
                              var e,
                                  r = !1,
                                  i = this.growBegin.index,
                                  A = this.targetCurves[i];
                              if (A) {
                                  var a = this.targetLen - this.animeLen,
                                      o = ((e = this.animeCurves[i - 1]) === null || e === void 0 ? void 0 : e.point3) || this.headPoint;
                                  this.growCurve
                                      ? (this.updateGrowCurve(this.growCurve, o, a, t), this.growCurve || (r = !0))
                                      : a > 0 && (this.growCurve = { point1: o, point2: o, point3: o, distance: 0, hiddenPoints: 0, cubic: JA([], A.curve.cubic) });
                              } else r = !0;
                              return this.fireTailUpdate(), r;
                          }),
                          (n.prototype.updateGrowCurve = function (t, e, r, i) {
                              var A,
                                  a = this.growBegin,
                                  o = a.targetSlice,
                                  s = a.index;
                              if (r <= 0) t.distance > 0 && this.moveToClose(t.point1, e, this.targetLen) && this.moveToClose(t.point2, e, this.targetLen) && this.moveToClose(t.point3, e, this.targetLen) && (this.growCurve = null);
                              else if (o) {
                                  var l = !1,
                                      u = 0;
                                  (t.distance += this.tickAndGetStep(i)), t.distance >= o.distance && ((l = !0), (u = t.distance - o.distance), (t.distance = o.distance));
                                  var c = t.distance / o.distance;
                                  if (((t.point1 = this.growPoint(e, o.point1, c)), (t.point2 = this.growPoint(e, o.point2, c)), (t.point3 = this.growPoint(e, o.point3, c)), (t.hiddenPoints = Math.ceil(c * o.hiddenPoints)), l)) {
                                      var p = this.animeCurves[s],
                                          h = this.targetCurves[s].curve;
                                      p ? (this.animeLen += h.distance - p.distance) : (this.animeLen += h.distance), (this.animeCurves[s] = h);
                                      var v = s + 1,
                                          y = ((A = this.targetCurves[v]) === null || A === void 0 ? void 0 : A.curve) || null;
                                      (this.growBegin = { targetSlice: y, index: v, offset: 0 }), v >= this.targetCurves.length ? (this.growCurve = null) : (this.growCurve = this.createNextGrowCurve(o.point3, y, u));
                                  }
                              } else this.growCurve = null;
                          }),
                          (n.prototype.fireTailUpdate = function () {
                              if (n.manager.isTopOfAuthor(this))
                                  if (this.growCurve) {
                                      var t = this.growCurve.point3,
                                          e = t.x,
                                          r = t.y;
                                      this.onTailUpdate(e, r);
                                  } else {
                                      var i = this.animeCurves[this.animeCurves.length - 1];
                                      if (i) {
                                          var A = i.point3,
                                              e = A.x,
                                              r = A.y;
                                          this.onTailUpdate(e, r);
                                      }
                                  }
                          }),
                          (n.prototype.createNextGrowCurve = function (t, e, r) {
                              var i;
                              if (r === 0) i = { point1: t, point2: t, point3: t, distance: 0, hiddenPoints: 0, cubic: JA([], e.cubic) };
                              else {
                                  var A = Math.min(r, e.distance),
                                      a = A / e.distance,
                                      o = Math.ceil(a * e.hiddenPoints);
                                  i = { point1: this.growPoint(t, e.point1, a), point2: this.growPoint(t, e.point2, a), point3: this.growPoint(t, e.point3, a), distance: A, hiddenPoints: o, cubic: JA([], e.cubic) };
                              }
                              return i;
                          }),
                          (n.prototype.tickAndGetStep = function (t) {
                              var e = this.speed;
                              e === void 0 && ((e = 0), this.targetCurves.length > 0 && (e = this.targetCurves[this.targetCurves.length - 1].speed));
                              var r = n.kRate,
                                  i = n.speedUpDuration,
                                  A = n.aUpRate,
                                  a = this.targetCurves[this.growBegin.index].speed,
                                  o = this.displayTimestamp(),
                                  s = this.lastTimestamp(),
                                  l = 0;
                              if (s - o > i) {
                                  var u = Math.min(1, this.displayLen() / this.targetLen);
                                  l += (1 - u) * A;
                              }
                              if (((l += r * (a - e)), (e += l * t), this.isFastCompleteMode)) {
                                  var c = n.movingStepRate,
                                      p = Math.max(0, this.targetLen - this.displayLen());
                                  e += p * c;
                              }
                              return (this.speed = e), e * t;
                          }),
                          (n.prototype.displayLen = function () {
                              var t = this.animeLen;
                              return this.growCurve && (t += this.growCurve.distance), t;
                          }),
                          (n.prototype.displayTimestamp = function () {
                              var t;
                              if (this.growCurve) {
                                  var e = this.targetCurves[this.growBegin.index - 1],
                                      r = this.targetCurves[this.growBegin.index],
                                      i = e ? e.timestamp : this.beginTimestamp,
                                      A = r.timestamp,
                                      a = this.growCurve.distance / r.curve.distance;
                                  t = (1 - a) * i + a * A;
                              } else {
                                  var e = this.targetCurves[this.growBegin.index - 1];
                                  t = e ? e.timestamp : this.beginTimestamp;
                              }
                              return t;
                          }),
                          (n.prototype.lastTimestamp = function () {
                              var t = this.targetCurves.length - 1,
                                  e = this.targetCurves[t];
                              return e ? e.timestamp : this.beginTimestamp;
                          }),
                          (n.filterCurves = function (t) {
                              for (var e = [], r = 0, i = t; r < i.length; r++) {
                                  var A = i[r];
                                  A.distance > 0 && e.push(this.copy(A));
                              }
                              return e;
                          }),
                          (n.copy = function (t) {
                              return { point1: Jn({}, t.point1), point2: Jn({}, t.point2), point3: Jn({}, t.point3), distance: t.distance, hiddenPoints: t.hiddenPoints, cubic: JA([], t.cubic) };
                          }),
                          (n.spliter = new $_.CurveSpliter()),
                          (n.manager = new K_.CurvesManager()),
                          (n.kRate = 0.01),
                          (n.speedUpDuration = 480),
                          (n.aUpRate = 27),
                          (n.movingStepRate = 0.73),
                          (n.movingBeginRate = 0.12),
                          (n.closingRate = 0.015),
                          (n.preId = 0),
                          n
                      );
                  })();
              Cn.CurveAnime = e0;
          });
          var xd = C(function (rt) {
              "use strict";
              var t0 =
                      (rt && rt.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  Kn =
                      (rt && rt.__assign) ||
                      function () {
                          return (
                              (Kn =
                                  Object.assign ||
                                  function (n) {
                                      for (var t, e = 1, r = arguments.length; e < r; e++) {
                                          t = arguments[e];
                                          for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (n[i] = t[i]);
                                      }
                                      return n;
                                  }),
                              Kn.apply(this, arguments)
                          );
                      },
                  r0 =
                      (rt && rt.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  i0 =
                      (rt && rt.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  n0 =
                      (rt && rt.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  A0 =
                      (rt && rt.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && r0(t, n, e);
                          return i0(t, n), t;
                      },
                  a0 =
                      (rt && rt.__spreadArray) ||
                      function (n, t) {
                          for (var e = 0, r = t.length, i = n.length; e < r; e++, i++) n[i] = t[e];
                          return n;
                      };
              Object.defineProperty(rt, "__esModule", { value: !0 });
              rt.BezierCurveShapePainter = void 0;
              var o0 = A0(require("akko")),
                  Bd = require("akko"),
                  s0 = pe(),
                  wu = require("mobx"),
                  wd = ge(),
                  l0 = Cu(),
                  u0 = mn(),
                  c0 = Pd(),
                  Rd = As(),
                  p0 = Bu(),
                  h0 = (function (n) {
                      t0(t, n);
                      function t(e, r) {
                          var i = n.call(this, e, r) || this;
                          (i.anime = null),
                              o0.listenUpdated && i.shape.newDisplayer
                                  ? (i.curvesState = new d0(i.shape, r.bezierCurvePainter, function () {
                                        i.anime &&
                                            i.anime
                                                .waitUtilComplete()
                                                .then(function () {
                                                    i.anime && (r.reportCurveComplete && i.anime.isTopOfAuthor && r.reportCurveComplete(a), i.anime.dispose(), (i.anime = null));
                                                })
                                                .catch(function (o) {
                                                    console.error(o);
                                                });
                                    }))
                                  : (i.curvesState = null);
                          var A = i.curvesState,
                              a = i.shape.authorId;
                          return (
                              r.enableCurveAnimes &&
                                  A &&
                                  !A.didComplete &&
                                  a !== void 0 &&
                                  (a !== r.observerId || r.enableSelfCurveAnime) &&
                                  (i.anime = new p0.CurveAnime({
                                      authorId: a,
                                      getResource: function () {
                                          return A.displayer();
                                      },
                                      onTailUpdate: function (o, s) {
                                          if (r.reportCurveTailUpdate) {
                                              var l = i.shape.originX + o,
                                                  u = i.shape.originY + s;
                                              r.reportCurveTailUpdate(a, l, u);
                                          }
                                      },
                                      onDisposedBy: function (o) {
                                          o && console.error(o), (i.anime = null);
                                      },
                                  })),
                              i
                          );
                      }
                      return (
                          (t.prototype.paintContent = function (e) {
                              var r;
                              this.curvesState ? (r = this.curvesState.displayer()) : (r = this.shape.displayer()), this.paintDisplayer(r, e);
                          }),
                          (t.prototype.remove = function () {
                              var e, r;
                              n.prototype.remove.call(this), (e = this.curvesState) === null || e === void 0 || e.release(), (r = this.anime) === null || r === void 0 || r.dispose(), (this.anime = null);
                          }),
                          (t.prototype.paintDisplayer = function (e, r) {
                              var i = r.context,
                                  A = r.margin,
                                  a = r.screen,
                                  o = e.headPoint,
                                  s = e.curves,
                                  l = e.extraSteups,
                                  u = this.context.bezierCurvePainter || l0.BezierCurvePainter.default,
                                  c = u.getPrecisionSegments(this.shape.identifier),
                                  p = u.getRectangle(this.shape.identifier) || this.shape,
                                  h = this.shape.state.strokeWidth,
                                  v = this.shape.state.strokeColor,
                                  y = v[0],
                                  _ = v[1],
                                  B = v[2],
                                  S = "rgb(" + y + "," + _ + "," + B + ")";
                              if (this.isOnlyHaveOnePoint(s, c)) {
                                  var M = h / 2;
                                  this.shape.selectable || (M *= u.pointWeight(l, 0));
                                  var E = o.x + A.left,
                                      W = o.y + A.top;
                                  (i.fillStyle = S), this.paintPoint(i, E, W, M);
                              } else {
                                  (i.strokeStyle = S), (i.fillStyle = S), (i.lineJoin = "round"), (i.lineCap = "round");
                                  var Z = 1;
                                  a && (Z = a.camera.scale);
                                  var z = s;
                                  this.anime && (z = this.anime.curves), this.paintCurves(i, u, o, z, h, Z, l, A, c, p, !this.context.disableNewPencilStroke, this.shape.dottedLine);
                              }
                          }),
                          (t.prototype.isOnlyHaveOnePoint = function (e, r) {
                              return !(e.length > 0 || (r && r.points.length > 1));
                          }),
                          (t.prototype.paintPoint = function (e, r, i, A) {
                              e.beginPath(), e.arc(r, i, A, 0, 2 * Math.PI), e.fill();
                          }),
                          (t.prototype.paintCurves = function (e, r, i, A, a, o, s, l, u, c, p, h) {
                              var v = l.left,
                                  y = l.top,
                                  _;
                              c && ((v += this.shape.originX - c.originX), (y += this.shape.originY - c.originY)),
                                  p && !h
                                      ? (_ = function (Mf) {
                                            return a * r.pointWeight(s, B - Mf);
                                        })
                                      : (_ = function () {
                                            return a;
                                        });
                              var B = this.pointsCount(A, u),
                                  S = r.bezierRenderGranularity / o,
                                  M = new f0(e, i.x + v, i.y + y, _(0), h),
                                  E = 0,
                                  W = 0,
                                  Z = Number.MAX_SAFE_INTEGER;
                              if (u)
                                  if (u.beginIndex === 0) {
                                      var z = this.cutDownPrecisionSegments(u.points, A),
                                          Se = z.cutDownCount;
                                      (W = z.beginCurveIndex), (E += this.paintPrecisionSegments(u, M, l, E, Se, _));
                                  } else Z = u.beginIndex;
                              for (var le = W; le < A.length && !(E >= Z); ++le) {
                                  var Ve = A[le],
                                      Qe = Ve.point1,
                                      hr = Ve.point2,
                                      ta = Ve.point3,
                                      Da = Ve.distance,
                                      js = Ve.cubic,
                                      wf = Ve.hiddenPoints;
                                  if (Qe && hr && ta) {
                                      E += wf + 1;
                                      var Rf = _(E),
                                          xf = Math.min(Math.ceil(Da / S), r.bezierMaxSegments);
                                      M.curveTo(Qe.x + v, Qe.y + y, hr.x + v, hr.y + y, ta.x + v, ta.y + y, Rf, xf, js);
                                  } else E += 1;
                              }
                              u && E >= Z && this.paintPrecisionSegments(u, M, l, E, 0, _), M.close();
                          }),
                          (t.prototype.pointsCount = function (e, r) {
                              for (var i = e.length + 1, A = 0; A < e.length; ++A) i += e[A].hiddenPoints;
                              return r && (i = Math.max(i, r.points.length)), i;
                          }),
                          (t.prototype.cutDownPrecisionSegments = function (e, r) {
                              for (var i = e.length, A = 0, a = 0, o = r.length, s = 0; s < r.length; ++s) {
                                  var l = r[s].hiddenPoints,
                                      u = A + l + 1;
                                  if (i <= u) {
                                      (a = i - A), (o = s);
                                      break;
                                  } else A = u;
                              }
                              return { cutDownCount: a, beginCurveIndex: o };
                          }),
                          (t.prototype.paintPrecisionSegments = function (e, r, i, A, a, o) {
                              for (var s = e.points, l = e.beginIndex, u = e.left, c = e.top, p = s.length - a, h = A - l, v = i.left - u, y = i.top - c, _ = 0, B = h + 1; B < p; ++B) {
                                  var S = s[B],
                                      M = o(A + _),
                                      E = S.x + v,
                                      W = S.y + y;
                                  if (B + 1 < p) {
                                      var Z = s[B + 1];
                                      if (Z.brokenLine) r.lineTo(E, W, M);
                                      else {
                                          var z = Z.x + v,
                                              Se = Z.y + y;
                                          r.lineToSmoothly(E, W, z, Se, M);
                                      }
                                  } else r.lineToEnd(E, W, M);
                                  _ += 1;
                              }
                              return _;
                          }),
                          (t = n0([wd.register.defineCanvas(wd.register.canvasGraphicsEngine, s0.BezierCurveShape)], t)),
                          t
                      );
                  })(u0.AbstractCanvasRender);
              rt.BezierCurveShapePainter = h0;
              var d0 = (function () {
                      function n(t, e, r) {
                          var i = this;
                          if (
                              ((this.curves = []),
                              (this.atom = wu.createAtom("curvesState")),
                              (this.foundComplete = !1),
                              (this.lastCompletedSize = null),
                              (this.paintingDisposer = null),
                              (this.refreshCurves = function (a) {
                                  var o = a.isComplete,
                                      s = a.headPoint,
                                      l = a.delta;
                                  if (l) {
                                      (i.deltaX = l.x), (i.deltaY = l.y);
                                      for (var u = 0; u < i.curves.length; ++u) i.curves[u] = i.adjustCurve(i.listenCurves[u]);
                                      i.headPoint = i.translatePoint(s);
                                  } else i.paintingDisposer(), (i.paintingDisposer = null);
                                  i.atom.reportChanged(), o && !i.foundComplete && ((i.foundComplete = !0), i.onComplete());
                              }),
                              (this.refreshShapeSize = function (a) {
                                  var o = a.width,
                                      s = a.height,
                                      l = a.isCompleted;
                                  l &&
                                      (i.lastCompletedSize
                                          ? (i.lastCompletedSize.width !== o || i.lastCompletedSize.height !== s) &&
                                            (i.bezierCurvePainter.fireRemoveComponent(i.shape.identifier), (i.lastCompletedSize.width = o), (i.lastCompletedSize.height = s))
                                          : (i.lastCompletedSize = { width: o, height: s }));
                              }),
                              (this.onUpdated = function (a) {
                                  for (var o = !1, s = 0, l = a; s < l.length; s++) {
                                      var u = l[s],
                                          c = u.kind,
                                          p = u.key,
                                          h = u.value;
                                      if (typeof p == "number")
                                          switch (c) {
                                              case Rd.UpdateEventKind.Inserted:
                                              case Rd.UpdateEventKind.Updated: {
                                                  (i.curves[p] = i.adjustCurve(h)), (o = !0);
                                                  break;
                                              }
                                          }
                                  }
                                  o && i.atom.reportChanged();
                              }),
                              (this.shape = t),
                              (this.listenCurves = t.getCurves()),
                              (this.curves = a0([], this.listenCurves)),
                              (this.bezierCurvePainter = e),
                              (this.onComplete = r),
                              Bd.listenUpdated(this.listenCurves, this.onUpdated),
                              t.isCompleted)
                          )
                              this.foundComplete = !0;
                          else {
                              var A = function () {
                                  var a = t.newDisplayer(),
                                      o = a.boundary,
                                      s = a.headPoint;
                                  return { isComplete: !o, headPoint: Kn({}, s), delta: o && { x: -o.left, y: -o.top } };
                              };
                              this.paintingDisposer = wu.reaction(A, this.refreshCurves, { fireImmediately: !0, equals: n.isPointEquals });
                          }
                          this.bezierCurvePainter &&
                              (this.sizeDisposer = wu.reaction(
                                  function () {
                                      return { width: t.width, height: t.height, isCompleted: t.isCompleted };
                                  },
                                  this.refreshShapeSize,
                                  {
                                      fireImmediately: !1,
                                      equals: function (a, o) {
                                          return a.width === o.width && a.height === o.height && a.isCompleted === o.isCompleted;
                                      },
                                  }
                              ));
                      }
                      return (
                          Object.defineProperty(n.prototype, "didComplete", {
                              get: function () {
                                  return this.foundComplete;
                              },
                              enumerable: !1,
                              configurable: !0,
                          }),
                          (n.isPointEquals = function (t, e) {
                              var r = t.delta,
                                  i = e.delta;
                              if (!!r != !!i || (r && i && (r.x !== i.x || r.y !== i.y))) return !1;
                              var A = t.headPoint,
                                  a = e.headPoint;
                              return !(A.x !== a.x || A.y !== a.y);
                          }),
                          (n.prototype.displayer = function () {
                              var t = this.shape.newDisplayer();
                              return t.boundary && (this.atom.reportObserved(), (t = Kn(Kn({}, t), { headPoint: this.headPoint, curves: this.curves }))), t;
                          }),
                          (n.prototype.release = function () {
                              var t;
                              this.paintingDisposer && (this.paintingDisposer(), (this.paintingDisposer = null)), (t = this.sizeDisposer) === null || t === void 0 || t.call(this), Bd.unlistenUpdated(this.listenCurves, this.onUpdated);
                          }),
                          (n.prototype.adjustCurve = function (t) {
                              return Kn(Kn({}, t), { point1: this.translatePoint(t.point1), point2: this.translatePoint(t.point2), point3: this.translatePoint(t.point3) });
                          }),
                          (n.prototype.translatePoint = function (t) {
                              return { x: t.x + this.deltaX, y: t.y + this.deltaY };
                          }),
                          n
                      );
                  })(),
                  tt;
              (function (n) {
                  (n[(n.Native = 0)] = "Native"), (n[(n.Variable = 1)] = "Variable"), (n[(n.None = 2)] = "None");
              })(tt || (tt = {}));
              var f0 = (function () {
                  function n(t, e, r, i, A) {
                      (this.phase = tt.None), (this.variablePainter = null), (this.context = t), (this.lastPoint = { x: e, y: r, width: i }), (this.dottedLine = A);
                  }
                  return (
                      (n.prototype.lineTo = function (t, e, r) {
                          switch (this.checkAndUpdatePhase(r)) {
                              case tt.Native: {
                                  this.context.lineTo(t, e), this.updateLastPoint(t, e, r);
                                  break;
                              }
                              case tt.Variable: {
                                  this.variablePainter.lineTo(t, e, r), this.updateLastPoint(t, e, r);
                                  break;
                              }
                          }
                      }),
                      (n.prototype.lineToSmoothly = function (t, e, r, i, A) {
                          var a = (t + r) * 0.5,
                              o = (e + i) * 0.5;
                          switch (this.checkAndUpdatePhase(A)) {
                              case tt.Native: {
                                  this.context.quadraticCurveTo(t, e, a, o), this.updateLastPoint(a, o, A);
                                  break;
                              }
                              case tt.Variable: {
                                  this.variablePainter.quadraticCurveTo(t, e, a, o, A), this.updateLastPoint(a, o, A);
                                  break;
                              }
                          }
                      }),
                      (n.prototype.lineToEnd = function (t, e, r) {
                          switch (this.checkAndUpdatePhase(r)) {
                              case tt.Native: {
                                  this.context.lineTo(t, e);
                                  break;
                              }
                              case tt.Variable: {
                                  this.variablePainter.lineTo(t, e, r);
                                  break;
                              }
                          }
                          this.updateLastPoint(t, e, r);
                      }),
                      (n.prototype.curveTo = function (t, e, r, i, A, a, o, s, l) {
                          switch (this.checkAndUpdatePhase(o)) {
                              case tt.Native: {
                                  this.context.bezierCurveTo(t, e, r, i, A, a);
                                  break;
                              }
                              case tt.Variable: {
                                  this.variablePainter.curveTo(t, e, r, i, A, a, o, s, l);
                                  break;
                              }
                          }
                          this.updateLastPoint(A, a, o);
                      }),
                      (n.prototype.close = function () {
                          this.closeCurveIfNeed(), (this.phase = tt.None), this.context.setLineDash([]);
                      }),
                      (n.prototype.updateLastPoint = function (t, e, r) {
                          (this.lastPoint.x = t), (this.lastPoint.y = e), (this.lastPoint.width = r);
                      }),
                      (n.prototype.checkAndUpdatePhase = function (t) {
                          var e;
                          return this.lastPoint.width === t ? (e = tt.Native) : (e = tt.Variable), this.phase !== e && (this.closeCurveIfNeed(), (this.phase = e), this.beginCurveIfNeed()), e;
                      }),
                      (n.prototype.beginCurveIfNeed = function () {
                          var t = this.lastPoint,
                              e = t.x,
                              r = t.y,
                              i = t.width;
                          switch (this.phase) {
                              case tt.Native: {
                                  (this.context.lineWidth = i), this.context.setLineDash(this.getLineDash(i)), this.context.beginPath(), this.context.moveTo(e, r);
                                  break;
                              }
                              case tt.Variable: {
                                  (this.variablePainter = new c0.VariableWeightCurvePainter()), this.variablePainter.beginCurve(e, r, i);
                                  break;
                              }
                          }
                      }),
                      (n.prototype.closeCurveIfNeed = function () {
                          switch (this.phase) {
                              case tt.Native: {
                                  this.context.stroke();
                                  break;
                              }
                              case tt.Variable: {
                                  this.variablePainter.endCurve(this.context);
                                  break;
                              }
                          }
                      }),
                      (n.prototype.getLineDash = function (t) {
                          return this.dottedLine ? [t, 1.618 * t] : [];
                      }),
                      n
                  );
              })();
          });
          var pi = C(function (ci) {
              "use strict";
              Object.defineProperty(ci, "__esModule", { value: !0 });
              ci.srcUrlEqual = ci.applyCrossOrigin = ci.clearDottedLine = ci.applyDottedLine = void 0;
              function g0(n, t, e) {
                  n.setLineDash(e ? [t, 1.618 * t] : []);
              }
              ci.applyDottedLine = g0;
              function v0(n) {
                  n.setLineDash([]);
              }
              ci.clearDottedLine = v0;
              function m0(n, t, e) {
                  e === void 0 && !t.startsWith("data:") ? (n.crossOrigin = y0(t)) : e !== !1 && (n.crossOrigin = typeof e == "string" ? e : "anonymous");
              }
              ci.applyCrossOrigin = m0;
              function y0(n) {
                  if (n.startsWith("data:") || typeof window == "undefined" || !window.location) return "";
                  var t = window.location;
                  try {
                      var e = new URL(n, document.baseURI);
                      return e.hostname !== t.hostname || e.port !== t.port || e.protocol !== t.protocol ? "anonymous" : "";
                  } catch (r) {
                      return "";
                  }
              }
              var gs = null;
              function b0(n, t) {
                  return n === t ? !0 : (gs === null && (gs = document.createElement("a")), (gs.href = t), n === gs.href);
              }
              ci.srcUrlEqual = b0;
          });
          var Od = C(function (Bn) {
              "use strict";
              var P0 =
                      (Bn && Bn.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  _0 =
                      (Bn && Bn.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(Bn, "__esModule", { value: !0 });
              Bn.EllipseShapePainter = void 0;
              var S0 = pe(),
                  Md = ge(),
                  C0 = mn(),
                  Td = pi(),
                  B0 = (function (n) {
                      P0(t, n);
                      function t() {
                          return (n !== null && n.apply(this, arguments)) || this;
                      }
                      (e = t),
                          (t.prototype.paintContent = function (r) {
                              var i = this.shape.state,
                                  A = i.strokeColor,
                                  a = i.strokeWidth,
                                  o = i.fillColor,
                                  s = r.margin,
                                  l = r.size,
                                  u = r.scale,
                                  c = r.context,
                                  p = A[0],
                                  h = A[1],
                                  v = A[2],
                                  y = l.width / 2,
                                  _ = l.height / 2,
                                  B = s.left + y,
                                  S = s.top + _;
                              if (((c.strokeStyle = "rgb(" + p + "," + h + "," + v + ")"), (c.lineWidth = a), o)) {
                                  var M = o[0],
                                      E = o[1],
                                      W = o[2];
                                  c.fillStyle = "rgb(" + M + "," + E + "," + W + ")";
                              }
                              c.beginPath(),
                                  Td.applyDottedLine(c, a, this.shape.dottedLine),
                                  c.ellipse(B, S, y, _, 0, 0, 2 * Math.PI),
                                  o && c.fill(),
                                  c.stroke(),
                                  this.shape.showCenter && this.painCross(c, B, S, u),
                                  (c.fillStyle = ""),
                                  Td.clearDottedLine(c);
                          }),
                          (t.prototype.painCross = function (r, i, A, a) {
                              var o = e.crossLineWidth,
                                  s = e.crossSize,
                                  l = s / a / 1;
                              (r.lineWidth = o / a), r.moveTo(i - l, A), r.lineTo(i + l, A), r.stroke(), r.moveTo(i, A - l), r.lineTo(i, A + l), r.stroke();
                          });
                      var e;
                      return (t.disableCache = !0), (t.crossLineWidth = 1), (t.crossSize = 3), (t = e = _0([Md.register.defineCanvas(Md.register.canvasGraphicsEngine, S0.EllipseShape)], t)), t;
                  })(C0.AbstractCanvasRender);
              Bn.EllipseShapePainter = B0;
          });
          var Ru = C(function (KA) {
              "use strict";
              Object.defineProperty(KA, "__esModule", { value: !0 });
              KA.imagePreloader = KA.ImagePreloaderImplement = void 0;
              var w0 = pi(),
                  Ed = (function () {
                      function n() {
                          (this.maxSize = 100), (this.images = {}), (this.history = []), (this.listenerId = 0), (this.listeners = {});
                      }
                      return (
                          (n.prototype.add = function (t, e) {
                              var r = t + e,
                                  i = this.history.indexOf(r);
                              for (i >= 0 && this.history.splice(i, 1), this.history.unshift(r); this.history.length > this.maxSize; ) {
                                  var A = this.history.pop();
                                  delete this.images[A];
                              }
                              var a = this.images[r];
                              return a || ((a = document.createElement("img")), w0.applyCrossOrigin(a, t, e), (a.onload = this.dispatch.bind(this, a)), (a.src = t), (this.images[r] = a), a.complete && this.dispatch(a), a);
                          }),
                          (n.prototype.clear = function () {
                              (this.images = {}), (this.history = []), (this.listeners = {});
                          }),
                          (n.prototype.forEach = function (t) {
                              for (var e in this.images) {
                                  var r = this.images[e];
                                  r ? t(r) : delete this.images[e];
                              }
                          }),
                          (n.prototype.dispatch = function (t) {
                              t.onload = null;
                              for (var e in this.listeners) this.listeners[e](t);
                          }),
                          (n.prototype.on = function (t, e) {
                              var r = this,
                                  i = (this.listenerId += 1);
                              return (
                                  (this.listeners[i] = e),
                                  function () {
                                      delete r.listeners[i];
                                  }
                              );
                          }),
                          n
                      );
                  })();
              KA.ImagePreloaderImplement = Ed;
              KA.imagePreloader = new Ed();
          });
          var Wd = C(function (wn) {
              "use strict";
              var R0 =
                      (wn && wn.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  x0 =
                      (wn && wn.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(wn, "__esModule", { value: !0 });
              wn.ImageShapePainter = void 0;
              var M0 = pe(),
                  Gd = ge(),
                  T0 = mn(),
                  jd = Ru(),
                  O0 = pi(),
                  E0 = 3,
                  G0 = Object.freeze([5, 5]),
                  j0 = Object.freeze([]),
                  W0 = (function (n) {
                      R0(t, n);
                      function t() {
                          var e = (n !== null && n.apply(this, arguments)) || this;
                          return (e.removeListener = null), e;
                      }
                      return (
                          (t.prototype.getLoadImage = function (e, r, i) {
                              var A = jd.imagePreloader.add(e, i);
                              return A.complete
                                  ? A
                                  : (this.removeListener === null &&
                                        (this.removeListener = jd.imagePreloader.on("load", function (a) {
                                            O0.srcUrlEqual(a.src, e) && r();
                                        })),
                                    null);
                          }),
                          (t.prototype.remove = function () {
                              n.prototype.remove.call(this), this.removeListener && this.removeListener();
                          }),
                          (t.prototype.paintContent = function (e) {
                              var r = e.size,
                                  i = e.margin,
                                  A = e.touch,
                                  a = e.context,
                                  o = e.screen,
                                  s = this.shape,
                                  l = s.displayRotation,
                                  u = s.imageSize,
                                  c = s.imageSrc,
                                  p = s.crossOrigin,
                                  h = c || null;
                              h && o && o.context && o.context.convertIdToUrl && (h = o.context.convertIdToUrl(h));
                              var v = h && this.getLoadImage(h, A, p),
                                  y,
                                  _,
                                  B,
                                  S;
                              if (l === 0) (y = i.left), (_ = i.right), (B = r.width), (S = r.height);
                              else {
                                  var M = i.left + r.width / 2,
                                      E = i.top + r.height / 2;
                                  (B = u.width * r.width * this.shape.displayScaleX), (S = u.height * r.height * this.shape.displayScaleY), (y = M - B / 2), (_ = E - S / 2), a.translate(M, E), a.rotate(l), a.translate(-M, -E);
                              }
                              v ? a.drawImage(v, y, _, B, S) : this.paintLoadingRectangle(a, y, _, B, S);
                          }),
                          (t.prototype.paintLoadingRectangle = function (e, r, i, A, a) {
                              (e.strokeStyle = "rgb(238,238,238)"), (e.fillStyle = "rgb(245,245,245)"), (e.lineWidth = E0), e.setLineDash(G0), e.strokeRect(r, i, A, a), e.fillRect(r, i, A, a), e.setLineDash(j0);
                          }),
                          (t.disableCache = !0),
                          (t = x0([Gd.register.defineCanvas(Gd.register.canvasGraphicsEngine, M0.ImageShape)], t)),
                          t
                      );
                  })(T0.AbstractCanvasRender);
              wn.ImageShapePainter = W0;
          });
          var Id = C(function (Rn) {
              "use strict";
              var Z0 =
                      (Rn && Rn.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  V0 =
                      (Rn && Rn.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(Rn, "__esModule", { value: !0 });
              Rn.RectangleShapePainter = void 0;
              var I0 = pe(),
                  Zd = ge(),
                  X0 = mn(),
                  Vd = pi(),
                  k0 = (function (n) {
                      Z0(t, n);
                      function t() {
                          return (n !== null && n.apply(this, arguments)) || this;
                      }
                      return (
                          (t.prototype.paintContent = function (e) {
                              var r = this.shape.state,
                                  i = r.strokeColor,
                                  A = r.strokeWidth,
                                  a = r.fillColor,
                                  o = e.margin,
                                  s = e.size,
                                  l = e.context,
                                  u = i[0],
                                  c = i[1],
                                  p = i[2];
                              if (((l.strokeStyle = "rgb(" + u + "," + c + "," + p + ")"), (l.lineJoin = "round"), (l.lineWidth = A), a)) {
                                  var h = a[0],
                                      v = a[1],
                                      y = a[2];
                                  l.fillStyle = "rgb(" + h + "," + v + "," + y + ")";
                              }
                              Vd.applyDottedLine(l, A, this.shape.dottedLine), a && l.fillRect(o.left, o.top, s.width, s.height), l.strokeRect(o.left, o.top, s.width, s.height), (l.fillStyle = ""), Vd.clearDottedLine(l);
                          }),
                          (t.disableCache = !0),
                          (t = V0([Zd.register.defineCanvas(Zd.register.canvasGraphicsEngine, I0.RectangleShape)], t)),
                          t
                      );
                  })(X0.AbstractCanvasRender);
              Rn.RectangleShapePainter = k0;
          });
          var Hd = C(function (Dt) {
              "use strict";
              var N0 =
                      (Dt && Dt.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  H0 =
                      (Dt && Dt.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  D0 =
                      (Dt && Dt.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  Y0 =
                      (Dt && Dt.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  F0 =
                      (Dt && Dt.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && H0(t, n, e);
                          return D0(t, n), t;
                      };
              Object.defineProperty(Dt, "__esModule", { value: !0 });
              Dt.VectorShapeComponent = void 0;
              var $n = pe(),
                  Xd = F0(WA()),
                  kd = ge(),
                  z0 = mn(),
                  Nd = pi(),
                  vs = 9.6,
                  Q0 = 6.5,
                  q0 = (function (n) {
                      N0(t, n);
                      function t() {
                          return (n !== null && n.apply(this, arguments)) || this;
                      }
                      return (
                          (t.prototype.paintContent = function (e) {
                              var r = this.shape.state,
                                  i = r.strokeColor,
                                  A = r.strokeWidth,
                                  a = r.dottedLine,
                                  o = e.context,
                                  s = e.margin,
                                  l = e.size,
                                  u = i[0],
                                  c = i[1],
                                  p = i[2],
                                  h = "rgb(" + u + "," + c + "," + p + ")";
                              (o.strokeStyle = h), (o.fillStyle = h), (o.lineWidth = A), Nd.applyDottedLine(o, A, a);
                              var v = l.width - s.left - s.right,
                                  y = l.height - s.top - s.bottom,
                                  _ = A,
                                  B = A,
                                  S = A,
                                  M = A;
                              switch (this.shape.direction) {
                                  case $n.VectorDirection.ToLeftTop: {
                                      (_ += v), (B += y);
                                      break;
                                  }
                                  case $n.VectorDirection.ToRightTop: {
                                      (B += y), (S += v);
                                      break;
                                  }
                                  case $n.VectorDirection.ToLeftBottom: {
                                      (_ += v), (M += y);
                                      break;
                                  }
                                  case $n.VectorDirection.ToRightBottom: {
                                      (S += v), (M += y);
                                      break;
                                  }
                              }
                              switch (this.shape.kind) {
                                  case $n.VectorKind.Straight: {
                                      (o.lineCap = "round"), o.beginPath(), o.moveTo(_, B), o.lineTo(S, M), o.stroke();
                                      break;
                                  }
                                  case $n.VectorKind.Arrow: {
                                      var E = this.distance(_, B, S, M),
                                          W = A / 2,
                                          Z = !0;
                                      E < vs * W && ((W = E / vs), (Z = !1));
                                      var z = Xd.unitVector({ x: S - _, y: M - B });
                                      if (Z) {
                                          var Se = 2,
                                              le = vs * W - Se;
                                          (o.lineCap = "butt"), o.beginPath(), o.moveTo(_, B), o.lineTo(S - z.x * le, M - z.y * le), o.stroke();
                                      }
                                      this.paintArrow(o, z, S, M, W);
                                      break;
                                  }
                              }
                              Nd.clearDottedLine(o);
                          }),
                          (t.prototype.paintArrow = function (e, r, i, A, a) {
                              var o = Xd.verticalVector(r),
                                  s = vs * a,
                                  l = (Q0 * a) / 2;
                              e.beginPath(), e.moveTo(i, A), e.lineTo(i - r.x * s - o.x * l, A - r.y * s - o.y * l), e.lineTo(i - r.x * s + o.x * l, A - r.y * s + o.y * l), e.closePath(), e.fill();
                          }),
                          (t.prototype.distance = function (e, r, i, A) {
                              var a = e - i,
                                  o = r - A;
                              return Math.sqrt(a * a + o * o);
                          }),
                          (t.disableCache = !0),
                          (t = Y0([kd.register.defineCanvas(kd.register.canvasGraphicsEngine, $n.VectorShape)], t)),
                          t
                      );
                  })(z0.AbstractCanvasRender);
              Dt.VectorShapeComponent = q0;
          });
          var Yd = C(function (ms) {
              "use strict";
              Object.defineProperty(ms, "__esModule", { value: !0 });
              ms.triangleCanvas = void 0;
              var Dd = pi(),
                  U0 = function (n, t) {
                      var e = t.strokeColor,
                          r = t.strokeWidth,
                          i = t.fillColor,
                          A = t.hitTestingBoxMargin,
                          a = A * 2,
                          o = n.size,
                          s = n.context,
                          l = e[0],
                          u = e[1],
                          c = e[2];
                      if (((s.strokeStyle = "rgb(" + l + "," + u + "," + c + ")"), (s.lineWidth = r), i)) {
                          var p = i[0],
                              h = i[1],
                              v = i[2];
                          s.fillStyle = "rgb(" + p + "," + h + "," + v + ")";
                      }
                      var y = (o.width + a) / 2;
                      s.beginPath(),
                          Dd.applyDottedLine(s, r, t.dottedLine),
                          s.moveTo(y, a),
                          s.lineTo(a, o.height + A),
                          s.lineTo(o.width, o.height + A),
                          s.lineTo(y, a),
                          s.closePath(),
                          i && s.fill(),
                          s.stroke(),
                          (s.fillStyle = ""),
                          Dd.clearDottedLine(s);
                  };
              ms.triangleCanvas = U0;
          });
          var zd = C(function (ys) {
              "use strict";
              Object.defineProperty(ys, "__esModule", { value: !0 });
              ys.rhombusCanvas = void 0;
              var Fd = pi(),
                  L0 = function (n, t) {
                      var e = t.strokeColor,
                          r = t.strokeWidth,
                          i = t.fillColor,
                          A = t.hitTestingBoxMargin,
                          a = A * 2,
                          o = n.size,
                          s = n.context,
                          l = e[0],
                          u = e[1],
                          c = e[2];
                      if (((s.strokeStyle = "rgb(" + l + "," + u + "," + c + ")"), (s.lineWidth = r), i)) {
                          var p = i[0],
                              h = i[1],
                              v = i[2];
                          s.fillStyle = "rgb(" + p + "," + h + "," + v + ")";
                      }
                      var y = (o.width + a) / 2,
                          _ = (o.height + a) / 2;
                      s.beginPath(),
                          Fd.applyDottedLine(s, r, t.dottedLine),
                          s.moveTo(y, a),
                          s.lineTo(a, _),
                          s.lineTo(y, o.height),
                          s.lineTo(o.width, _),
                          s.lineTo(y, a),
                          s.closePath(),
                          i && s.fill(),
                          s.stroke(),
                          (s.fillStyle = ""),
                          Fd.clearDottedLine(s);
                  };
              ys.rhombusCanvas = L0;
          });
          var Ud = C(function (bs) {
              "use strict";
              Object.defineProperty(bs, "__esModule", { value: !0 });
              bs.pentagramCanvas = void 0;
              var Qd = ko(),
                  qd = pi(),
                  J0 = function (n, t) {
                      var e = t.strokeColor,
                          r = t.strokeWidth,
                          i = t.fillColor,
                          A = n.size,
                          a = n.context,
                          o = e[0],
                          s = e[1],
                          l = e[2];
                      if (((a.strokeStyle = "rgb(" + o + "," + s + "," + l + ")"), (a.lineWidth = r), i)) {
                          var u = i[0],
                              c = i[1],
                              p = i[2];
                          a.fillStyle = "rgb(" + u + "," + c + "," + p + ")";
                      }
                      a.beginPath(), qd.applyDottedLine(a, r, t.dottedLine);
                      for (var h = 0; h < Qd.unitPentagramPoints.length; h++) {
                          var v = Qd.unitPentagramPoints[h],
                              y = v.x,
                              _ = v.y;
                          a.lineTo(y * A.width, _ * A.height);
                      }
                      a.closePath(), i && a.fill(), a.stroke(), (a.fillStyle = ""), qd.clearDottedLine(a);
                  };
              bs.pentagramCanvas = J0;
          });
          var Jd = C(function (_s) {
              "use strict";
              Object.defineProperty(_s, "__esModule", { value: !0 });
              _s.speechBalloonCanvas = void 0;
              var Ps = Do(),
                  Ld = pi(),
                  K0 = function (n, t) {
                      var e = t.strokeColor,
                          r = t.strokeWidth,
                          i = t.fillColor,
                          A = t.hitTestingBoxMargin,
                          a = A * 2,
                          o = n.size,
                          s = n.context,
                          l = e[0],
                          u = e[1],
                          c = e[2];
                      if (((s.strokeStyle = "rgb(" + l + "," + u + "," + c + ")"), (s.lineWidth = r), i)) {
                          var p = i[0],
                              h = i[1],
                              v = i[2];
                          s.fillStyle = "rgb(" + p + "," + h + "," + v + ")";
                      }
                      var y = o.width + a,
                          _ = o.height + a,
                          B = (_ / 100) * 80,
                          S = (y / 100) * 10,
                          M = y - S,
                          E = (B / 100) * 10,
                          W = B - E;
                      s.beginPath(), Ld.applyDottedLine(s, r, t.dottedLine);
                      {
                          var Z = S * 2,
                              z = Z * 2,
                              Se = z - Z;
                          s.moveTo(S, A), s.lineTo(M, A);
                          {
                              var le = Ps.getBezierPoints(40, { x: M, y: A }, { x: y - A, y: E }, { x: y - A, y: A });
                              le.forEach(function (Ve) {
                                  s.lineTo(Ve.x, Ve.y);
                              });
                          }
                          s.lineTo(y - A, W);
                          {
                              var le = Ps.getBezierPoints(40, { x: y - A, y: W }, { x: M, y: B - A }, { x: y - A, y: B - A });
                              le.forEach(function (Qe) {
                                  s.lineTo(Qe.x, Qe.y);
                              });
                          }
                          s.lineTo(z, B - A), s.lineTo(Z + (Se / 100) * 20, _ - a), s.lineTo(S, B - A);
                          {
                              var le = Ps.getBezierPoints(40, { x: S, y: B - A }, { x: A, y: W }, { x: A, y: B - A });
                              le.forEach(function (Qe) {
                                  s.lineTo(Qe.x, Qe.y);
                              });
                          }
                          s.lineTo(A, E);
                          {
                              s.moveTo(S, A);
                              var le = Ps.getBezierPoints(40, { x: S, y: A }, { x: A, y: E }, { x: A, y: A });
                              le.forEach(function (Qe) {
                                  s.lineTo(Qe.x, Qe.y);
                              });
                          }
                      }
                      i && s.fill(), s.stroke(), (s.fillStyle = ""), Ld.clearDottedLine(s);
                  };
              _s.speechBalloonCanvas = K0;
          });
          var ef = C(function (xn) {
              "use strict";
              var $0 =
                      (xn && xn.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  eS =
                      (xn && xn.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      };
              Object.defineProperty(xn, "__esModule", { value: !0 });
              xn.ShapePainter = void 0;
              var tS = pe(),
                  Kd = ge(),
                  Ss = Ga(),
                  rS = mn(),
                  $d = Yd(),
                  iS = zd(),
                  nS = Ud(),
                  AS = Jd(),
                  aS = (function (n) {
                      $0(t, n);
                      function t() {
                          return (n !== null && n.apply(this, arguments)) || this;
                      }
                      return (
                          (t.prototype.paintContent = function (e) {
                              switch (((e.context.lineJoin = "round"), this.shape.shapeType)) {
                                  case Ss.ShapeType.Triangle: {
                                      $d.triangleCanvas(e, this.shape);
                                      break;
                                  }
                                  case Ss.ShapeType.Rhombus: {
                                      iS.rhombusCanvas(e, this.shape);
                                      break;
                                  }
                                  case Ss.ShapeType.Pentagram: {
                                      nS.pentagramCanvas(e, this.shape);
                                      break;
                                  }
                                  case Ss.ShapeType.SpeechBalloon: {
                                      AS.speechBalloonCanvas(e, this.shape);
                                      break;
                                  }
                                  default: {
                                      console.warn("[White](render): shapeType not supported. Current shapeType is " + this.shape.shapeType), $d.triangleCanvas(e, this.shape);
                                      break;
                                  }
                              }
                          }),
                          (t.disableCache = !0),
                          (t = eS([Kd.register.defineCanvas(Kd.register.canvasGraphicsEngine, tS.Shape)], t)),
                          t
                      );
                  })(rS.AbstractCanvasRender);
              xn.ShapePainter = aS;
          });
          var rf = C(function (Yt) {
              "use strict";
              var oS =
                      (Yt && Yt.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  sS =
                      (Yt && Yt.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  lS =
                      (Yt && Yt.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  uS =
                      (Yt && Yt.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  cS =
                      (Yt && Yt.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && sS(t, n, e);
                          return lS(t, n), t;
                      };
              Object.defineProperty(Yt, "__esModule", { value: !0 });
              Yt.CurveShapeComponent = void 0;
              var xu = cS(require("react")),
                  pS = require("akko"),
                  tf = pe(),
                  Cs = ge(),
                  hS = Mr();
              Cs.register.defineReact(Cs.register.componentEngine, tf.CurveShape)(hS.createEditableComponent());
              var dS = (function (n) {
                  oS(t, n);
                  function t() {
                      return (n !== null && n.apply(this, arguments)) || this;
                  }
                  return (
                      (t.prototype.getControlPoint = function (e, r, i, A) {
                          var a = this.calcHypotenuse(e.x - r.x, e.y - r.y),
                              o = this.calcHypotenuse(e.x - i.x, e.y - i.y),
                              s = 1e-6,
                              l = o / (a + s),
                              u = { x: 0, y: 0 };
                          l > 1 ? ((u.x = r.x - (e.x + (i.x - e.x) / (l + s))), (u.y = r.y - (e.y + (i.y - e.y) / (l + s)))) : ((u.x = e.x + (r.x - e.x) * l - i.x), (u.y = e.y + (r.y - e.y) * l - i.y)), (u = { x: u.x * A, y: u.y * A });
                          var c = { x: e.x + u.x, y: e.y + u.y },
                              p = { x: e.x - u.x, y: e.y - u.y };
                          return [c, p];
                      }),
                      (t.prototype.createPathDefinition = function (e, r) {
                          var i = [];
                          if (r) {
                              var A = e[0],
                                  a = A.x,
                                  o = A.y;
                              i.push("M " + a + " " + o);
                              var s = 0.1,
                                  l = this.getControlPoint(e[1], e[0], e[2], s);
                              i.push("Q " + l[0].x + " " + l[0].y + ", " + e[1].x + " " + e[1].y);
                              for (var u = l[1], c = 2; c < e.length - 2; ++c) {
                                  var p = this.getControlPoint(e[c], e[c - 1], e[c + 1], s);
                                  i.push("C " + u.x + " " + u.y + ", " + p[0].x + " " + p[0].y + ", " + e[c].x + " " + e[c].y), (u = p[1]);
                              }
                              var h = e.length - 2;
                              i.push("Q " + e[h].x + " " + e[h].y + ", " + e[h + 1].x + " " + e[h + 1].y);
                          } else
                              for (var c = 0; c < e.length; ++c) {
                                  var v = e[c],
                                      y = v.x,
                                      _ = v.y;
                                  c === 0 ? i.push("M" + y + " " + _) : i.push("L" + y + " " + _);
                              }
                          return i.join(" ");
                      }),
                      (t.prototype.calcHypotenuse = function (e, r) {
                          return Math.sqrt(e * e + r * r);
                      }),
                      (t.prototype.render = function () {
                          var e = this.props,
                              r = e.id,
                              i = e.payload;
                          if (!pS.isAkkoWrappedObjectAccessible(i)) return null;
                          var A = i.state,
                              a = A.strokeColor,
                              o = A.strokeWidth,
                              s = a[0],
                              l = a[1],
                              u = a[2],
                              c = i.displayPoints();
                          if (c.length === 1) {
                              var p = c[0],
                                  h = p.x,
                                  v = p.y,
                                  y = o / 2;
                              return xu.createElement("ellipse", { cx: h, cy: v, rx: y, ry: y, style: { fill: "rgb(" + s + "," + l + "," + u + ")" } });
                          } else {
                              var _ = c.length > 2 && i.enableBezier();
                              return xu.createElement("path", {
                                  d: this.createPathDefinition(c, _),
                                  key: r,
                                  style: { stroke: "rgb(" + s + "," + l + "," + u + ")", strokeWidth: o, fill: "none", strokeLinejoin: "round", strokeLinecap: "round" },
                              });
                          }
                      }),
                      (t = uS([Cs.register.defineReact(Cs.register.htmlGraphicsEngine, tf.CurveShape)], t)),
                      t
                  );
              })(xu.Component);
              Yt.CurveShapeComponent = dS;
          });
          var Af = C(function (Ft) {
              "use strict";
              var fS =
                      (Ft && Ft.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  gS =
                      (Ft && Ft.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  vS =
                      (Ft && Ft.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  mS =
                      (Ft && Ft.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  yS =
                      (Ft && Ft.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && gS(t, n, e);
                          return vS(t, n), t;
                      };
              Object.defineProperty(Ft, "__esModule", { value: !0 });
              Ft.BezierCurveShapeComponent = void 0;
              var Mu = yS(require("react")),
                  nf = pe(),
                  Bs = ge(),
                  bS = Mr();
              Bs.register.defineReact(Bs.register.componentEngine, nf.BezierCurveShape)(bS.createEditableComponent());
              var PS = (function (n) {
                  fS(t, n);
                  function t() {
                      return (n !== null && n.apply(this, arguments)) || this;
                  }
                  return (
                      (t.prototype.createPathDefinition = function (e, r, i) {
                          var A = [];
                          A.push("M" + e.x + " " + e.y);
                          for (var a = 0; a < i.length; ++a) {
                              var o = i[a],
                                  s = o.point1,
                                  l = o.point2,
                                  u = o.point3,
                                  c = s.x,
                                  p = s.y,
                                  h = l.x,
                                  v = l.y,
                                  y = u.x,
                                  _ = u.y;
                              A.push("C" + c + " " + p + " " + h + " " + v + " " + y + " " + _);
                          }
                          return A.join(" ");
                      }),
                      (t.prototype.render = function () {
                          var e = this.props,
                              r = e.id,
                              i = e.margin,
                              A = e.payload,
                              a = A.displayer(),
                              o = a.headPoint,
                              s = a.curves,
                              l = A.state.strokeWidth,
                              u = A.state.strokeColor,
                              c = u[0],
                              p = u[1],
                              h = u[2],
                              v = "rgb(" + c + "," + p + "," + h + ")";
                          if (s.length === 0) {
                              var y = l / 2,
                                  _ = o.x + i.left,
                                  B = o.y + i.top;
                              return Mu.createElement("ellipse", { cx: _, cy: B, rx: y, ry: y, style: { fill: v } });
                          } else {
                              var S = void 0;
                              return (
                                  A.dottedLine && (S = l + " " + 1.618 * l),
                                  Mu.createElement("path", {
                                      d: this.createPathDefinition(o, A.identifier, s),
                                      key: r,
                                      style: { stroke: v, strokeWidth: l, fill: "none", strokeLinejoin: "round", strokeLinecap: "round", strokeDasharray: S },
                                  })
                              );
                          }
                      }),
                      (t = mS([Bs.register.defineReact(Bs.register.htmlGraphicsEngine, nf.BezierCurveShape)], t)),
                      t
                  );
              })(Mu.Component);
              Ft.BezierCurveShapeComponent = PS;
          });
          var sf = C(function (zt) {
              "use strict";
              var _S =
                      (zt && zt.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  SS =
                      (zt && zt.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  CS =
                      (zt && zt.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  BS =
                      (zt && zt.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  wS =
                      (zt && zt.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && SS(t, n, e);
                          return CS(t, n), t;
                      };
              Object.defineProperty(zt, "__esModule", { value: !0 });
              zt.EllipseShapeComponent = void 0;
              var af = wS(require("react")),
                  RS = require("akko"),
                  of = pe(),
                  ws = ge(),
                  xS = Mr();
              ws.register.defineReact(ws.register.componentEngine, of.EllipseShape)(xS.createEditableComponent());
              var MS = (function (n) {
                  _S(t, n);
                  function t() {
                      return (n !== null && n.apply(this, arguments)) || this;
                  }
                  return (
                      (t.prototype.render = function () {
                          var e = this.props,
                              r = e.id,
                              i = e.payload;
                          if (!RS.isAkkoWrappedObjectAccessible(i)) return null;
                          var A = i.state,
                              a = A.strokeColor,
                              o = A.strokeWidth,
                              s = A.fillColor,
                              l = this.props.size,
                              u = l.width,
                              c = l.height,
                              p = a[0],
                              h = a[1],
                              v = a[2],
                              y = u / 2,
                              _ = c / 2;
                          return af.createElement("ellipse", {
                              key: r,
                              cx: y,
                              cy: _,
                              rx: y,
                              ry: _,
                              style: { stroke: "rgb(" + p + "," + h + "," + v + ")", fill: s ? "rgb(" + s[0] + "," + s[1] + "," + s[2] + ")" : "none", strokeWidth: o },
                          });
                      }),
                      (t = BS([ws.register.defineReact(ws.register.htmlGraphicsEngine, of.EllipseShape)], t)),
                      t
                  );
              })(af.Component);
              zt.EllipseShapeComponent = MS;
          });
          var uf = C(function (Qt) {
              "use strict";
              var TS =
                      (Qt && Qt.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  OS =
                      (Qt && Qt.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  ES =
                      (Qt && Qt.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  GS =
                      (Qt && Qt.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  jS =
                      (Qt && Qt.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && OS(t, n, e);
                          return ES(t, n), t;
                      };
              Object.defineProperty(Qt, "__esModule", { value: !0 });
              Qt.ImageShapeComponent = void 0;
              var Tu = jS(require("react")),
                  lf = pe(),
                  WS = require("akko"),
                  Rs = ge(),
                  ZS = Mr();
              Rs.register.defineReact(Rs.register.componentEngine, lf.ImageShape)(ZS.createEditableComponent());
              var VS = (function (n) {
                  TS(t, n);
                  function t() {
                      return (n !== null && n.apply(this, arguments)) || this;
                  }
                  return (
                      (t.prototype.render = function () {
                          var e = this.props.payload;
                          if (!WS.isAkkoWrappedObjectAccessible(e)) return null;
                          var r = this.props,
                              i = r.id,
                              A = r.context,
                              a = r.size,
                              o = e.displayRotation,
                              s,
                              l,
                              u = 0,
                              c = 0;
                          if (o === 0) (s = a.width), (l = a.height);
                          else {
                              var p = e.imageSize,
                                  h = e.displayScaleX,
                                  v = e.displayScaleY;
                              (s = p.width * a.width * h), (l = p.height * a.height * v), (u = (a.width - s) / 2), (c = (a.height - l) / 2);
                          }
                          if (e.imageSrc) {
                              var y = e.imageSrc;
                              return A.convertIdToUrl && (y = A.convertIdToUrl(y)), Tu.createElement("image", { key: i, preserveAspectRatio: "none", xlinkHref: y, x: u, y: c, width: s, height: l });
                          } else
                              return Tu.createElement("rect", {
                                  strokeDasharray: "5,5",
                                  key: i,
                                  x: u,
                                  y: c,
                                  width: s,
                                  height: l,
                                  style: { stroke: "#EEEEEE", strokeWidth: 3, fill: "#F5F5F5", strokeLinejoin: "round", strokeLinecap: "round" },
                              });
                      }),
                      (t = GS([Rs.register.defineReact(Rs.register.htmlGraphicsEngine, lf.ImageShape)], t)),
                      t
                  );
              })(Tu.Component);
              Qt.ImageShapeComponent = VS;
          });
          var hf = C(function (qt) {
              "use strict";
              var IS =
                      (qt && qt.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  XS =
                      (qt && qt.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  kS =
                      (qt && qt.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  NS =
                      (qt && qt.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  HS =
                      (qt && qt.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && XS(t, n, e);
                          return kS(t, n), t;
                      };
              Object.defineProperty(qt, "__esModule", { value: !0 });
              qt.RectangleShapeComponent = void 0;
              var cf = HS(require("react")),
                  DS = require("akko"),
                  pf = pe(),
                  xs = ge(),
                  YS = Mr();
              xs.register.defineReact(xs.register.componentEngine, pf.RectangleShape)(YS.createEditableComponent());
              var FS = (function (n) {
                  IS(t, n);
                  function t() {
                      return (n !== null && n.apply(this, arguments)) || this;
                  }
                  return (
                      (t.prototype.render = function () {
                          var e = this.props,
                              r = e.id,
                              i = e.payload;
                          if (!DS.isAkkoWrappedObjectAccessible(i)) return null;
                          var A = i.state,
                              a = A.strokeColor,
                              o = A.strokeWidth,
                              s = A.fillColor,
                              l = this.props.size,
                              u = l.width,
                              c = l.height,
                              p = a[0],
                              h = a[1],
                              v = a[2];
                          return cf.createElement("rect", {
                              key: r,
                              x: 0,
                              y: 0,
                              width: u,
                              height: c,
                              style: { stroke: "rgb(" + p + "," + h + "," + v + ")", fill: s ? "rgb(" + s[0] + "," + s[1] + "," + s[2] + ")" : "none", strokeWidth: o, strokeLinejoin: "round", strokeLinecap: "round" },
                          });
                      }),
                      (t = NS([xs.register.defineReact(xs.register.htmlGraphicsEngine, pf.RectangleShape)], t)),
                      t
                  );
              })(cf.Component);
              qt.RectangleShapeComponent = FS;
          });
          var gf = C(function (Ut) {
              "use strict";
              var zS =
                      (Ut && Ut.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  QS =
                      (Ut && Ut.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  qS =
                      (Ut && Ut.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  US =
                      (Ut && Ut.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  df =
                      (Ut && Ut.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && QS(t, n, e);
                          return qS(t, n), t;
                      };
              Object.defineProperty(Ut, "__esModule", { value: !0 });
              Ut.VectorShapeComponent = void 0;
              var $A = df(require("react")),
                  LS = require("akko"),
                  Mn = pe(),
                  ff = df(WA()),
                  Ms = ge(),
                  JS = Mr(),
                  Ts = 9.6,
                  KS = 6.5;
              Ms.register.defineReact(Ms.register.componentEngine, Mn.VectorShape)(JS.createEditableComponent());
              var $S = (function (n) {
                  zS(t, n);
                  function t() {
                      return (n !== null && n.apply(this, arguments)) || this;
                  }
                  return (
                      (t.prototype.distance = function (e, r, i, A) {
                          var a = e - i,
                              o = r - A;
                          return Math.sqrt(a * a + o * o);
                      }),
                      (t.prototype.renderArrowPoints = function (e, r, i, A) {
                          var a = [],
                              o = ff.verticalVector(e),
                              s = Ts * A,
                              l = (KS * A) / 2;
                          return (
                              a.push("" + (r + e.x * A), ",", "" + (i + e.y * A)),
                              a.push("" + (r - e.x * s - o.x * l), ",", "" + (i - e.y * s - o.y * l)),
                              a.push("" + (r - e.x * s + o.x * l), ",", "" + (i - e.y * s + o.y * l)),
                              a.join(" ")
                          );
                      }),
                      (t.prototype.render = function () {
                          var e = this.props,
                              r = e.id,
                              i = e.payload;
                          if (!LS.isAkkoWrappedObjectAccessible(i)) return null;
                          var A = i.state,
                              a = A.strokeColor,
                              o = A.strokeWidth,
                              s = this.props.size,
                              l = s.width,
                              u = s.height,
                              c = a[0],
                              p = a[1],
                              h = a[2],
                              v = o / 2,
                              y = v,
                              _ = v,
                              B = v,
                              S = v;
                          switch (i.direction) {
                              case Mn.VectorDirection.ToLeftTop: {
                                  (y += l), (_ += u);
                                  break;
                              }
                              case Mn.VectorDirection.ToRightTop: {
                                  (_ += u), (B += l);
                                  break;
                              }
                              case Mn.VectorDirection.ToLeftBottom: {
                                  (y += l), (S += u);
                                  break;
                              }
                              case Mn.VectorDirection.ToRightBottom: {
                                  (B += l), (S += u);
                                  break;
                              }
                          }
                          var M = null,
                              E = null;
                          switch (i.kind) {
                              case Mn.VectorKind.Straight: {
                                  M = $A.createElement("path", {
                                      key: r,
                                      d: "M " + y + " " + _ + " L " + B + " " + S,
                                      style: { stroke: "rgb(" + c + "," + p + "," + h + ")", strokeWidth: o, fill: "none", strokeLinejoin: "round", strokeLinecap: "round" },
                                  });
                                  break;
                              }
                              case Mn.VectorKind.Arrow: {
                                  var W = this.distance(y, _, B, S),
                                      Z = v,
                                      z = !0;
                                  W < Ts * Z && ((Z = W / Ts), (z = !1));
                                  var Se = ff.unitVector({ x: B - y, y: S - _ });
                                  if (z) {
                                      var le = 2,
                                          Ve = Ts * Z - le,
                                          Qe = B - Se.x * Ve,
                                          hr = S - Se.y * Ve;
                                      M = $A.createElement("path", {
                                          key: r,
                                          d: "M " + y + " " + _ + " L " + Qe + " " + hr,
                                          style: { stroke: "rgb(" + c + "," + p + "," + h + ")", strokeWidth: o, fill: "none", strokeLinejoin: "bevel", strokeLinecap: "butt" },
                                      });
                                  }
                                  E = $A.createElement("polygon", { points: this.renderArrowPoints(Se, B, S, Z), style: { fill: "rgb(" + c + "," + p + "," + h + ")", strokeWidth: 0 } });
                                  break;
                              }
                          }
                          return $A.createElement($A.Fragment, null, M, E);
                      }),
                      (t = US([Ms.register.defineReact(Ms.register.htmlGraphicsEngine, Mn.VectorShape)], t)),
                      t
                  );
              })($A.Component);
              Ut.VectorShapeComponent = $S;
          });
          var vf = C(function (hi) {
              "use strict";
              var eC =
                      (hi && hi.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  tC =
                      (hi && hi.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  rC =
                      (hi && hi.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && eC(t, n, e);
                          return tC(t, n), t;
                      };
              Object.defineProperty(hi, "__esModule", { value: !0 });
              hi.triangleSvg = void 0;
              var iC = rC(require("react")),
                  nC = function (n) {
                      var t = n.payload,
                          e = t.strokeColor,
                          r = t.strokeWidth,
                          i = t.fillColor,
                          A = t.hitTestingBoxMargin,
                          a = n.size,
                          o = a.width,
                          s = a.height,
                          l = e[0],
                          u = e[1],
                          c = e[2],
                          p = A * 2,
                          h = (o + p) / 2,
                          v = h + "," + A + " " + A + "," + s + ", " + (o - A) + "," + s;
                      return iC.createElement("polygon", {
                          key: n.id,
                          x: 0,
                          y: 0,
                          width: o,
                          height: s,
                          points: v,
                          style: { stroke: "rgb(" + l + "," + u + "," + c + ")", fill: i ? "rgb(" + i[0] + "," + i[1] + "," + i[2] + ")" : "none", strokeWidth: r },
                      });
                  };
              hi.triangleSvg = nC;
          });
          var mf = C(function (di) {
              "use strict";
              var AC =
                      (di && di.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  aC =
                      (di && di.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  oC =
                      (di && di.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && AC(t, n, e);
                          return aC(t, n), t;
                      };
              Object.defineProperty(di, "__esModule", { value: !0 });
              di.rhombusSvg = void 0;
              var sC = oC(require("react")),
                  lC = function (n) {
                      var t = n.payload,
                          e = t.strokeColor,
                          r = t.strokeWidth,
                          i = t.fillColor,
                          A = t.hitTestingBoxMargin,
                          a = n.size,
                          o = a.width,
                          s = a.height,
                          l = e[0],
                          u = e[1],
                          c = e[2],
                          p = s - A,
                          h = o - A,
                          v = o / 2,
                          y = s / 2;
                      return sC.createElement("polygon", {
                          key: n.id,
                          x: 0,
                          y: 0,
                          width: o,
                          height: s,
                          points: v + "," + A + " " + A + "," + y + ", " + v + "," + p + " " + h + "," + y,
                          style: { stroke: "rgb(" + l + "," + u + "," + c + ")", fill: i ? "rgb(" + i[0] + "," + i[1] + "," + i[2] + ")" : "none", strokeWidth: r },
                      });
                  };
              di.rhombusSvg = lC;
          });
          var bf = C(function (fi) {
              "use strict";
              var uC =
                      (fi && fi.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  cC =
                      (fi && fi.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  pC =
                      (fi && fi.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && uC(t, n, e);
                          return cC(t, n), t;
                      };
              Object.defineProperty(fi, "__esModule", { value: !0 });
              fi.pentagramSvg = void 0;
              var hC = pC(require("react")),
                  yf = ko(),
                  dC = function (n) {
                      for (var t = n.size, e = t.width, r = t.height, i = n.payload, A = i.strokeColor, a = i.strokeWidth, o = i.fillColor, s = A[0], l = A[1], u = A[2], c = [], p = 0; p < yf.unitPentagramPoints.length; p++) {
                          var h = yf.unitPentagramPoints[p],
                              v = h.x,
                              y = h.y;
                          c.push(v * e + "," + y * r);
                      }
                      return hC.createElement("polygon", {
                          key: n.id,
                          x: 0,
                          y: 0,
                          width: e,
                          height: r,
                          points: c.join(" "),
                          style: { stroke: "rgb(" + s + "," + l + "," + u + ")", fill: o ? "rgb(" + o[0] + "," + o[1] + "," + o[2] + ")" : "none", strokeWidth: a },
                      });
                  };
              fi.pentagramSvg = dC;
          });
          var Pf = C(function (gi) {
              "use strict";
              var fC =
                      (gi && gi.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  gC =
                      (gi && gi.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  vC =
                      (gi && gi.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && fC(t, n, e);
                          return gC(t, n), t;
                      };
              Object.defineProperty(gi, "__esModule", { value: !0 });
              gi.speechBalloonSvg = void 0;
              var mC = vC(require("react")),
                  Os = Do(),
                  yC = function (n) {
                      var t = n.size,
                          e = t.width,
                          r = t.height,
                          i = n.payload,
                          A = i.strokeColor,
                          a = i.strokeWidth,
                          o = i.fillColor,
                          s = A[0],
                          l = A[1],
                          u = A[2],
                          c = [],
                          p = function (Z) {
                              return Z.x + "," + Z.y;
                          },
                          h = (r / 100) * 80,
                          v = (e / 100) * 10,
                          y = e - v,
                          _ = (h / 100) * 10,
                          B = h - _,
                          S = v * 2,
                          M = S * 2,
                          E = M - S;
                      c.push(p({ x: v, y: 0 })), c.push(p({ x: y, y: 0 }));
                      {
                          var W = Os.getBezierPoints(40, { x: y, y: 0 }, { x: e, y: _ }, { x: e, y: 0 });
                          W.forEach(function (Z) {
                              c.push(p(Z));
                          });
                      }
                      c.push(p({ x: e, y: B }));
                      {
                          var W = Os.getBezierPoints(40, { x: e, y: B }, { x: y, y: h }, { x: e, y: h });
                          W.forEach(function (z) {
                              c.push(p(z));
                          });
                      }
                      c.push(p({ x: M, y: h })), c.push(p({ x: S + (E / 100) * 20, y: r })), c.push(p({ x: S, y: h })), c.push(p({ x: v, y: h }));
                      {
                          var W = Os.getBezierPoints(40, { x: v, y: h }, { x: 0, y: B }, { x: 0, y: h });
                          W.forEach(function (z) {
                              c.push(p(z));
                          });
                      }
                      c.push(p({ x: 0, y: _ }));
                      {
                          var W = Os.getBezierPoints(40, { x: 0, y: _ }, { x: v, y: 0 }, { x: 0, y: 0 });
                          W.forEach(function (z) {
                              c.push(p(z));
                          });
                      }
                      return mC.createElement("polygon", {
                          key: n.id,
                          x: 0,
                          y: 0,
                          width: e,
                          height: r,
                          points: c.join(" "),
                          style: { stroke: "rgb(" + s + "," + l + "," + u + ")", fill: o ? "rgb(" + o[0] + "," + o[1] + "," + o[2] + ")" : "none", strokeWidth: a },
                      });
                  };
              gi.speechBalloonSvg = yC;
          });
          var Cf = C(function (Lt) {
              "use strict";
              var bC =
                      (Lt && Lt.__extends) ||
                      (function () {
                          var n = function (t, e) {
                              return (
                                  (n =
                                      Object.setPrototypeOf ||
                                      ({ __proto__: [] } instanceof Array &&
                                          function (r, i) {
                                              r.__proto__ = i;
                                          }) ||
                                      function (r, i) {
                                          for (var A in i) Object.prototype.hasOwnProperty.call(i, A) && (r[A] = i[A]);
                                      }),
                                  n(t, e)
                              );
                          };
                          return function (t, e) {
                              if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
                              n(t, e);
                              function r() {
                                  this.constructor = t;
                              }
                              t.prototype = e === null ? Object.create(e) : ((r.prototype = e.prototype), new r());
                          };
                      })(),
                  PC =
                      (Lt && Lt.__createBinding) ||
                      (Object.create
                          ? function (n, t, e, r) {
                                r === void 0 && (r = e),
                                    Object.defineProperty(n, r, {
                                        enumerable: !0,
                                        get: function () {
                                            return t[e];
                                        },
                                    });
                            }
                          : function (n, t, e, r) {
                                r === void 0 && (r = e), (n[r] = t[e]);
                            }),
                  _C =
                      (Lt && Lt.__setModuleDefault) ||
                      (Object.create
                          ? function (n, t) {
                                Object.defineProperty(n, "default", { enumerable: !0, value: t });
                            }
                          : function (n, t) {
                                n.default = t;
                            }),
                  SC =
                      (Lt && Lt.__decorate) ||
                      function (n, t, e, r) {
                          var i = arguments.length,
                              A = i < 3 ? t : r === null ? (r = Object.getOwnPropertyDescriptor(t, e)) : r,
                              a;
                          if (typeof Reflect == "object" && typeof Reflect.decorate == "function") A = Reflect.decorate(n, t, e, r);
                          else for (var o = n.length - 1; o >= 0; o--) (a = n[o]) && (A = (i < 3 ? a(A) : i > 3 ? a(t, e, A) : a(t, e)) || A);
                          return i > 3 && A && Object.defineProperty(t, e, A), A;
                      },
                  CC =
                      (Lt && Lt.__importStar) ||
                      function (n) {
                          if (n && n.__esModule) return n;
                          var t = {};
                          if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && PC(t, n, e);
                          return _C(t, n), t;
                      };
              Object.defineProperty(Lt, "__esModule", { value: !0 });
              Lt.EllipseShapeComponent = void 0;
              var BC = CC(require("react")),
                  wC = require("akko"),
                  _f = pe(),
                  Es = ge(),
                  Gs = Ga(),
                  RC = Mr(),
                  Sf = vf(),
                  xC = mf(),
                  MC = bf(),
                  TC = Pf();
              Es.register.defineReact(Es.register.componentEngine, _f.Shape)(RC.createEditableComponent());
              var OC = (function (n) {
                  bC(t, n);
                  function t() {
                      return (n !== null && n.apply(this, arguments)) || this;
                  }
                  return (
                      (t.prototype.render = function () {
                          var e = this.props.payload;
                          if (!wC.isAkkoWrappedObjectAccessible(e)) return null;
                          switch (e.shapeType) {
                              case Gs.ShapeType.Triangle:
                                  return Sf.triangleSvg(this.props);
                              case Gs.ShapeType.Rhombus:
                                  return xC.rhombusSvg(this.props);
                              case Gs.ShapeType.Pentagram:
                                  return MC.pentagramSvg(this.props);
                              case Gs.ShapeType.SpeechBalloon:
                                  return TC.speechBalloonSvg(this.props);
                              default:
                                  return Sf.triangleSvg(this.props);
                          }
                      }),
                      (t = SC([Es.register.defineReact(Es.register.htmlGraphicsEngine, _f.Shape)], t)),
                      t
                  );
              })(BC.Component);
              Lt.EllipseShapeComponent = OC;
          });
          var Bf = C(function (ea) {
              "use strict";
              var EC =
                  (ea && ea.__spreadArray) ||
                  function (n, t) {
                      for (var e = 0, r = t.length, i = n.length; e < r; e++, i++) n[i] = t[e];
                      return n;
                  };
              Object.defineProperty(ea, "__esModule", { value: !0 });
              ea.EnginesHub = void 0;
              var GC = require("akko"),
                  Ou = ge(),
                  jC = (function () {
                      function n(t) {
                          this.engines = Ou.register;
                          for (var e = {}, r = Ou.register.engines(t), i = 0, A = n.getDefinitions(); i < A.length; i++) {
                              var a = A[i],
                                  o = GC.findClassId(a.payloadType);
                              e[o] = a;
                          }
                          (this.definitions = Object.freeze(e)), (this.enginesList = Object.freeze(EC([], r)));
                      }
                      return (
                          (n.getDefinitions = function () {
                              return this.definitionsList || (this.definitionsList = Ou.register.complete()), this.definitionsList;
                          }),
                          (n.prototype.findDefinition = function (t) {
                              return this.definitions[t];
                          }),
                          (n.definitionsList = null),
                          n
                      );
                  })();
              ea.EnginesHub = jC;
          });
          var Xa = C(function (pr) {
              "use strict";
              Object.defineProperty(pr, "__esModule", { value: !0 });
              pr.cleanCurveAnimes = pr.floatBarDefinition = pr.EnginesHub = pr.register = pr.imagePreloader = void 0;
              Zs();
              uh();
              hh();
              fh();
              mh();
              Ch();
              Xh();
              Mr();
              Yh();
              Lh();
              $h();
              td();
              ad();
              xd();
              Od();
              Wd();
              Id();
              Hd();
              ef();
              rf();
              Af();
              sf();
              uf();
              hf();
              gf();
              Cf();
              var WC = Bu(),
                  ZC = Ru();
              Object.defineProperty(pr, "imagePreloader", {
                  enumerable: !0,
                  get: function () {
                      return ZC.imagePreloader;
                  },
              });
              var VC = ge();
              Object.defineProperty(pr, "register", {
                  enumerable: !0,
                  get: function () {
                      return VC.register;
                  },
              });
              var IC = Bf();
              Object.defineProperty(pr, "EnginesHub", {
                  enumerable: !0,
                  get: function () {
                      return IC.EnginesHub;
                  },
              });
              var XC = Zs();
              Object.defineProperty(pr, "floatBarDefinition", {
                  enumerable: !0,
                  get: function () {
                      return XC.floatBarDefinition;
                  },
              });
              function kC() {
                  return WC.CurveAnime.cleanAll();
              }
              pr.cleanCurveAnimes = kC;
          });
          ("use strict");
          var NC =
                  (exports && exports.__createBinding) ||
                  (Object.create
                      ? function (n, t, e, r) {
                            r === void 0 && (r = e),
                                Object.defineProperty(n, r, {
                                    enumerable: !0,
                                    get: function () {
                                        return t[e];
                                    },
                                });
                        }
                      : function (n, t, e, r) {
                            r === void 0 && (r = e), (n[r] = t[e]);
                        }),
              HC =
                  (exports && exports.__setModuleDefault) ||
                  (Object.create
                      ? function (n, t) {
                            Object.defineProperty(n, "default", { enumerable: !0, value: t });
                        }
                      : function (n, t) {
                            n.default = t;
                        }),
              DC =
                  (exports && exports.__importStar) ||
                  function (n) {
                      if (n && n.__esModule) return n;
                      var t = {};
                      if (n != null) for (var e in n) e !== "default" && Object.prototype.hasOwnProperty.call(n, e) && NC(t, n, e);
                      return HC(t, n), t;
                  };
          Object.defineProperty(exports, "__esModule", { value: !0 });
          exports.WhiteLayouts = exports.RenderEngine = exports.createLayoutDescriptions = exports.createDynamicPpt = exports.PluginManager = exports.EnginesHub = exports.cleanCurveAnimes = exports.imagePreloader = exports.WhiteboardRender = exports.BezierCurvePainter = exports.getBoundingRect = exports.screenshotToCanvas = exports.screenshot = exports.WhiteModel = void 0;
          Xa();
          var YC = DC(pe());
          exports.WhiteModel = YC;
          var Ha = Cu();
          Object.defineProperty(exports, "screenshot", {
              enumerable: !0,
              get: function () {
                  return Ha.screenshot;
              },
          });
          Object.defineProperty(exports, "screenshotToCanvas", {
              enumerable: !0,
              get: function () {
                  return Ha.screenshotToCanvas;
              },
          });
          Object.defineProperty(exports, "getBoundingRect", {
              enumerable: !0,
              get: function () {
                  return Ha.getBoundingRect;
              },
          });
          Object.defineProperty(exports, "BezierCurvePainter", {
              enumerable: !0,
              get: function () {
                  return Ha.BezierCurvePainter;
              },
          });
          Object.defineProperty(exports, "WhiteboardRender", {
              enumerable: !0,
              get: function () {
                  return Ha.WhiteboardRender;
              },
          });
          var Eu = Xa();
          Object.defineProperty(exports, "imagePreloader", {
              enumerable: !0,
              get: function () {
                  return Eu.imagePreloader;
              },
          });
          Object.defineProperty(exports, "cleanCurveAnimes", {
              enumerable: !0,
              get: function () {
                  return Eu.cleanCurveAnimes;
              },
          });
          Object.defineProperty(exports, "EnginesHub", {
              enumerable: !0,
              get: function () {
                  return Eu.EnginesHub;
              },
          });
          var FC = au();
          Object.defineProperty(exports, "PluginManager", {
              enumerable: !0,
              get: function () {
                  return FC.PluginManager;
              },
          });
          var zC = Jo();
          Object.defineProperty(exports, "createDynamicPpt", {
              enumerable: !0,
              get: function () {
                  return zC.createDynamicPpt;
              },
          });
          var Gu = Ga();
          Object.defineProperty(exports, "createLayoutDescriptions", {
              enumerable: !0,
              get: function () {
                  return Gu.createLayoutDescriptions;
              },
          });
          Object.defineProperty(exports, "RenderEngine", {
              enumerable: !0,
              get: function () {
                  return Gu.RenderEngine;
              },
          });
          Object.defineProperty(exports, "WhiteLayouts", {
              enumerable: !0,
              get: function () {
                  return Gu.WhiteLayouts;
              },
          });
      })();
      loader(id, { "white-model": module.exports.WhiteModel, "white-render": module.exports });
  } catch (e) {
      loader(id, undefined, e);
  }
})(window && window.__netlessJavaScriptLoader);
